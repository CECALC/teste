var nt=Object.defineProperty;var it=(e,o,a)=>o in e?nt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var Eo=(e,o,a)=>(it(e,typeof o!="symbol"?o+"":o,a),a);import{a as lt,b as na,c as To,h as rt,d as st,u as ct,e as ut,f as Ia,t as dt,g as Pe,i as Oe,L as mt,A as ft,j as pt,k as he,C as ee,v as vt,E as Co,S as g,G as oo,F as Po,l as gt,m as Bo,o as ht,n as bt,p as jo,q as _t,r as $e,D as Uo,s as Ct,w as Qo,x as yt,y as xt,z as $t,P as Dt,M as At,B as It,H as wt,T as Ft,I as wa,J as St,K as kt,N as Et,O as Tt,Q as Ot,R as Pt,U as Vt,V as qt,W as Mt,X as Nt,_ as zt}from"./CecalcPrincipal.vue.bf49e378.js";import{A as no,B as Fa,C as io,D as Sa,c as R,e as ne,E as Ko,b as Ho,T as Lt,F as Rt,G as ka,H as Bt,I as jt,r as P,J as ia,K as Ut,L as Me,M as Vo,N as je,O as Qt,P as yo,Q as mo,R as Kt,S as Ht,U as Gt,V as Yt,W as Jt,X as Wt,Y as Xt,Z as Zt,$ as la,a0 as Ea,a1 as en,a2 as on,a3 as an,a4 as tn,a5 as nn,a6 as ln,o as lo,a7 as rn,a8 as pe,a9 as sn,aa as cn,d as le,k as I,z as ie,ab as m,ac as Ge,ad as ce,ae,l as N,af as me,ag as Ae,ah as un,q as k,ai as dn,aj as mn,s as K,m as x,t as Y,ak as ao,al as fn,am as xo,an as Ta,ao as Oa,ap as pn,aq as vn,_ as Ye,ar as gn,as as hn,at as Te,au as bn,av as ra,aw as _n,ax as Cn,ay as yn,az as xn,aA as $n,x as Pa,y as Va,aB as Je,aC as ze,aD as Dn,aE as fo,aF as An,aG as In,aH as $o,aI as wn,aJ as Fn,aK as sa,aL as Sn,j as kn,aM as En,aN as Tn,aO as On,aP as Pn,aQ as Vn,aR as qn}from"./entry.da125a72.js";const Mn=no({name:"QBar",props:{...Fa,dense:Boolean},setup(e,{slots:o}){const{proxy:{$q:a}}=io(),t=Sa(e,a),n=R(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${t.value===!0?"dark":"light"}`);return()=>ne("div",{class:n.value,role:"toolbar"},Ko(o.default))}}),Nn=no({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:a}){let t=!1,n,i,r=null,c=null,s,l;function h(){n&&n(),n=null,t=!1,r!==null&&(clearTimeout(r),r=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",s),s=null}function y(u,v,T){v!==void 0&&(u.style.height=`${v}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,n=T}function _(u,v){u.style.overflowY=null,u.style.height=null,u.style.transition=null,h(),v!==l&&a(v)}function b(u,v){let T=0;i=u,t===!0?(h(),T=u.offsetHeight===u.scrollHeight?0:void 0):(l="hide",u.style.overflowY="hidden"),y(u,T,v),r=setTimeout(()=>{r=null,u.style.height=`${u.scrollHeight}px`,s=f=>{c=null,(Object(f)!==f||f.target===u)&&_(u,"show")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}function D(u,v){let T;i=u,t===!0?h():(l="show",u.style.overflowY="hidden",T=u.scrollHeight),y(u,T,v),r=setTimeout(()=>{r=null,u.style.height=0,s=f=>{c=null,(Object(f)!==f||f.target===u)&&_(u,"hide")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}return Ho(()=>{t===!0&&h()}),()=>ne(Lt,{css:!1,appear:e.appear,onEnter:b,onLeave:D},o.default)}}),Ke=Rt({}),zn=Object.keys(ka),Ln=no({name:"QExpansionItem",props:{...ka,...Bt,...Fa,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...jt,"click","afterShow","afterHide"],setup(e,{slots:o,emit:a}){const{proxy:{$q:t}}=io(),n=Sa(e,t),i=P(e.modelValue!==null?e.modelValue:e.defaultOpened),r=P(null),c=ia(),{show:s,hide:l,toggle:h}=Ut({showing:i});let y,_;const b=R(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),D=R(()=>e.contentInsetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),u=R(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),v=R(()=>{const w={};return zn.forEach(X=>{w[X]=e[X]}),w}),T=R(()=>u.value===!0||e.expandIconToggle!==!0),f=R(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||t.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),$=R(()=>e.disable!==!0&&(u.value===!0||e.expandIconToggle===!0)),E=R(()=>({expanded:i.value===!0,detailsId:e.targetUid,toggle:h,show:s,hide:l})),V=R(()=>{const w=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:t.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c,"aria-label":w}});Me(()=>e.group,w=>{_!==void 0&&_(),w!==void 0&&ue()});function O(w){u.value!==!0&&h(w),a("click",w)}function L(w){w.keyCode===13&&W(w,!0)}function W(w,X){X!==!0&&r.value!==null&&r.value.focus(),h(w),mo(w)}function B(){a("afterShow")}function J(){a("afterHide")}function ue(){y===void 0&&(y=ia()),i.value===!0&&(Ke[e.group]=y);const w=Me(i,fe=>{fe===!0?Ke[e.group]=y:Ke[e.group]===y&&delete Ke[e.group]}),X=Me(()=>Ke[e.group],(fe,Fe)=>{Fe===y&&fe!==void 0&&fe!==y&&l()});_=()=>{w(),X(),Ke[e.group]===y&&delete Ke[e.group],_=void 0}}function xe(){const w={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},X=[ne(yo,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:f.value})];return $.value===!0&&(Object.assign(w,{tabindex:0,...V.value,onClick:W,onKeyup:L}),X.unshift(ne("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ne(To,w,()=>X)}function De(){let w;return o.header!==void 0?w=[].concat(o.header(E.value)):(w=[ne(To,()=>[ne(na,{lines:e.labelLines},()=>e.label||""),e.caption?ne(na,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&w[e.switchToggleSide===!0?"push":"unshift"](ne(To,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>ne(yo,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&w[e.switchToggleSide===!0?"unshift":"push"](xe()),w}function _e(){const w={ref:"item",style:e.headerStyle,class:e.headerClass,dark:n.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return T.value===!0&&(w.clickable=!0,w.onClick=O,Object.assign(w,u.value===!0?v.value:V.value)),ne(lt,w,De)}function Se(){return je(ne("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:D.value,id:c},Ko(o.default)),[[Qt,i.value]])}function ke(){const w=[_e(),ne(Nn,{duration:e.duration,onShow:B,onHide:J},Se)];return e.expandSeparator===!0&&w.push(ne(Vo,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:n.value}),ne(Vo,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:n.value})),w}return e.group!==void 0&&ue(),Ho(()=>{_!==void 0&&_()}),()=>ne("div",{class:b.value},[ne("div",{class:"q-expansion-item__container relative-position"},ke())])}});function eo(e,o,a,t){const n=[];return e.forEach(i=>{t(i)===!0?n.push(i):o.push({failedPropValidation:a,file:i})}),n}function bo(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),mo(e)}const Rn={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Bn=["rejected"];function jn({editable:e,dnd:o,getFileInput:a,addFilesToQueue:t}){const{props:n,emit:i,proxy:r}=io(),c=P(null),s=R(()=>n.accept!==void 0?n.accept.split(",").map(f=>(f=f.trim(),f==="*"?"*/":(f.endsWith("/*")&&(f=f.slice(0,f.length-1)),f.toUpperCase()))):null),l=R(()=>parseInt(n.maxFiles,10)),h=R(()=>parseInt(n.maxTotalSize,10));function y(f){if(e.value)if(f!==Object(f)&&(f={target:null}),f.target!==null&&f.target.matches('input[type="file"]')===!0)f.clientX===0&&f.clientY===0&&Kt(f);else{const $=a();$&&$!==f.target&&$.click(f)}}function _(f){e.value&&f&&t(null,f)}function b(f,$,E,V){let O=Array.from($||f.target.files);const L=[],W=()=>{L.length!==0&&i("rejected",L)};if(n.accept!==void 0&&s.value.indexOf("*/")===-1&&(O=eo(O,L,"accept",B=>s.value.some(J=>B.type.toUpperCase().startsWith(J)||B.name.toUpperCase().endsWith(J))),O.length===0))return W();if(n.maxFileSize!==void 0){const B=parseInt(n.maxFileSize,10);if(O=eo(O,L,"max-file-size",J=>J.size<=B),O.length===0)return W()}if(n.multiple!==!0&&O.length!==0&&(O=[O[0]]),O.forEach(B=>{B.__key=B.webkitRelativePath+B.lastModified+B.name+B.size}),V===!0){const B=E.map(J=>J.__key);O=eo(O,L,"duplicate",J=>B.includes(J.__key)===!1)}if(O.length===0)return W();if(n.maxTotalSize!==void 0){let B=V===!0?E.reduce((J,ue)=>J+ue.size,0):0;if(O=eo(O,L,"max-total-size",J=>(B+=J.size,B<=h.value)),O.length===0)return W()}if(typeof n.filter=="function"){const B=n.filter(O);O=eo(O,L,"filter",J=>B.includes(J))}if(n.maxFiles!==void 0){let B=V===!0?E.length:0;if(O=eo(O,L,"max-files",()=>(B++,B<=l.value)),O.length===0)return W()}if(W(),O.length!==0)return O}function D(f){bo(f),o.value!==!0&&(o.value=!0)}function u(f){mo(f),(f.relatedTarget!==null||Ht.is.safari!==!0?f.relatedTarget!==c.value:document.elementsFromPoint(f.clientX,f.clientY).includes(c.value)===!1)===!0&&(o.value=!1)}function v(f){bo(f);const $=f.dataTransfer.files;$.length!==0&&t(null,$),o.value=!1}function T(f){if(o.value===!0)return ne("div",{ref:c,class:`q-${f}__dnd absolute-full`,onDragenter:bo,onDragover:bo,onDragleave:u,onDrop:v})}return Object.assign(r,{pickFiles:y,addFiles:_}),{pickFiles:y,addFiles:_,onDragover:D,onDragleave:u,processFiles:b,getDndNode:T,maxFilesNumber:l,maxTotalSizeNumber:h}}const Un=no({name:"QFile",inheritAttrs:!1,props:{...Gt,...Yt,...Rn,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Jt,...Bn],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=io(),i=Wt(),r=P(null),c=P(!1),s=Xt(e),{pickFiles:l,onDragover:h,onDragleave:y,processFiles:_,getDndNode:b}=jn({editable:i.editable,dnd:c,getFileInput:xe,addFilesToQueue:De}),D=Zt(e),u=R(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),v=R(()=>la(u.value)),T=R(()=>u.value.map(w=>w.name).join(", ")),f=R(()=>rt(u.value.reduce((w,X)=>w+X.size,0))),$=R(()=>({totalSize:f.value,filesNumber:u.value.length,maxFiles:e.maxFiles})),E=R(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...t,id:i.targetUid.value,disabled:i.editable.value!==!0})),V=R(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),O=R(()=>e.multiple===!0&&e.append===!0);function L(w){const X=u.value.slice();X.splice(w,1),B(X)}function W(w){const X=u.value.indexOf(w);X>-1&&L(X)}function B(w){a("update:modelValue",e.multiple===!0?w:w[0])}function J(w){w.keyCode===13&&on(w)}function ue(w){(w.keyCode===13||w.keyCode===32)&&l(w)}function xe(){return r.value}function De(w,X){const fe=_(w,X,u.value,O.value),Fe=xe();Fe!=null&&(Fe.value=""),fe!==void 0&&((e.multiple===!0?e.modelValue&&fe.every(Re=>u.value.includes(Re)):e.modelValue===fe[0])||B(O.value===!0?u.value.concat(fe):fe))}function _e(){return[ne("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function Se(){if(o.file!==void 0)return u.value.length===0?_e():u.value.map((X,fe)=>o.file({index:fe,file:X,ref:this}));if(o.selected!==void 0)return u.value.length===0?_e():o.selected({files:u.value,ref:this});if(e.useChips===!0)return u.value.length===0?_e():u.value.map((X,fe)=>ne(st,{key:"file-"+fe,removable:i.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{L(fe)}},()=>ne("span",{class:"ellipsis",textContent:X.name})));const w=e.displayValue!==void 0?e.displayValue:T.value;return w.length!==0?[ne("div",{class:e.inputClass,style:e.inputStyle,textContent:w})]:_e()}function ke(){const w={ref:r,...E.value,...D.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:De};return e.multiple===!0&&(w.multiple=!0),ne("input",w)}return Object.assign(i,{fieldClass:V,emitValue:B,hasValue:v,inputRef:r,innerValue:u,floatingLabel:R(()=>v.value===!0||la(e.displayValue)),computedCounter:R(()=>{if(e.counterLabel!==void 0)return e.counterLabel($.value);const w=e.maxFiles;return`${u.value.length}${w!==void 0?" / "+w:""} (${f.value})`}),getControlChild:()=>b("file"),getControl:()=>{const w={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return i.editable.value===!0&&Object.assign(w,{onDragover:h,onDragleave:y,onKeydown:J,onKeyup:ue}),ne("div",w,[ke()].concat(Se()))}}),Object.assign(n,{removeAtIndex:L,removeFile:W,getNativeElement:()=>r.value}),Ea(n,"nativeEl",()=>r.value),en(i)}}),Qn=no({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const t=io(),n=P(null);let i=0;const r=[];function c(b){const D=typeof b=="boolean"?b:e.noErrorFocus!==!0,u=++i,v=($,E)=>{a("validation"+($===!0?"Success":"Error"),E)},T=$=>{const E=$.validate();return typeof E.then=="function"?E.then(V=>({valid:V,comp:$}),V=>({valid:!1,comp:$,err:V})):Promise.resolve({valid:E,comp:$})};return(e.greedy===!0?Promise.all(r.map(T)).then($=>$.filter(E=>E.valid!==!0)):r.reduce(($,E)=>$.then(()=>T(E).then(V=>{if(V.valid===!1)return Promise.reject(V)})),Promise.resolve()).catch($=>[$])).then($=>{if($===void 0||$.length===0)return u===i&&v(!0),!0;if(u===i){const{comp:E,err:V}=$[0];if(V!==void 0&&console.error(V),v(!1,E),D===!0){const O=$.find(({comp:L})=>typeof L.focus=="function"&&rn(L.$)===!1);O!==void 0&&O.comp.focus()}}return!1})}function s(){i++,r.forEach(b=>{typeof b.resetValidation=="function"&&b.resetValidation()})}function l(b){b!==void 0&&mo(b);const D=i+1;c().then(u=>{D===i&&u===!0&&(e.onSubmit!==void 0?a("submit",b):b!==void 0&&b.target!==void 0&&typeof b.target.submit=="function"&&b.target.submit())})}function h(b){b!==void 0&&mo(b),a("reset"),pe(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){sn(()=>{if(n.value===null)return;const b=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),D=>D.tabIndex>-1);b!=null&&b.focus({preventScroll:!0})})}an(tn,{bindComponent(b){r.push(b)},unbindComponent(b){const D=r.indexOf(b);D>-1&&r.splice(D,1)}});let _=!1;return nn(()=>{_=!0}),ln(()=>{_===!0&&e.autofocus===!0&&y()}),lo(()=>{e.autofocus===!0&&y()}),Object.assign(t.proxy,{validate:c,resetValidation:s,submit:l,reset:h,focus:y,getValidationComponents:()=>r}),()=>ne("form",{class:"q-form",ref:n,onSubmit:l,onReset:h},Ko(o.default))}}),Kn=no({name:"QPopupProxy",props:{...ct,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=io(),{$q:i}=n,r=P(!1),c=P(null),s=R(()=>parseInt(e.breakpoint,10)),{canShow:l}=ut({showing:r});function h(){return i.screen.width<s.value||i.screen.height<s.value?"dialog":"menu"}const y=P(h()),_=R(()=>y.value==="menu"?{maxHeight:"99vh"}:{});Me(()=>h(),u=>{r.value!==!0&&(y.value=u)});function b(u){r.value=!0,a("show",u)}function D(u){r.value=!1,y.value=h(),a("hide",u)}return Object.assign(n,{show(u){l(u)===!0&&c.value.show(u)},hide(u){c.value.hide(u)},toggle(u){c.value.toggle(u)}}),Ea(n,"currentComponent",()=>({type:y.value,ref:c.value})),()=>{const u={ref:c,..._.value,...t,onShow:b,onHide:D};let v;return y.value==="dialog"?v=cn:(v=Ia,Object.assign(u,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),ne(v,u,o.default)}}});function ca(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Hn(e,o,a={}){const{mimeType:t,byteOrderMark:n,encoding:i}=typeof a=="string"?{mimeType:a}:a,r=i!==void 0?new TextEncoder(i).encode([o]):o,c=n!==void 0?[n,r]:[r],s=new Blob(c,{type:t||"application/octet-stream"}),l=document.createElement("a");l.href=window.URL.createObjectURL(s),l.setAttribute("download",e),typeof l.download>"u"&&l.setAttribute("target","_blank"),l.classList.add("hidden"),l.style.position="fixed",document.body.appendChild(l);try{return l.click(),ca(l),!0}catch(h){return ca(l),h}}function ua(e){return dt(e)==="function"}function qa(e){const o=e.replace(/[.-]/g,"");if(o.length<20)return!1;const a=o.slice(0,7),t=o.slice(7,9),n=o.slice(9,13),i=o.slice(13,14),r=o.slice(14,16),c=o.slice(16,20),h=+`${+`${Number(a)%97}${n}${i}${r}`%97}${c}00`%97;return Number(t)===98-h}function Ma(e,o="cpf"){const a=Gn(e,o);if(Array.isArray(a)){const t=Yn(a.length);if(Array.isArray(t)){const n=a.slice(0,-2),[i,r]=a.slice(-2);return da(n,t.slice(1))===i&&da(n.concat(i),t)===r}return!1}return!1}function Gn(e,o){if(Pe(e)&&(e=e.toString()),!Oe(e))return!1;e=e.replace(/[^\d]+/g,"");const a=o==="cnpj"?14:11;return e.length!==a||[...Array(a-1).keys()].map(n=>String(n).repeat(a)).includes(e)?!1:e.split("").map(Number)}function Yn(e){const o={cpf:[11,10,9,8,7,6,5,4,3,2],cnpj:[6,5,4,3,2,9,8,7,6,5,4,3,2]};return e===11?o.cpf:e===14?o.cnpj:!1}function da(e,o){return e.map((n,i)=>n*o[i]).reduce((n,i)=>n+=i,0)*10%11%10}function Jn(e){return Ma(e,"cnpj")}function Wn(e){return Ma(e,"cpf")}function Xn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}const Zn=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;function Go(e,o){return typeof o=="string"&&Zn.test(o)?new Date(o):o}function ei(e,o=0){const a=e.toString(),[t,n]=a.split(".");if(!Number(n)||n.length===o||o<0)return e;if(o===0&&Number(t)===0)return 0;if(o===0)return Number(t);const i=(n+Array(o).join("0")).slice(0,o);return+`${t}.${i}`}function ma(e){if(!Oe(e))throw new Error("A função aceita somente strings!");return e.replace(/[áàãâä]/g,"a").replace(/[ÁÀÃÂÄ]/g,"A").replace(/[éèêë]/g,"e").replace(/[ÉÈÊË]/g,"E").replace(/[íìîï]/g,"i").replace(/[ÍÌÎÏ]/g,"I").replace(/[óòôõö]/g,"o").replace(/[ÓÒÔÖÕ]/g,"O").replace(/[úùüû]/g,"u").replace(/[ÚÙÜÛ]/g,"U").replace(/[ýÿ]/g,"y").replace(/[Ý]/g,"Y").replace(/[ñ]/g,"n").replace(/[Ñ]/g,"N").replace(/[ç]/g,"c").replace(/[Ç]/g,"C")}class oi{constructor(o){Eo(this,"_analisador");Eo(this,"_leitorDeArquivo");this._leitorDeArquivo=new mt,this._analisador=new ft(o)}get leitorDeArquivo(){return this._leitorDeArquivo}async ler(o){this._analisador.reiniciar();let a;if(o instanceof File){if(!this.leitorDeArquivo.ativo)throw new Error("O leitor de arquivos não está carregado.");const t=await this.leitorDeArquivo.ler(o);if(!t)throw new Error("Falha ao ler o arquivo.");a=t.texto}else a=o||"";return this._analisador.analisar(a),{identificado:this._analisador.identificado,nome:this._analisador.nome,quadroResumo:this._analisador.quadroResumo,dadosEstruturados:this._analisador.dadosEstruturados,texto:a}}}var to=(e=>(e[e.ImplementoIdade=0]="ImplementoIdade",e[e.DerDda=1]="DerDda",e))(to||{});const ai=le({__name:"CecalcSelecao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=P(a.modelValue),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo;return Me(()=>a.modelValue,i=>{t.value=i}),(i,r)=>{const c=pt;return I(),ie(c,{modelValue:m(t),"onUpdate:modelValue":[r[0]||(r[0]=s=>Ge(t)?t.value=s:null),r[1]||(r[1]=s=>o("update:model-value",s))],options:i.parametros.opcoes,name:i.parametros.nome,for:i.parametros.nome,label:m(n),readonly:i.parametros.somenteLeitura===!0,disable:i.parametros.desabilitado===!0,style:ce(i.parametros.estilos),class:ae(i.parametros.classes),"label-color":i.parametros.obrigatorio===!0?"orange-10":"","bg-color":i.parametros.obrigatorio===!0?"orange-1":"",color:i.parametros.obrigatorio===!0?"orange-10":"",outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":"","option-label":"rotulo","option-value":"valor","emit-value":"","map-options":"","item-aligned":""},null,8,["modelValue","options","name","for","label","readonly","disable","style","class","label-color","bg-color","color"])}}}),ti={class:"q-gutter-sm"},ni=le({__name:"CecalcRadio",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=P(a.modelValue);return Me(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const r=un;return I(),N("div",ti,[(I(!0),N(me,null,Ae(n.parametros.opcoes,c=>(I(),ie(r,{key:`${c.value}`,modelValue:m(t),"onUpdate:modelValue":[i[0]||(i[0]=s=>Ge(t)?t.value=s:null),i[1]||(i[1]=s=>o("update:model-value",s))],name:n.parametros.nome,for:n.parametros.nome,val:c.value,label:c.label,disable:n.parametros.desabilitado===!0,style:ce(n.parametros.estilos),class:ae(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","val","label","disable","style","class"]))),128))])}}}),ii={class:"q-gutter-sm"},li=le({__name:"CecalcOpcao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=P(a.modelValue);return Me(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const r=dn;return I(),N("div",ii,[k(r,{modelValue:m(t),"onUpdate:modelValue":[i[0]||(i[0]=c=>Ge(t)?t.value=c:null),i[1]||(i[1]=c=>o("update:model-value",c))],name:n.parametros.nome,for:n.parametros.nome,label:n.parametros.rotulo,disable:n.parametros.desabilitado===!0,style:ce(n.parametros.estilos),class:ae(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","label","disable","style","class"])])}}});var se=(e=>(e[e.Entrada=0]="Entrada",e[e.Selecao=1]="Selecao",e[e.Radio=2]="Radio",e[e.Opcao=3]="Opcao",e))(se||{}),de=(e=>(e[e.Data=0]="Data",e[e.Competencia=1]="Competencia",e[e.Texto=2]="Texto",e[e.Numero=3]="Numero",e[e.Percentual=4]="Percentual",e[e.Moeda=5]="Moeda",e[e.NumeroProcesso=6]="NumeroProcesso",e[e.Cpf=7]="Cpf",e))(de||{});function Do(e,o){return Pe(e)&&Pe(o)?e>=o:!1}function Ao(e,o){return Pe(e)&&Pe(o)?e<=o:!1}function Yo(e,o,a){return Do(e,o)&&Ao(e,a)}function ri(e,o){return Oe(e)&&Pe(o)?Do(e.length,o):!1}function si(e,o){return Oe(e)&&Pe(o)?Ao(e.length,o):!1}function ci(e,o,a){return Oe(e)&&Pe(o)&&Pe(a)?Yo(e.length,o,a):!1}function ui(e,o){return he(e)&&he(o)?Do(e.valueOf(),o.valueOf()):!1}function di(e,o){return he(e)&&he(o)?Ao(e.valueOf(),o.valueOf()):!1}function mi(e,o,a){return he(e)&&he(o)&&he(a)?Yo(e.valueOf(),o.valueOf(),a.valueOf()):!1}function fi(e){return new ee(e).dataValida()}const we=e=>e===""||e===void 0||e===null,fa={obrigatorio(e){return o=>!!o||e||"Campo obrigatório"},regex(e,o){return a=>we(a)||e.test(a)||o||"Formato inválido"},dataValida(e){return o=>we(o)||fi(o)||e||"Data inválida"},numeroEntre(e,o,a){return t=>we(t)||Yo(t,e,o)||a||`Deve estar entre ${e} e ${o}`},numeroMaiorOuIgual(e,o){return a=>we(a)||Do(a,e)||o||`Deve ser maior ou igual a ${e}`},numeroMenorOuIgual(e,o){return a=>we(a)||Ao(a,e)||o||`Deve ser menor ou igual a ${e}`},tamanhoEntre(e,o,a){return t=>we(t)||ci(t,e,o)||a||`Deve estar entre ${e} e ${o}`},tamanhoMaiorOuIgual(e,o){return a=>we(a)||ri(a,e)||o||`Deve ser maior ou igual a ${e}`},tamanhoMenorOuIgual(e,o){return a=>we(a)||si(a,e)||o||`Deve ser menor ou igual a ${e}`},dataEntre(e,o,a){return t=>we(t)||mi(t,e,o)||a||`Deve estar entre ${e.toLocaleDateString()} e ${o.toLocaleDateString()}`},dataMaiorOuIgual(e,o){return a=>we(a)||ui(a,e)||o||`Deve ser maior ou igual a ${e.toLocaleDateString()}`},dataMenorOuIgual(e,o){return a=>we(a)||di(a,e)||o||`Deve ser menor ou igual a ${e.toLocaleDateString()}`},processo(e){return o=>we(o)||qa(o)||e||"Número do processo inválido"},cpf(e){return o=>we(o)||Wn(o)||e||"CPF inválido"},cnpj(e){return o=>we(o)||Jn(o)||e||"CNPJ inválido"}};function pi(e){return e.filter(o=>o.nome in fa).map(o=>fa[o.nome](...o.args))}function vi(e,o){const a=[];return o&&a.push({nome:"obrigatorio",args:["Campo obrigatório"]}),e===de.Data&&a.push({nome:"regex",args:[/\d{2}\/\d{2}\/\d{4}/,"Formato: dd/mm/aaaa"]}),e===de.Competencia&&a.push({nome:"regex",args:[/\d{2}\/\d{4}/,"Formato: mm/aaaa"]}),e===de.NumeroProcesso&&a.push({nome:"processo",args:[]}),e===de.Cpf&&a.push({nome:"cpf",args:[]}),a}function pa(e){const o=new ee(e);return o.dataValida()?o.nativo():null}function Na(e){const o=Number(e);return vt(o)?o:null}function gi(e){const o=Na(e);return o===null?null:Number(ei(o/100,2))}function va(e,o){return o===de.Data?pa(e):o===de.Competencia?pa(`01/${e}`):o===de.Numero||o===de.Moeda?Na(e):o===de.Percentual?gi(e):e}function ga(e){return e==null?"":he(e)?e.toLocaleDateString():`${e}`}function hi(e){return e===de.Data?"##/##/####":e===de.Competencia?"##/####":e===de.NumeroProcesso?"#######-##.####.#.##.####":e===de.Cpf?"###.###.###-##":""}const bi=le({__name:"CecalcEntrada",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=P(),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo,i=a.parametros.mascara?a.parametros.mascara:hi(a.parametros.tipoEntrada),r=R(()=>{const _=vi(a.parametros.tipoEntrada,a.parametros.obrigatorio===!0);return pi(Array.prototype.concat(_,a.parametros.regras||[]))}),c=P(ga(a.modelValue));Me(()=>a.modelValue,_=>c.value=ga(_));function s(){return t.value?t.value.validate():!1}async function l(_){if(c.value=_,await pe(),s()||!c.value)return o("update:model-value",va(c.value,a.parametros.tipoEntrada))}async function h(_){await l(_)}function y(){if(s())return o("update:model-value",va(c.value,a.parametros.tipoEntrada))}return(_,b)=>(I(),ie(m(mn),{ref_key:"input",ref:t,"model-value":m(c),type:"text",name:_.parametros.nome,for:_.parametros.nome,label:m(n),"label-color":_.parametros.obrigatorio===!0?"orange-10":"","bg-color":_.parametros.obrigatorio===!0?"orange-1":"",color:_.parametros.obrigatorio===!0?"orange-10":"",prefix:_.parametros.prefixo,suffix:_.parametros.sufixo,readonly:_.parametros.obrigatorio!==!0&&_.parametros.somenteLeitura===!0,mask:m(i),hint:_.parametros.dica,rules:m(r),"lazy-rules":"ondemand",disabled:_.parametros.desabilitado,style:ce(_.parametros.estilos),class:ae(_.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","item-aligned":"","onUpdate:modelValue":b[0]||(b[0]=D=>h(D||"")),onBlur:y},null,8,["model-value","name","for","label","label-color","bg-color","color","prefix","suffix","readonly","mask","hint","rules","disabled","style","class"]))}}),_i={class:"column q-gutter-md"},Ci={class:"text-bold"},yi=le({__name:"CecalcFormularioDinamico",props:{esquema:{}},setup(e){const o=P();function a(){o.value&&o.value.resetValidation()}return(t,n)=>{const i=Mn,r=ai,c=ni,s=li,l=bi,h=fn,y=xo;return I(),ie(m(Qn),{ref_key:"formulario",ref:o,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:n[0]||(n[0]=()=>{})},{default:K(()=>[x("div",_i,[(I(!0),N(me,null,Ae(t.esquema.secoes,_=>(I(),ie(y,{key:`secao-${_.titulo}`,flat:"",bordered:""},{default:K(()=>[k(i,{class:ae(_.cor),dense:""},{default:K(()=>[x("div",Ci,Y(_.titulo),1)]),_:2},1032,["class"]),k(h,null,{default:K(()=>[(I(!0),N(me,null,Ae(_.linhas,(b,D)=>(I(),N("div",{key:`secao-${_.titulo}-linha-${D}`,class:"row"},[(I(!0),N(me,null,Ae(b,(u,v)=>(I(),N(me,{key:`secao-${_.titulo}-linha-${D}-item-${v}`},[u.tipo===m(se).Selecao?(I(),ie(r,{key:0,modelValue:u.ref.value,"onUpdate:modelValue":[T=>u.ref.value=T,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===m(se).Radio?(I(),ie(c,{key:1,modelValue:u.ref.value,"onUpdate:modelValue":[T=>u.ref.value=T,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===m(se).Opcao?(I(),ie(s,{key:2,modelValue:u.ref.value,"onUpdate:modelValue":[T=>u.ref.value=T,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===m(se).Entrada?(I(),ie(l,{key:3,modelValue:u.ref.value,"onUpdate:modelValue":[T=>u.ref.value=T,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):ao("",!0)],64))),128))]))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},512)}}}),xi={1991:60,1992:60,1993:66,1994:72,1995:78,1996:90,1997:96,1998:102,1999:108,2e3:114,2001:120,2002:126,2003:132,2004:138,2005:144,2006:150,2007:156,2008:162,2009:168,2010:174,2011:180};function $i(){function e(a,t){return a===Co.AposentadoriaPorIdade&&xi[t.getFullYear()]||180}function o(){return[{rotulo:"Implemento da Idade",valor:to.ImplementoIdade},{rotulo:"DER/DDA",valor:to.DerDda}]}return{obterCarenciaMinima:e,obterOpcoesMarcoCarencia:o}}g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"";g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"";g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"";g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"",g.Masculino+"",g.Feminino+"";const Io=Ta("parametros-store",()=>{const e=P(""),o=P(null),a=P(null),t=P(""),n=P(""),i=P(),r=P(null),c=P(""),s=P(Co.AposentadoriaPorTempoDeContribuicao),l=P(null),h=P(!1),y=P(!1),_=P(to.ImplementoIdade),b=P(!1),D=P(!1),u=P(oo.DeficienciaLeve),v=P(null),T=P(Po.Art70CRegulamento),f=P(!1);function $(O){return Oe(O)&&O.length>0}function E(){return $(e.value)||he(o.value)||he(a.value)||$(t.value)||$(n.value)||he(r.value)||$(c.value)||he(l.value)||he(v.value)}function V(){e.value="",o.value=null,a.value=null,t.value="",n.value="",i.value=void 0,r.value=null,c.value="",s.value=Co.AposentadoriaPorTempoDeContribuicao,l.value=null,h.value=!1,y.value=!1,_.value=to.ImplementoIdade,b.value=!1,D.value=!0,u.value=oo.DeficienciaLeve,v.value=null,T.value=Po.Art70CRegulamento,f.value=!1}return{numeroProcesso:e,citacao:o,ajuizamento:a,autor:t,reu:n,sexo:i,nascimento:r,nb:c,especie:s,der:l,rural:h,deficiente:y,marcoCarencia:_,permitirConversaoAposEc103:b,carenciaNecessariaAposEc103:D,grauPreponderanteDeficiencia:u,inicioPrimeiraDeficiencia:v,requisitoB41Deficiencia:T,converterPeriodosB41Deficiente:f,temDadosCarregados:E,reiniciar:V}},{persist:{serializer:{deserialize:e=>JSON.parse(e,Go),serialize:JSON.stringify}}});function ha(){function e(){return[{rotulo:"Masculino",valor:g.Masculino},{rotulo:"Feminino",valor:g.Feminino}]}function o(){return[{rotulo:"Deficiência Grave",valor:oo.DeficienciaGrave},{rotulo:"Deficiência Moderada",valor:oo.DeficienciaModerada},{rotulo:"Deficiência Leve",valor:oo.DeficienciaLeve}]}return{obterOpcoesSexo:e,obterOpcoesGrauDeficiencia:o}}function Di(){const e=Io(),{numeroProcesso:o,citacao:a,ajuizamento:t,autor:n,reu:i,sexo:r,nascimento:c,nb:s,especie:l,der:h,rural:y,deficiente:_,marcoCarencia:b,permitirConversaoAposEc103:D,carenciaNecessariaAposEc103:u,grauPreponderanteDeficiencia:v,inicioPrimeiraDeficiencia:T,requisitoB41Deficiencia:f,converterPeriodosB41Deficiente:$}=Oa(e),{obterOpcoesSexo:E}=ha(),{obterOpcoesEspecieBeneficio:V}=gt(),{obterOpcoesMarcoCarencia:O}=$i(),{obterOpcoesRequisitoB41Deficiente:L}=Bo(),{obterOpcoesGrauDeficiencia:W}=ha(),B=E(),J=V(),ue=O(),xe=W(),De=L(),_e={tipo:se.Entrada,ref:o,parametros:{tipoEntrada:de.NumeroProcesso,nome:"numero-processo",rotulo:"Processo",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},Se={tipo:se.Entrada,ref:a,parametros:{tipoEntrada:de.Data,nome:"data-citacao",rotulo:"Citação",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},ke={tipo:se.Entrada,ref:t,parametros:{tipoEntrada:de.Data,nome:"data-ajuizamento",rotulo:"Ajuizamento",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},w={tipo:se.Entrada,ref:n,parametros:{tipoEntrada:de.Texto,nome:"nome-autor",rotulo:"Autor",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},X={tipo:se.Entrada,ref:i,parametros:{tipoEntrada:de.Texto,nome:"nome-reu",rotulo:"Réu",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},fe={tipo:se.Selecao,ref:r,parametros:{nome:"sexo-autor",rotulo:"Sexo",opcoes:B,obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Fe={tipo:se.Entrada,ref:c,parametros:{tipoEntrada:de.Data,nome:"data-nascimento",rotulo:"Nascimento",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Re={tipo:se.Entrada,ref:s,parametros:{tipoEntrada:de.Texto,nome:"nb",rotulo:"NB",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Ve={tipo:se.Selecao,ref:l,parametros:{nome:"especie",rotulo:"Espécie",opcoes:J,obrigatorio:!0,classes:"col-xs-12 col-sm-12 col-md-6 col-lg-6"}},Xe={tipo:se.Entrada,ref:h,parametros:{tipoEntrada:de.Data,nome:"der",rotulo:"DER",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Ue={tipo:se.Opcao,ref:y,parametros:{nome:"beneficio-rural",rotulo:"Benefício rural?",classes:"q-pa-md"}},Ie={tipo:se.Opcao,ref:_,parametros:{nome:"beneficio-deficiente",rotulo:"Benefício para pessoa com deficiência?",classes:"q-pa-md"}},Qe={tipo:se.Selecao,ref:b,parametros:{nome:"marco-carencia",rotulo:"Marco carência",opcoes:ue,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},Ne={tipo:se.Opcao,ref:D,parametros:{nome:"conveter-apos-ec-103",rotulo:"Converter tempo especial após EC 103?",classes:"q-pa-md"}},ro={tipo:se.Opcao,ref:u,parametros:{nome:"carencia-apos-ec-103",rotulo:"Carência necessária após EC 103?",classes:"q-pa-md"}},Be={tipo:se.Selecao,ref:v,parametros:{nome:"grau-deficiencia",rotulo:"Grau de Deficiência Preponderante",opcoes:xe,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},p={tipo:se.Entrada,ref:T,parametros:{tipoEntrada:de.Data,nome:"data-inicio-deficiencia",rotulo:"Data de início da primeira deficiência",classes:"col-xs-12 col-sm-6 col-md-4 col-lg-3"}},F={tipo:se.Selecao,ref:f,parametros:{nome:"requisito-b41-deficiente",rotulo:"Requisito B41 Deficiente",opcoes:De,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},q={tipo:se.Opcao,ref:$,parametros:{nome:"converter-periodos-b41-deficiente",rotulo:"Converter Tempo Especial B41 Deficiente?",classes:"q-pa-md"}};return{esquemaFormularioBasico:{titulo:"Cálculo TC - Campos Básicos",secoes:[{titulo:"Dados Básicos do Segurado",cor:"bg-blue-3",linhas:[[fe,Fe]]},{titulo:"Dados Básicos do Benefício",cor:"bg-blue-3",linhas:[[Xe,Ve]]}]},esquemaFormularioGeral:{titulo:"Parâmetros Avançados",secoes:[{titulo:"Dados do Processo",cor:"bg-blue-3",linhas:[[_e,ke,Se],[w,X]]},{titulo:"Dados do Benefício",cor:"bg-blue-3",linhas:[[Re,Ue,Ie]]},{titulo:"Opções Contagem",cor:"bg-blue-3",linhas:[[Qe],[Ne],[ro]]},{titulo:"Benefício da Pessoa com Deficiência",cor:"bg-blue-3",linhas:[[],[Be,p],[F,q]]}]}}}const Ai={class:"q-pa-md"},Ii={class:"q-pa-md"},wi={class:"q-py-md"},Fi=le({__name:"TcParametros",setup(e){const{esquemaFormularioBasico:o,esquemaFormularioGeral:a}=Di();return(t,n)=>{const i=yi,r=Ln;return I(),N(me,null,[x("div",Ai,[k(i,{esquema:m(o)},null,8,["esquema"])]),x("div",Ii,[k(r,{label:"Parâmetros Opcionais","header-class":"bg-blue-3 text-bold rounded-borders"},{default:K(()=>[x("div",wi,[k(i,{esquema:m(a)},null,8,["esquema"])])]),_:1})])],64)}}}),Si=le({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:a}){const t=P(!1);return lo(()=>{t.value=!0}),n=>{var s;if(t.value)return(s=o.default)==null?void 0:s.call(o);const i=o.fallback||o.placeholder;if(i)return i();const r=n.fallback||n.placeholder||"",c=n.fallbackTag||n.placeholderTag||"span";return N(c,a,r)}}});function za(){function e(i){return Oe(i)&&/(^\d+$)|(^\d+\.?(\d+)?$)|(^\d+,?(\d+)?$)/.test(i)}function o(i){return Oe(i)&&/^\d+$/.test(i)}function a(i){return Oe(i)&&/^(\d{1,2}[/.-])?(\d{1,2}[/.-])(\d{4})$/.test(i.trim())}function t(i){try{return new ee(i).dataValida()}catch{return!1}}function n(i,r){return new ee(i).antesDeOuIgualA(r)}return{inputValorNumerico:e,inputNumeroInteiro:o,inputDataLocal:a,data:t,periodo:n}}const po=Ta("periodos-store",()=>{const e=za(),o=P({}),a=R(()=>Object.entries(o.value).map(([b,D])=>({id:b,...D})).sort((b,D)=>b.dataInicial.valueOf()-D.dataInicial.valueOf()));function t(b){if(!e.periodo(b.dataInicial,b.dataFinal))return;const D=b.descricao||"",u=b.fonte||"";o.value[Xn()]={...b,descricao:D,fonte:u}}function n(b,D){e.periodo(D.dataInicial,D.dataFinal)&&(b in o.value?Object.assign(o.value[b],D):o.value[b]=D)}function i(b){Object.assign(o.value,b)}function r(b){delete o.value[b]}const c=R(()=>{const b=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf())[0];return he(b)?new ee(b).competencia():void 0}),s=R(()=>{const b=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf()).slice(-1)[0];return he(b)?new ee(b).competencia():void 0});function l(b){return o.value[b]}function h(b,D){const u=l(b);u&&n(b,{...u,excluido:D===!0})}function y(){return!ht(o.value)}function _(){o.value={}}return{registros:o,lista:a,competenciaInicial:c,competenciaFinal:s,atualizar:n,atualizarTodos:i,adicionar:t,remover:r,obterPorId:l,alterarStatusExcluido:h,temDadosCarregados:y,reiniciar:_}},{persist:{paths:["registros"],serializer:{deserialize:e=>JSON.parse(e,Go),serialize:JSON.stringify}}}),ki={class:"cecalc-planilha-celula-booleana"},Ei=["checked"],Ti=le({__name:"CecalcPlanilhaCelulaBooleana",props:{modelValue:{type:Boolean,default:!1},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){function a(t){const n=t.target.checked;o("valorAtualizado",n)}return(t,n)=>(I(),N("td",pn(vn(t.$attrs)),[x("div",ki,[x("input",{type:"checkbox",checked:t.modelValue,onChange:a},null,40,Ei)])],16))}});const Oi=Ye(Ti,[["__scopeId","data-v-ed1c78bf"]]),Pi=["onKeydown"],Vi=["onClick","onKeydown"],qi=le({__name:"CecalcPlanilhaCelulaOpcoes",props:{modelValue:{default:void 0},opcoes:{default:()=>[]},incluirOpcaoVazia:{type:Boolean,default:!0},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){const a=e,t=P(),n=P(),i=P([]),r=P(!1),c=P(0);Me(()=>a.modelValue,async()=>{await pe(),s()}),lo(()=>{window.addEventListener("click",l),s()}),Ho(()=>window.removeEventListener("click",l));function s(){const v=a.opcoes.findIndex(T=>T.valor===a.modelValue);v>=0?c.value=v:c.value=0}function l(v){if(!n.value||!t.value)return;const T=v.target,f=T===n.value||n.value.contains(T),$=v.target===t.value||t.value.contains(T);!f&&!$&&b()}function h(){if(t.value&&n.value){const v=i.value.reduce((_e,Se)=>{const{width:ke}=Se.firstElementChild.getBoundingClientRect();return Math.max(_e,ke)},0),T=Math.min(i.value.length,5),{width:f,height:$,top:E,left:V}=t.value.getBoundingClientRect(),O=E+$/2,L=V+f/2,W=document.documentElement.clientWidth,B=document.documentElement.clientHeight,J=$*T,ue=Math.max(v+50),xe=Math.min(O-J/2,B-J),De=Math.min(L-ue/2,W-ue);n.value.style.height=`${J}px`,n.value.style.maxWidth=`${ue}px`,n.value.style.top=`${xe}px`,n.value.style.left=`${De}px`,i.value.forEach(_e=>{_e.style.height=`${$}px`})}}async function y(){await pe();const v=i.value[c.value];v&&(v.scrollIntoView(),await pe(),v.focus())}async function _(){a.desabilitar||(r.value=!0,await pe(),h(),await pe(),y())}function b(){t.value&&t.value.focus(),r.value=!1}function D(v){v<0&&(v=a.opcoes.length-1),v>a.opcoes.length-1&&(v=0),c.value=v,y(),o("valorAtualizado",a.opcoes[c.value].valor),b()}function u(v){if(!v.target)return;const f=v.key;if(f==="Escape"&&(v.preventDefault(),s(),b()),f==="Tab"||f==="Enter"){v.preventDefault(),D(c.value);return}if(f==="ArrowDown"){v.preventDefault(),c.value++,c.value>=a.opcoes.length&&(c.value=0),y();return}f==="ArrowUp"&&(v.preventDefault(),c.value--,c.value<0&&(c.value=a.opcoes.length-1),y())}return(v,T)=>(I(),N(me,null,[x("td",gn({ref_key:"celula",ref:t},v.$attrs,{onKeydown:hn(Te(_,["stop"]),["f2"])}),[x("div",{class:"cecalc-planilha-celula-opcoes-selecionada",onDblclick:_},[x("span",{class:ae({placeholder:!Array.isArray(v.opcoes)||!v.opcoes[m(c)].rotulo})},Y(Array.isArray(v.opcoes)?v.opcoes[m(c)].rotulo:void 0),3),v.desabilitar?ao("",!0):(I(),N("span",{key:0,class:"icone-editar",onClick:_}))],32)],16,Pi),m(r)?(I(),ie(bn,{key:0,to:"table"},[x("div",{ref_key:"opcoesContainer",ref:n,class:"cecalc-planilha-celula-opcoes-menu",onBlur:b},[x("ul",null,[(I(!0),N(me,null,Ae(v.opcoes,(f,$)=>(I(),N("li",{ref_for:!0,ref_key:"opcoesLinhas",ref:i,key:f.valor,tabindex:"1",class:ae({placeholder:!f.rotulo}),onClick:Te(E=>D($),["prevent"]),onKeydown:Te(u,["self"])},[x("span",null,Y(f.rotulo),1)],42,Vi))),128))])],544)])):ao("",!0)],64))}});const Mi=Ye(qi,[["__scopeId","data-v-949729a9"]]),Ni={class:"cecalc-input-container"},zi=["name","value"],Li={key:0,class:"cecalc-mensagem-erro"},Ri=le({__name:"CecalcPlanilhaInput",props:{nome:{default:""},modelValue:{default:""},mensagemErro:{default:""}},emits:["update:model-value","blur"],setup(e,{emit:o}){const a=P();lo(()=>{var n;(n=a.value)==null||n.focus()});function t(n){if(n.key==="Enter"||n.key==="Tab"){const i=n.target;o("update:model-value",i.value)}(n.key.startsWith("Arrow")||n.key==="Delete"||n.key==="Backspace")&&n.stopPropagation()}return(n,i)=>(I(),N("div",Ni,[x("input",{ref_key:"input",ref:a,name:n.nome,value:n.modelValue,type:"text",class:ae(["cecalc-input",n.mensagemErro?"erro":""]),onFocus:i[0]||(i[0]=r=>{r.target.select()}),onBlur:i[1]||(i[1]=r=>o("blur")),onKeydown:t},null,42,zi),n.mensagemErro?(I(),N("div",Li,Y(n.mensagemErro),1)):ao("",!0)]))}});const Bi=Ye(Ri,[["__scopeId","data-v-b09450ae"]]),ji=["title"],Ui={key:1},Qi={key:2},Ki=le({__name:"CecalcPlanilhaCelulaEditavel",props:{editando:{type:Boolean,default:!1},nome:{default:""},modelValue:{default:""},placeholder:{default:""},tipo:{default:"texto"},desabilitar:{type:Boolean,default:!1}},emits:["blur","edicaoConcluida","valorAtualizado"],setup(e,{emit:o}){const a=e,t=P(!1),n=P(""),i=za();function r(l){return l?a.tipo==="data"?i.inputDataLocal(l)?"":"dd/mm/aaaa":a.tipo==="competencia"?i.inputDataLocal(l)?"":"mm/aaaa":a.tipo==="texto"?"":a.tipo==="inteiro"||a.tipo==="sequencial"?i.inputNumeroInteiro(l)?"":"número inteiro":i.inputValorNumerico(l)?"":"valor numérico":""}function c(l){n.value=r(l),t.value=n.value.length>0,t.value?o("edicaoConcluida"):o("valorAtualizado",l)}function s(l){(l.key==="Delete"||l.key==="Backspace")&&l.stopPropagation()}return(l,h)=>{const y=Bi;return I(),N("td",{class:ae({erro:m(t)&&!l.editando,editando:l.editando}),title:m(n),onBlur:h[2]||(h[2]=_=>o("blur"))},[!l.desabilitar&&l.editando?(I(),ie(y,{key:0,nome:l.nome,"model-value":l.modelValue,"mensagem-erro":m(n),"onUpdate:modelValue":h[0]||(h[0]=_=>c(_)),onBlur:h[1]||(h[1]=_=>o("edicaoConcluida")),onKeydown:Te(s,["self"])},null,8,["nome","model-value","mensagem-erro","onKeydown"])):!l.desabilitar&&m(t)?(I(),N("div",Ui," # ERRO ")):(I(),N("div",Qi,Y(l.modelValue||l.placeholder),1))],42,ji)}}});const Hi=Ye(Ki,[["__scopeId","data-v-d5401a62"]]),We=e=>(Pa("data-v-ee2a66df"),e=e(),Va(),e),Gi=We(()=>x("span",{class:"text-caption q-ml-sm"}," Copiar ",-1)),Yi=We(()=>x("span",{class:"text-caption q-ml-sm"}," Recortar ",-1)),Ji=We(()=>x("span",{class:"text-caption q-ml-sm"}," Colar ",-1)),Wi=We(()=>x("span",{class:"text-caption q-ml-sm"}," Desfazer ",-1)),Xi=We(()=>x("span",{class:"text-caption q-ml-sm"}," Refazer ",-1)),Zi=We(()=>x("span",{class:"text-caption q-ml-sm"}," Copiar com cabeçalhos ",-1)),el=We(()=>x("span",{class:"text-caption q-ml-sm"},' Baixar arquivo ".csv" ',-1)),ol=le({__name:"CecalcPlanilhaMenuContextual",props:{modelValue:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!1}},emits:["update:model-value","copiar","recortar","colar","desfazer","refazer","copiarComCabecalhos","gerarCsv"],setup(e,{emit:o}){return(a,t)=>{const n=yo,i=Vo,r=xo,c=Ia,s=bt;return I(),ie(c,{square:"","model-value":a.modelValue,class:"bg-grey-2","no-parent-event":"","onUpdate:modelValue":t[7]||(t[7]=l=>o("update:model-value",l))},{default:K(()=>[k(r,{flat:"",square:""},{default:K(()=>[je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[0]||(t[0]=l=>a.$emit("copiar"))},[k(n,{name:m(ra)},null,8,["name"]),Gi])),[[s]]),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[1]||(t[1]=l=>a.$emit("recortar"))},[k(n,{name:m(_n)},null,8,["name"]),Yi])),[[s]]),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[2]||(t[2]=l=>a.$emit("colar"))},[k(n,{name:m(Cn)},null,8,["name"]),Ji])),[[s]]),a.habilitarDesfazerRefazer?(I(),N(me,{key:0},[k(i),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[3]||(t[3]=l=>a.$emit("desfazer"))},[k(n,{name:m(yn)},null,8,["name"]),Wi])),[[s]]),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[4]||(t[4]=l=>a.$emit("refazer"))},[k(n,{name:m(xn)},null,8,["name"]),Xi])),[[s]])],64)):ao("",!0),k(i),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[5]||(t[5]=l=>a.$emit("copiarComCabecalhos"))},[k(n,{name:m(ra)},null,8,["name"]),Zi])),[[s]]),je((I(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[6]||(t[6]=l=>a.$emit("gerarCsv"))},[k(n,{name:m($n)},null,8,["name"]),el])),[[s]])]),_:1})]),_:1},8,["model-value"])}}});const al=Ye(ol,[["__scopeId","data-v-ee2a66df"]]),be={Coluna:{Fixa:"cecalc-planilha-coluna-fixa",Editavel:"cecalc-planilha-coluna-editavel",Calculada:"cecalc-planilha-coluna-calculada"},Celula:{Desabilitada:"cecalc-planilha-celula-desabilitada",Desconsiderada:"cecalc-planilha-celula-desconsiderada",NaoEditavel:"cecalc-planilha-celula-nao-editavel",ValorIncluidoPeloUsuario:"cecalc-planilha-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-planilha-celula-valor-modificado",Atencao:"cecalc-planilha-celula-atencao",Verificada:"cecalc-planilha-celula-verificada",ValorElevado:"cecalc-planilha-celula-valor-elevado",ValorLimitado:"cecalc-planilha-celula-valor-limitado",IncluirIcone:"incluir-icone"},Selecao:{Caixa:"cecalc-caixa-selecao",Mascara:"cecalc-mascara-celula-ativa",Alca:"cecalc-alca-caixa-selecao",CopiaAtiva:"copia-ativa"}};function qo(e){const o=e.offsetTop,a=e.offsetLeft,t=e.offsetWidth,n=e.offsetHeight;return{top:o,left:a,width:t,height:n}}function tl(e,o,a){return a==="topleft"?`polygon(0% ${e-5}px, 0% 100%, 100% 100%, 100% 0%, ${o-4}px 0%, ${o-4}px ${e-5}px)`:a==="topright"?`polygon(0% 0%, 0% 100%, 100% 100%, 100% ${e-5}px, calc(100% - ${o-5}px) ${e-5}px, calc(100% - ${o-5}px) 0%)`:a==="bottomleft"?`polygon(0% 0%, 0% calc(100% - ${e-5}px), ${o-4}px calc(100% - ${e-5}px), ${o-4}px 100%, 100% 100%, 100% 0%, 0% 0%`:a==="bottomright"?`polygon(0% 0%, 0% 100%, calc(100% - ${o-5}px) 100%, calc(100% - ${o-5}px) calc(100% - ${e-5}px), 100% calc(100% - ${e-5}px), 100% 0%, 0% 0%`:""}function nl(e,o){const{width:a,height:t,top:n,left:i}=qo(e);if(e.isSameNode(o))return{width:a,height:t,top:n,left:i,mask:{width:a,height:t,position:"topleft"}};const{width:r,height:c,top:s,left:l}=qo(o);return n<=s&&i<=l?{top:n,left:i,width:l+r-i,height:s+c-n,mask:{width:a,height:t,position:"topleft"}}:n<=s&&i>l?{top:n,left:l,width:i+a-l,height:s+c-n,mask:{width:a,height:t,position:"topright"}}:n>s&&i<=l?{top:s,left:i,width:l+r-i,height:n+t-s,mask:{width:a,height:t,position:"bottomleft"}}:{top:s,left:l,width:i+a-l,height:n+t-s,mask:{width:a,height:t,position:"bottomright"}}}function il(e){const o=document.createElement("div");o.classList.add(be.Selecao.Caixa);const a=document.createElement("div");a.classList.add(be.Selecao.Mascara),o.appendChild(a);const t=document.createElement("div");return t.classList.add(be.Selecao.Alca),t.draggable=!0,o.appendChild(t),e.appendChild(o),{caixa:o,mascara:a,alca:t}}function uo(e){let o=e.target;if(!o||o.tagName==="TD")return o;let a=0;for(;a<4;){if(!o||o.tagName==="TD")return o;o=o.parentElement,a++}return null}function ye(e){if(!e||!e.parentElement||e.parentElement.tagName!=="TR")return;const o=e.cellIndex,a=e.parentElement.rowIndex;return{col:o,lin:a}}function ll({container:e,habilitarAlcaDeArrasto:o,callbackAlcaDeArrasto:a}){Je().info("Executando useSelecao");let n;const i=()=>n?n.querySelector("tr td:first-of-type"):null,r=()=>n?n.querySelector("tr:last-of-type td:last-of-type"):null;function c(){const p=i(),F=r();if(!p||!F)return;const q=ye(p),j=ye(F);if(!(!q||!j))return[q,j]}const s=P(),l=P(),h=P([]);let y,_,b;const D=new Image;let u=!1;lo(async()=>{if(await pe(),e.value&&(n=e.value.querySelector("tbody"),n)){const p=il(e.value);y=p.caixa,_=p.mascara,b=p.alca,o||(b.style.display="none"),Be(),i()?L():O()}});function v(p){const F=i();if(!F)return;const q=ye(F);if(q)return{col:p.col-q.col,lin:p.lin-q.lin}}function T(p){const F=i();if(!F)return;const q=ye(F);if(q)return{col:p.col+q.col,lin:p.lin+q.lin}}function f(p){var Z,H;if(!n)return null;const F=n.parentElement;if(!F||F.tagName!=="TABLE"||!F.rows.length||!((Z=F.rows.item(0))!=null&&Z.cells.length))return null;const{col:q,lin:j}=p;return((H=n.parentElement.rows.item(j))==null?void 0:H.cells.item(q))||null}function $(){y.style.display="none",_.style.display="none",b.style.display="none"}function E(){y.style.display="block",_.style.display="block",o&&(b.style.display="block")}function V(){var so,co;if(!s.value||!l.value||!y||!_)return;const p=-1,F=0,q=2,j=1;if(s.value.isSameNode(l.value)){const{top:vo,left:go,width:wo,height:Fo}=qo(s.value);y.style.top=`${vo+p}px`,y.style.left=`${go+F}px`,y.style.width=`${wo+q}px`,y.style.height=`${Fo+j}px`,_.style.height="0px",_.style.width="0px";return}const{top:Z,left:H,width:te,height:re,mask:ve}=nl(s.value,l.value);y.style.top=`${Z+p}px`,y.style.left=`${H+F}px`,y.style.width=`${te+q}px`,y.style.height=`${re+j}px`,_.style.height=`${re-10}px`,_.style.width=`${te-9}px`,_.style.clipPath=tl(((so=s.value)==null?void 0:so.offsetHeight)||0,((co=s.value)==null?void 0:co.offsetWidth)||0,ve.position)}function O(){$()}function L(p){if(p=p||i()||void 0,p){const F=ye(p);F&&(s.value=p,l.value=p,h.value=[F,F],p.focus(),V(),E())}}function W(p){l.value=p,h.value[1]=ye(p),V(),E()}function B(p){var re,ve;const F=_e();if(!F)return;const q=c();if(!q)return;const[j,Z]=q,H=Math.max(Math.min(Z.lin,F.lin+p),j.lin),te=f({lin:H,col:F.col});te&&L(te),H===j.lin?(re=e.value)==null||re.scrollTo({top:0}):H===Z.lin&&((ve=e.value)==null||ve.scrollBy(0,100))}function J(p){var re,ve;const F=_e();if(!F)return;const q=c();if(!q)return;const[j,Z]=q,H=Math.max(Math.min(Z.col,F.col+p),j.col),te=f({lin:F.lin,col:H});te&&L(te),H===j.col?(re=e.value)==null||re.scrollTo({left:0}):H===Z.col&&((ve=e.value)==null||ve.scrollBy(100,0))}function ue(p,F){const q=l.value||uo(p);if(!q)return;const j=ye(q);if(!j)return;const Z=c();if(!Z)return;const[H,te]=Z,re=Math.max(Math.min(te.lin,j.lin+F),H.lin),ve=f({lin:re,col:j.col});ve&&(ve.focus(),l.value=ve,h.value[1]=ye(ve),V())}function xe(p,F){const q=l.value||uo(p);if(!q)return;const j=ye(q);if(!j)return;const Z=c();if(!Z)return;const[H,te]=Z,re=Math.max(Math.min(te.col,j.col+F),H.col),ve=f({lin:j.lin,col:re});ve&&(ve.focus(),l.value=ve,h.value[1]=ye(ve),V())}function De(){return!h.value||h.value.length===0?[]:[{col:Math.min(h.value[0].col,h.value[1].col),lin:Math.min(h.value[0].lin,h.value[1].lin)},{col:Math.max(h.value[0].col,h.value[1].col),lin:Math.max(h.value[0].lin,h.value[1].lin)}]}function _e(){if(!(!h.value||h.value.length===0||!h.value[0]))return h.value[0]}function Se(){if(!(!h.value||h.value.length===0))return h.value[1]}function ke(p){const F=De();if(F.length===0)return;const q=ye(p);return q?q.col<=F[1].col&&q.col>=F[0].col&&q.lin<=F[1].lin&&q.lin>=F[0].lin:!1}function w(p,F){const q=f(p),j=f(F);q&&L(q),j&&W(j)}function X(p){const F=ye(p);if(!F)return;const q=c();if(!q)return;const[j,Z]=q,{col:H}=F;if(H<j.col||H>Z.col)return;const te=f({lin:j.lin,col:H}),re=f({lin:Z.lin,col:H});te&&re&&(L(te),l.value=re,h.value=[{lin:j.lin,col:H},{lin:Z.lin,col:H}],V())}function fe(p){const F=ye(p);if(!F)return;const q=c();if(!q)return;const[j,Z]=q,{lin:H}=F;if(H<j.lin||H>Z.lin)return;const te=f({lin:H,col:j.col}),re=f({lin:H,col:Z.col});te&&re&&(L(te),l.value=re,h.value=[{lin:H,col:j.col},{lin:H,col:Z.col}],V())}function Fe(){const p=i(),F=r();if(p&&F){L(p),l.value=F;const q=ye(p),j=ye(F);q&&j&&(h.value=[q,j],V())}}function Re(p){!s.value||!l.value||(p.dataTransfer.effectAllowed="move",p.dataTransfer.setDragImage(D,0,0),s.value.isSameNode(l.value)||(s.value=l.value,V()),u=!0)}function Ve(p){if(!u||!s.value||!l.value)return;p.preventDefault(),p.dataTransfer&&(p.dataTransfer.dropEffect="move");const F=uo(p);if(F){if(F.isSameNode(l.value))return;const q=ye(F);if(q){const j=c();if(!j)return;const[Z,H]=j,te=f({lin:Math.min(H.lin,q.lin),col:s.value.cellIndex});te&&(l.value=te,h.value[1]=ye(te),V())}}}function Xe(p){p.preventDefault(),u=!1,ua(a)&&a(p)}function Ue(p=2e3){y&&(y.classList.add(be.Selecao.CopiaAtiva),setTimeout(()=>{y.classList.remove(be.Selecao.CopiaAtiva)},p))}const Ie={ArrowUp:p=>p.shiftKey?ue(p,p.ctrlKey?Number.NEGATIVE_INFINITY:-1):B(p.ctrlKey?Number.NEGATIVE_INFINITY:-1),ArrowDown:p=>p.shiftKey?ue(p,p.ctrlKey?Number.POSITIVE_INFINITY:1):B(p.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowRight:p=>p.shiftKey?xe(p,p.ctrlKey?Number.POSITIVE_INFINITY:1):J(p.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowLeft:p=>p.shiftKey?xe(p,p.ctrlKey?Number.NEGATIVE_INFINITY:-1):J(p.ctrlKey?Number.NEGATIVE_INFINITY:-1),PageUp:p=>p.shiftKey?ue(p,-20):B(-20),PageDown:p=>p.shiftKey?ue(p,20):B(20),Home:p=>p.shiftKey?ue(p,Number.NEGATIVE_INFINITY):B(Number.NEGATIVE_INFINITY),End:p=>p.shiftKey?ue(p,Number.POSITIVE_INFINITY):B(Number.POSITIVE_INFINITY),Tab:p=>Ie.ArrowRight(p),Enter:p=>Ie.ArrowDown(p)};function Qe(p){if(u||!e.value||!n)return;const F=p.key;F in Ie&&(p.preventDefault(),Ie[F](p))}function Ne(p){if(!(u||!e.value||!n)){if(p.type==="click"||p.type==="mousedown"){const F=uo(p),q=i();F&&q&&F.cellIndex>=q.cellIndex&&(p.buttons!==2||!ke(F))&&(s.value&&F.isSameNode(s.value)||L(F))}if(p.type==="mouseover"&&p.buttons===1){const F=uo(p),q=i();F&&q&&F.cellIndex>=q.cellIndex&&W(F)}}}function ro(p){if(p.buttons!==1)return;const F=p.currentTarget,{height:q,width:j,top:Z,left:H}=F.getBoundingClientRect(),te=p.clientX>=j+H-150?50:p.clientX<=H+80?-50:0,re=p.clientY>=q+Z-80?50:p.clientY<=Z+50?-30:0;F.scrollBy(te,re)}function Be(){e.value&&ze(e.value,"mouseover",ro),n&&(ze(n,"dragover",Ve),ze(n,"dragenter",Ve),ze(n,"drop",Xe)),b&&o&&(ze(b,"dragstart",Re),ze(b,"dragend",Xe),ze(b,"dragover",Ve),ze(b,"dragenter",Ve),ze(b,"dblclick",ua(a)?a:()=>{}))}return{obterCelula:f,desativar:O,ativarCelula:L,selecionarArea:w,redefinirCaixaSelecao:V,celulaAtiva:s,celulaOposta:l,areaSelecionada:h,obterPACelulaAtiva:_e,obterPACelulaOposta:Se,obterSelecaoOrdenada:De,converterPosicaoAR:v,converterPosicaoRA:T,selecionarColuna:X,selecionarLinha:fe,selecionarTudo:Fe,dispararEfeitoCopia:Ue,plugarMouse:Ne,plugarTeclado:Qe}}function rl(e){Je().info("Executando useUltimaLinha");let a,t=[];const n=P();lo(async()=>{await pe(),e.value&&(a=e.value.querySelector("tfoot"),a&&(t=r(),t.length&&s(0)))});function i(D){let u=D.target;if(u===null||u.tagName==="TD")return u;let v=0;for(;v<4;){if(u===null||u.tagName==="TD")return u;u=u.parentElement,v++}return null}function r(){return a?Array.from(a.querySelectorAll(`tr td.${be.Coluna.Editavel}`)):[]}function c(D){return D?(t.length||(t=r()),t.findIndex(u=>u.isSameNode(D))):-1}function s(D){if(!t.length)return;n.value&&n.value.classList.remove("ativa"),D<0&&(D=t.length-1),D>=t.length&&(D=0),n.value=t[D],n.value.classList.add("ativa"),n.value.focus();const u=n.value.querySelector("input");u&&u.focus()}function l(){n.value&&s(c(n.value)+1)}function h(){n.value&&s(c(n.value)-1)}const y={ArrowRight:l,ArrowLeft:h,Tab:l,Enter:l};function _(D){if(!e.value||!a)return;const u=D.key;u in y&&(D.preventDefault(),y[u]())}function b(D){if(!(!e.value||!a)&&D.type==="click"){const u=i(D);if(u){const v=c(u);v>=0&&s(v)}}}return{ativarCelula:s,celulaAtiva:n,plugarMouse:b,plugarTeclado:_}}function La(){const e=Je(),{confirmacao:o}=jo();function a(i,r,c){Hn(r,i,c)}function t(i,r){a(i,r,"application/json")}async function n(i,r=!0){try{const c=await i.text(),s=JSON.parse(c,Go);if(e.console.log(s),s.dados)return r&&!await o("Atenção","O carregamento do arquivo apagará todos os dados atuais. Confirma?","Confirmar","Cancelar")?void 0:s}catch(c){e.erro(c)}}return{exportar:a,salvar:t,abrir:n}}function sl(){const e=Je();let o=[],a=-1;function t(s,l){e.console.log("Iniciando registro"),e.console.log(o),e.console.log(a),s(),a<o.length-1&&(o=o.slice(0,a+1)),o.push({acaoDesfazer:l,acaoFazer:s}),a++,e.console.log("registro concluído"),e.console.log(o),e.console.log(a)}function n(){return o.length&&a>=0}function i(){return o.length&&a<o.length-1}function r(){if(e.console.log("desfazendo"),!n())return;e.console.log(o),e.console.log(a);const s=o[a].acaoDesfazer;s(),a--}function c(){if(e.console.log("refazendo"),!i())return;e.console.log(o),e.console.log(a),a++;const s=o[a].acaoFazer;s()}return{registrarAcao:t,desfazer:r,refazer:c}}function cl(e,o){const a=e.map(n=>n.rotulo).map(n=>ma(`${n}`)),t=o.filter(n=>!n.desabilitada).map(n=>e.map(i=>{const r=i.nome,c=n.celulas[r].valorFormatado??"";return ma(`"${c}"`)}).join(";"));return t.unshift(a.join(";")),t.join(`
`)}function Ra(e){return e.filter(o=>o.tipo==="texto").length}function ul(e){const o=Ra(e);return o>0?100/o:0}function Ba(e,o){const a={};return a.userSelect="none",e.tipo==="sequencial"?(a.width="50px",a.textAlign="right"):e.tipo==="texto"?(a.width=o,a.textAlign="left"):e.tipo==="data"||e.tipo==="competencia"||e.tipo==="opcoes"?(a.width="100px",a.minWidth="100px",a.textAlign="center"):e.tipo==="booleano"?(a.width="50px",a.minWidth="50px",a.textAlign="center"):(a.width="100px",a.textAlign="right"),a}function dl(e,o){const a=Ba(e,o);return a.fontWeight="bold",a.textAlign="center",a}function ja(e,o=!1){const a=[];return o?a.push(be.Coluna.Fixa):e.editavel?a.push(be.Coluna.Editavel):e.calculada&&a.push(be.Coluna.Calculada),a.join(" ").trim()}function ml(e,o=!1){return ja(e,o)}function fl(e,o=0,a=[]){const t=`${ul(e)}%`;return e.map((n,i)=>{const r=i+1<=o;return{...n,fixa:r,ocultar:a.length>0?!a.includes(n.nome):!1,estilos:Ba(n,t),estilosCabecalho:dl(n,t),classes:ja(n,r),classesCabecalho:ml(n,r)}})}function _o(e){return Ra(e)>0?{width:"50px"}:{width:"100%"}}const pl={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},vl={style:{"min-width":"20px"}},gl=["colspan"],hl=x("div",null,[x("span",null," Utilize a linha abaixo para adicionar novos registros ")],-1),bl=[hl],_l={key:1},Cl=["colspan"],yl=le({__name:"CecalcPlanilha",props:{configColunas:{default:()=>[]},linhas:{default:()=>[]},colunasVisiveis:{default:()=>[]},congelarColunas:{default:0},altura:{default:"calc(100vh - 270px)"},novaLinha:{},nomeArquivoCsv:{},habilitarAlcaDeArrasto:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!0},teclaDelRemoveLinha:{type:Boolean,default:!1}},emits:["atualizarCelula","removerCelula","atualizarSelecao","removerSelecao","novaLinha","removerLinha","repetir","adicionar","click","dblclick"],setup(e,{expose:o,emit:a}){const t=e,n=R(()=>fl(t.configColunas,t.congelarColunas,t.colunasVisiveis).filter(d=>!d.ocultar)),i=P(null),r=P(!1),c=P(),s=P({col:-1,lin:-1}),{obterCelula:l,desativar:h,ativarCelula:y,selecionarArea:_,redefinirCaixaSelecao:b,celulaAtiva:D,obterPACelulaAtiva:u,obterPACelulaOposta:v,obterSelecaoOrdenada:T,converterPosicaoAR:f,converterPosicaoRA:$,selecionarColuna:E,selecionarLinha:V,selecionarTudo:O,dispararEfeitoCopia:L,plugarMouse:W,plugarTeclado:B}=ll({container:i,habilitarAlcaDeArrasto:t.habilitarAlcaDeArrasto,callbackAlcaDeArrasto:at}),J=rl(i),{copy:ue,copied:xe,isSupported:De}=Dn({read:!0,source:"",copiedDuring:1500,legacy:!0}),{exportar:_e}=La(),{confirmacao:Se,aviso:ke}=jo(),w=sl();Me(()=>t.linhas.length,async d=>{await pe(),d!==void 0&&(d===0?h():D.value?b():y())});function X(){ke("Operação não permitida",`A operação não pode ser realizada. O uso da área de transferência foi bloqueado pelo seu navegador.
Habilite a funcionalidade e tente de novo.`)}function fe(){return Se("Confirmação","Os dados que você está tentando colar não são do mesmo tamanho de sua seleção. Deseja colar mesmo assim?")}function Fe(){D.value&&y(D.value)}async function Re(){const d=u();if(d){const C=f(d);if(C){const{col:S,lin:z}=C;s.value.col=S,s.value.lin=z}await pe(),b()}}async function Ve(){s.value.lin=-1,s.value.col=-1,D.value&&D.value.focus(),await pe(),b()}function Xe(d){return Pe(d)&&d>=0&&d<t.linhas.length}function Ue(d){return Pe(d)&&d>=0&&d<n.value.length}function Ie(d){return n.value[d].nome}function Qe(d){const C=f(d);if(!C)return;const{lin:S,col:z}=C;if(!Xe(S)||!Ue(z))return;const U=t.linhas[S],Q=Ie(z);return{linha:U,nomeColuna:Q}}function Ne(d){const C=Qe(d);if(!C)return;const{linha:S,nomeColuna:z}=C;return S.celulas[z].valorFormatado}function ro(d,C){if(!Ue(d)||!Ue(C))return Array.from({length:Math.max(d,C)-Math.min(d,C)+1}).fill("");const S=[];for(let z=Math.min(d,C);z<=Math.max(d,C);z++)S.push(n.value[z].rotulo);return S}function Be(d){const C=[],[S,z]=d;for(let U=S.lin;U<=z.lin;U++){const Q=[];for(let G=S.col;G<=z.col;G++)Q.push(Ne({col:G,lin:U})||"");C.push(Q)}return C}function p(d=!1){const C=T();if(Array.isArray(C)&&C.length){const S=Be(C);if(d){const[z,U]=C,Q=f(z),G=f(U);if(Q&&G){const A=ro(Q.col,G.col);S.unshift(A)}}return S}return[]}async function F(){let d=await navigator.clipboard.readText();return d=d.replace(/\r/g,"").trim(),!d||!d.split(`
`).length?[]:d.split(`
`).map(C=>C.trim().split("	").map(z=>z.trim()))}function q(d,C,S){const z=t.linhas[C],U=Ie(S),Q=$({col:S,lin:C});if(!Q)return;const G=Ne(Q)||"",A=async()=>{a("atualizarCelula",{linha:z,coluna:U,valor:d}),await pe();const M=l(Q);M&&y(M)},oe=async()=>{G?a("atualizarCelula",{linha:z,coluna:U,valor:G}):a("removerCelula",{linha:z,coluna:U}),await pe();const M=l(Q);M&&y(M)};w.registrarAcao(A,oe),Ve()}function j(){const d=u();if(!d)return;const C=f(d);if(!C)return;const{lin:S}=C,z=t.linhas[S],U=async()=>{a("removerLinha",{linha:z}),await pe();const G=l(d);G&&y(G)},Q=async()=>{a("novaLinha",{linha:z}),await pe();const G=l(d);G&&y(G)};w.registrarAcao(U,Q)}function Z(d){const C=f(d);if(!C)return;const{lin:S,col:z}=C,U=t.linhas[S],Q=Ie(z),G=Ne(d)||"",A=async()=>{a("removerCelula",{linha:U,coluna:Q}),await pe();const M=l(d);M&&y(M)},oe=async()=>{a("atualizarCelula",{linha:U,coluna:Q,valor:G}),await pe();const M=l(d);M&&y(M)};w.registrarAcao(A,oe)}function H(d,C){const S=Be(C),[z,U]=C,[Q,G]=[f(z),f(U)];if(!Q||!G)return;const A=[];for(let ge=Q.col;ge<=G.col;ge++){const qe=Ie(ge);A.push(qe)}const oe=[],M=[];for(let ge=Q.lin;ge<=G.lin;ge++){const qe=t.linhas[ge],Ze={},ho={};A.forEach((aa,ta)=>{Ze[aa]=d[ge-Q.lin][ta],ho[aa]=S[ge-Q.lin][ta]}),oe.push({linha:qe,valores:Ze}),M.push({linha:qe,valores:ho})}const Ee=()=>{a("atualizarSelecao",{itens:oe}),_(z,U)},Ce=()=>{a("atualizarSelecao",{itens:M}),_(z,U)};w.registrarAcao(Ee,Ce)}function te(d){const C=Be(d),[S,z]=d,[U,Q]=[f(S),f(z)];if(!U||!Q)return;const G=[];for(let Ce=U.col;Ce<=Q.col;Ce++){const ge=Ie(Ce);G.push(ge)}const A=[],oe=[];for(let Ce=U.lin;Ce<=Q.lin;Ce++){const ge=t.linhas[Ce];A.push(ge);const qe={};G.forEach((Ze,ho)=>{qe[Ze]=C[Ce-U.lin][ho]}),oe.push({linha:ge,valores:qe})}const M=()=>{a("removerSelecao",{linhas:A,colunas:G}),_(S,z)},Ee=()=>{a("atualizarSelecao",{itens:oe}),_(S,z)};w.registrarAcao(M,Ee)}async function re(d=!1){if(!De)return X();const S=p(d).map(z=>z.join("	")).join(`
`);await ue(S),xe.value&&L()}function ve(){re(!0)}async function so(){if(!De)return X();await re(),xe.value&&vo()}async function co(){if(!De)return X();const d=T();if(Array.isArray(d)&&d[0]&&d[1]){const C=await F();if(!C.length)return;const[S,z]=d,U=z.lin-S.lin+1,Q=z.col-S.col+1;if(C.length!==U||C[0].length!==Q){if((U>1||Q>1)&&!await fe())return;z.lin=S.lin+C.length-1,z.col=S.col+C[0].length-1}H(C,[S,z])}}function vo(){const d=T(),[C,S]=d;C&&S&&(C.lin===S.lin&&C.col===S.col?Z(C):te([C,S]))}function go(d,C){const[S,z]=C,[U,Q]=[f(S),f(z)];if(!U||!Q)return;const G=Be(C),A=Ie(U.col),oe=[],M=[];for(let ge=U.lin;ge<=Q.lin;ge++){const qe=t.linhas[ge];M.push(qe);const Ze=G[ge-U.lin][U.col];oe.push({linha:qe,valores:{[A]:Ze}})}const Ee=()=>{a("repetir",{valor:d,coluna:A,linhas:M}),_(S,z)},Ce=()=>{a("atualizarSelecao",{itens:oe}),_(S,z)};w.registrarAcao(Ee,Ce)}function wo(d){const{col:C,lin:S}=d,z=t.linhas.length-1;if(S===z)return{lin:S,col:C};const U=Ie(C);let Q=S;for(let G=S+1;G<=z;G++){const A=t.linhas[G].celulas[U].valor,oe=t.linhas[G].desabilitada;if(A!=null&&A!==""||oe)break;Q=G}return{lin:Q,col:C}}function Fo(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const C=Ne(d);if(!C)return;const S=v();if(!S||S.lin===d.lin)return;const z=[{lin:Math.min(d.lin+1,S.lin),col:d.col},{lin:Math.max(d.lin+1,S.lin),col:d.col}];go(C,z)}function ot(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const C=Ne(d);if(!C)return;const S=f(d);if(!S)return;const z=wo(S),U=$(z);if(!U)return;const Q=[{lin:Math.min(d.lin+1,U.lin),col:d.col},{lin:Math.max(d.lin+1,U.lin),col:d.col}];go(C,Q)}function Zo(){t.habilitarDesfazerRefazer&&w.refazer()}function ea(){t.habilitarDesfazerRefazer&&w.desfazer()}function oa(){const d=cl(t.configColunas,t.linhas),C=`${t.nomeArquivoCsv||"dados"}.csv`;_e(d,C,"text/csv")}function at(d){d.type==="drop"&&Fo(),d.type==="dblclick"&&ot()}function tt(d){const C=d.key,S=d.ctrlKey,z=/^[\dA-Za-z]$/.test(C);if(C==="Escape"){d.stopPropagation(),Ve();return}if(C==="Delete"||C==="Backspace"){if(d.stopPropagation(),t.teclaDelRemoveLinha)return j();vo();return}S&&(C==="c"||C==="C")&&re(),S&&(C==="v"||C==="V")&&co(),S&&(C==="x"||C==="X")&&so(),S&&(C==="y"||C==="Y")&&Zo(),S&&(C==="z"||C==="Z")&&ea(),!S&&(z||C==="F2")&&D.value&&Re(),B(d)}function So(d){if(d.type==="contextmenu"){d.preventDefault(),c.value=d.target||void 0,r.value=!0,W(d);return}if(d.type==="click"){W(d);const C=u();if(C){const S=Qe(C);if(!S)return;a("click",S),b()}return}if(d.type==="dblclick"){W(d),Re();const C=u();if(C){const S=Qe(C);if(!S)return;a("dblclick",S)}}}o({gerarArquivoCsv:oa});async function ko(d,C){a("adicionar",{valor:d,nomeColuna:C}),await pe(),Fe()}return(d,C)=>{const S=_t,z=Oi,U=Mi,Q=Hi,G=al;return I(),N("div",{ref_key:"container",ref:i,class:"cecalc-planilha-container",style:ce({height:d.altura})},[x("table",null,[x("thead",null,[x("tr",null,[k(S,{onResize:Fe}),x("th",{class:ae(m(be).Coluna.Fixa),onClick:C[0]||(C[0]=Te((...A)=>m(O)&&m(O)(...A),["self"]))},[fo(d.$slots,"acoes-canto-superior")],2),(I(!0),N(me,null,Ae(m(n),A=>(I(),N("th",{key:`cab-${A.nome}`,class:ae(A.classesCabecalho),style:ce(A.estilosCabecalho),onClick:C[1]||(C[1]=Te(oe=>m(E)(oe.target),["self"]))},Y(A.rotulo),7))),128))])]),x("tbody",{onMousedown:C[4]||(C[4]=(...A)=>m(W)&&m(W)(...A)),onClick:So,onDblclick:So,onMouseover:C[5]||(C[5]=(...A)=>m(W)&&m(W)(...A)),onContextmenu:So,onKeydown:tt},[(I(!0),N(me,null,Ae(d.linhas,(A,oe)=>(I(),N("tr",{key:`lin-${oe}`,class:ae({desabilitada:A.desabilitada})},[x("th",{class:ae(m(be).Coluna.Fixa),style:ce(m(_o)(d.configColunas)),onClick:C[2]||(C[2]=Te(M=>m(V)(M.target),["self"]))},[x("div",pl,[x("div",vl,Y(oe+1),1),fo(d.$slots,"acoes-primeira-coluna",{linha:A,indexLinha:oe,selecionarLinha:m(V)})])],6),(I(!0),N(me,null,Ae(m(n),(M,Ee)=>(I(),N(me,{key:`cel-${oe}-${Ee}`},[M.editavel&&M.tipo==="booleano"?(I(),ie(z,{key:0,tabindex:"0","model-value":A.celulas[M.nome].valor,desabilitar:A.desabilitada,class:ae(`${M.classes} ${A.celulas[M.nome].classes}`),style:ce(Object.assign(M.estilos||{},A.celulas[M.nome].estilos)),onValorAtualizado:Te(Ce=>q(Ce,oe,Ee),["self"])},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):M.editavel&&M.tipo==="opcoes"?(I(),ie(U,{key:1,tabindex:"0","model-value":A.celulas[M.nome].valor,opcoes:M.opcoes,desabilitar:A.desabilitada,class:ae(`${M.classes} ${A.celulas[M.nome].classes}`),style:ce(Object.assign(M.estilos||{},A.celulas[M.nome].estilos)),onValorAtualizado:Te(Ce=>q(Ce,oe,Ee),["self"])},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):M.editavel&&M.tipo!=="opcoes"&&M.tipo!=="booleano"?(I(),ie(Q,{key:2,nome:`${M.nome}-${oe}`,tabindex:"0","model-value":A.celulas[M.nome].valorFormatado,placeholder:M.placeholder,tipo:M.tipo,desabilitar:A.desabilitada,editando:m(s).col===Ee&&m(s).lin===oe,class:ae(`${M.classes} ${A.celulas[M.nome].classes}`),style:ce(Object.assign(M.estilos||{},A.celulas[M.nome].estilos)),onEdicaoConcluida:Ve,onValorAtualizado:Te(Ce=>q(Ce,oe,Ee),["self"])},null,8,["nome","model-value","placeholder","tipo","desabilitar","editando","class","style","onValorAtualizado"])):(I(),N("td",{key:3,tabindex:"0",class:ae(`${M.classes} ${A.celulas[M.nome].classes}`),style:ce(Object.assign(M.estilos||{},A.celulas[M.nome].estilos))},Y(A.celulas[M.nome].valorFormatado||M.placeholder),7))],64))),128))],2))),128)),k(G,{modelValue:m(r),"onUpdate:modelValue":C[3]||(C[3]=A=>Ge(r)?r.value=A:null),"habilitar-desfazer-refazer":d.habilitarDesfazerRefazer,target:m(c),offset:[-30,10],onCopiar:re,onRecortar:so,onColar:co,onDesfazer:ea,onRefazer:Zo,onCopiarComCabecalhos:ve,onGerarCsv:oa},null,8,["modelValue","habilitar-desfazer-refazer","target"])],32),x("tfoot",{onClick:C[6]||(C[6]=(...A)=>m(J).plugarMouse&&m(J).plugarMouse(...A)),onKeydown:C[7]||(C[7]=(...A)=>m(J).plugarTeclado&&m(J).plugarTeclado(...A))},[d.novaLinha&&d.novaLinha.celulas?(I(),N(me,{key:0},[x("tr",null,[x("th",{class:ae(m(be).Coluna.Fixa),style:ce(m(_o)(d.configColunas))},"   ",6),x("td",{colspan:m(n).length},bl,8,gl)]),x("tr",null,[x("th",{class:ae(m(be).Coluna.Fixa),style:ce(m(_o)(d.configColunas))},"   ",6),(I(!0),N(me,null,Ae(m(n),(A,oe)=>(I(),N(me,{key:`nova-linha-col-${oe}`},[(A.editavel||d.novaLinha.celulas[A.nome].editavel)&&A.tipo==="booleano"?(I(),ie(z,{key:0,tabindex:"0","model-value":d.novaLinha.celulas[A.nome].valor,desabilitar:d.novaLinha.desabilitada,class:ae(`${A.classes} ${d.novaLinha.celulas[A.nome].classes}`),style:ce(Object.assign(A.estilos||{},d.novaLinha.celulas[A.nome].estilos)),onValorAtualizado:M=>ko(M,A.nome)},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):(A.editavel||d.novaLinha.celulas[A.nome].editavel)&&A.tipo==="opcoes"?(I(),ie(U,{key:1,tabindex:"0","model-value":d.novaLinha.celulas[A.nome].valor,opcoes:A.opcoes,"incluir-opcao-vazia":!0,desabilitar:d.novaLinha.desabilitada,class:ae(`${A.classes} ${d.novaLinha.celulas[A.nome].classes}`),style:ce(Object.assign(A.estilos||{},d.novaLinha.celulas[A.nome].estilos)),onValorAtualizado:M=>ko(M,A.nome)},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):(A.editavel||d.novaLinha.celulas[A.nome].editavel)&&A.tipo!=="opcoes"&&A.tipo!=="booleano"?(I(),ie(Q,{key:2,nome:`${A.nome}-nova-linha`,tabindex:"0","model-value":d.novaLinha.celulas[A.nome].valorFormatado,placeholder:A.placeholder,tipo:A.tipo,desabilitar:d.novaLinha.desabilitada,editando:!0,class:ae(`${A.classes} ${d.novaLinha.celulas[A.nome].classes}`),style:ce(Object.assign(A.estilos||{},d.novaLinha.celulas[A.nome].estilos)),onValorAtualizado:M=>ko(M,A.nome)},null,8,["nome","model-value","placeholder","tipo","desabilitar","class","style","onValorAtualizado"])):(I(),N("td",{key:3,class:ae(`${A.classes} ${d.novaLinha.celulas[A.nome].classes}`),style:ce(Object.assign(A.estilos||{},d.novaLinha.celulas[A.nome].estilos))},Y(d.novaLinha.celulas[A.nome].valorFormatado||A.placeholder),7))],64))),128))])],64)):d.linhas.length?ao("",!0):(I(),N("tr",_l,[x("th",{class:ae(m(be).Coluna.Fixa),style:ce(m(_o)(d.configColunas))},"   ",6),x("td",{colspan:m(n).length}," Nenhum dado disponível. ",8,Cl)]))],32)])],4)}}});const xl={[$e.NaoComputar]:{[g.Masculino]:0,[g.Feminino]:0},[$e.Comum]:{[g.Masculino]:1,[g.Feminino]:1},[$e.Especial25]:{[g.Masculino]:4,[g.Feminino]:3},[$e.Especial20]:{[g.Masculino]:5,[g.Feminino]:5},[$e.Especial15]:{[g.Masculino]:6,[g.Feminino]:6},[$e.DeficienciaGrave]:{[g.Masculino]:4,[g.Feminino]:5},[$e.DeficienciaModerada]:{[g.Masculino]:3,[g.Feminino]:4},[$e.DeficienciaLeve]:{[g.Masculino]:2,[g.Feminino]:2}};function $l(e,o){if(!he(e.dataInicial))throw new Error(`Período ${o+1}: data inicial inválida.`);if(!he(e.dataFinal))throw new Error(`Período ${o+1}: data final inválida.`);if(e.dataFinal.valueOf()<e.dataInicial.valueOf())throw new Error(`Período ${o+1}: data final anterior à data inicial.`);return e}function ba(e){return{...e,dataInicial:new Date(e.dataInicial.valueOf()),dataFinal:new Date(e.dataFinal.valueOf())}}function _a(e,o){return xl[e.formaContagem][o]}function Mo(e){return new ee(e).adicionar(1,Uo.Dias).nativo()}function Dl(e){return new ee(e).adicionar(-1,Uo.Dias).nativo()}function No(e,o){const a=e.dataInicial.valueOf()<=o.dataInicial.valueOf(),t=a?e:o,n=a?o:e;return t.dataInicial.valueOf()<=n.dataFinal.valueOf()&&n.dataInicial.valueOf()<=t.dataFinal.valueOf()}function Ca(e,o){return e.dataInicial.valueOf()>=o.dataInicial.valueOf()&&e.dataFinal.valueOf()<=o.dataFinal.valueOf()}function Ua(e,o){if(Array.isArray(o)&&o.length>1){const a=o[e];return o.some((t,n)=>n!==e?No(a,t):!1)}return!1}function Al(e,o){const a=Je();if(!Array.isArray(e)||!e.length)return[];if(e.length===1)return e[0].excluido?[]:e;if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const t=e.filter(i=>!i.excluido).map($l),n=[];for(let i=0;i<t.length;i++){let r=ba(t[i]);if(a.console.log(">>> atual",r),n.length){const s=n[n.length-1];if(No(s,r)){if(Ca(r,s)){a.console.log(">>> descartado desde logo, por concomitância com",s);continue}r.dataInicial=Mo(s.dataFinal),a.console.log(">>> ajustado",r)}}const c=_a(r,o);a.console.log(">>> peso",c);for(let s=i+1;s<t.length;s++){const l=t[s];if(No(r,l)&&(r.prioritario<l.prioritario||c<_a(l,o))){if(a.console.log(">>> são concomitantes"),Ca(r,l)){a.console.log(">>> continência"),r=null;break}if(r.dataInicial.valueOf()<l.dataInicial.valueOf()){a.console.log(">>> sobra anterior");const h=ba(r);h.dataFinal=Dl(l.dataInicial),n.push(h)}if(r.dataFinal.valueOf()>l.dataFinal.valueOf())a.console.log(">>> sobra posterior"),r.dataInicial=Mo(l.dataFinal);else{a.console.log(">>> descarta-se"),r=null;break}}}r!==null&&n.push(r)}return n.sort((i,r)=>i.dataInicial.valueOf()-r.dataInicial.valueOf())}const Il=["id","dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],wl=["ID","Início","Término","Descrição","Forma de Contagem","Prioritário","Contar Carência","Fonte","Concomitância"],Fl=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],Sl=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte"],{obterOpcoesFormaDeContagem:kl}=Bo(),El=kl();function Tl(e){return e==="dataInicial"||e==="dataFinal"?"data":e==="prioritario"||e==="contarCarencia"?"booleano":e==="formaContagem"?"opcoes":"texto"}function Ol(e,o,a){return o.nome==="concomitancia"?e===!0?"SIM":"":o.nome==="descricao"||o.nome==="fonte"||o.nome==="id"?e:o.nome==="dataInicial"||o.nome==="dataFinal"?a.data(e):o.nome==="formaContagem"||o.nome==="prioritario"||o.nome==="contarCarencia"?e:`${e}`}function Pl(e,o,a){return o.excluido?be.Celula.Desabilitada:o.formaContagem===$e.NaoComputar||e.nome==="contarCarencia"&&!o.contarCarencia?be.Celula.Desconsiderada:e.nome==="formaContagem"&&o.formaContagem!==$e.Comum?be.Celula.ValorIncluidoPeloUsuario:e.nome==="concomitancia"&&a===!0?"text-center bg-red-1 text-red-10":""}function Vl(e){const o={};return e==="formaContagem"&&(o.width="200px"),e==="concomitancia"&&(o.textAlign="center"),o}function ql(){return Il.map((e,o)=>{const a=e==="formaContagem"?El:void 0;return{nome:e,rotulo:wl[o],tipo:Tl(e),editavel:Sl.includes(e),calculada:e==="concomitancia",placeholder:"",opcoes:a}})}function Ml(){return Fl}function Nl(e,o,a){return o.map((t,n)=>{const i=t.excluido,r=e.reduce((c,s)=>{const l=s.nome,h=s.nome==="concomitancia"?Ua(n,o):t[l],y=Ol(h,s,a),_=i?be.Celula.Desabilitada:Pl(s,t,h),b=Vl(s.nome);return c[s.nome]={valor:h,valorFormatado:y,classes:_,estilos:b},c},{});return{desabilitada:i,celulas:r}})}function ya(e){return{desabilitada:!1,celulas:e.reduce((a,t)=>{const i="",r="",c={};return a[t.nome]={valor:void 0,valorFormatado:i,classes:r,estilos:c},a},{})}}function xa(e,o){return o==="dataInicial"||o==="dataFinal"?new ee(e).nativo():o==="formaContagem"||o==="prioritario"||o==="contarCarencia"?e:`${e}`}function $a(){return{dataInicial:void 0,dataFinal:void 0,descricao:"",formaContagem:$e.Comum,contarCarencia:!0,fonte:"",excluido:!1,prioritario:!1}}const zl={class:"q-pl-sm"},Ll=le({__name:"TcPeriodos",setup(e){const o=P(),a=Je(),t=Qo(),n=po(),i=ql(),r=Ml(),c=R(()=>Nl(i,n.lista,t));let s=P(ya(i)),l=$a();function h($,E,V){const O=n.obterPorId($);if(!O)return;let L;try{L=xa(V,E)}catch(W){a.erro(W)}if(L!==void 0){if(E==="dataInicial"&&L.valueOf()>O.dataFinal.valueOf()||E==="dataFinal"&&L.valueOf()<O.dataInicial.valueOf())return;n.atualizar($,{...O,[E]:L})}}function y({linha:$,coluna:E,valor:V}){const O=$.celulas.id.valor;h(O,E,V)}function _({itens:$}){$.forEach(E=>{const{linha:V,valores:O}=E,L=V.celulas.id.valor;Object.entries(O).forEach(([W,B])=>{h(L,W,B)})})}function b({linha:$}){n.remover($.celulas.id.valor)}function D({linha:$}){const E={dataInicial:$.celulas.dataInicial.valor,dataFinal:$.celulas.dataFinal.valor,descricao:$.celulas.descricao.valor,contarCarencia:$.celulas.contarCarencia.valor,excluido:$.celulas.excluido.valor,fonte:$.celulas.fonte.valor,formaContagem:$.celulas.formaContagem.valor,prioritario:$.celulas.prioritario.valor};n.adicionar(E)}function u({linhas:$}){$.forEach(E=>{n.remover(E.celulas.id.valor)})}async function v({valor:$,nomeColuna:E}){const V=E==="fonte";let O;try{Ct($)&&(O=xa($,E))}catch(L){a.erro(L)}if(O!==void 0?(s.value.celulas[E].valorFormatado=$,l[E]=O):(s.value.celulas[E].valorFormatado="",l[E]=void 0),await pe(),V&&l.dataInicial&&l.dataFinal&&l.descricao){if(l.dataInicial.valueOf()>l.dataFinal.valueOf()){const L=l.dataInicial;l.dataInicial=l.dataFinal,l.dataFinal=L}s=P(ya(i)),n.adicionar({...l}),l=$a()}}function T($){n.alterarStatusExcluido($.celulas.id.valor,!0)}function f($){n.alterarStatusExcluido($.celulas.id.valor,!1)}return($,E)=>{const V=$o;return I(),ie(yl,{ref_key:"planilha",ref:o,"config-colunas":m(i),linhas:m(c),"colunas-visiveis":m(r),"congelar-colunas":0,"nome-arquivo-csv":"VinculosRVT",altura:"auto","tecla-del-remove-linha":!0,"nova-linha":m(s),onAtualizarCelula:y,onAtualizarSelecao:_,onRemoverSelecao:u,onAdicionar:v,onRemoverLinha:b,onNovaLinha:D},{"acoes-primeira-coluna":K(({linha:O})=>[x("div",zl,[O.desabilitada?(I(),ie(V,{key:0,round:"",flat:"",icon:"mdiRefresh"in $?$.mdiRefresh:m(An),size:"sm",title:"Restabelecer vínculo",onClick:L=>f(O)},null,8,["icon","onClick"])):(I(),ie(V,{key:1,round:"",flat:"",icon:"mdiCloseThick"in $?$.mdiCloseThick:m(In),size:"sm",color:"red-8",title:"Excluir vínculo",onClick:L=>T(O)},null,8,["icon","onClick"]))])]),_:1},8,["config-colunas","linhas","colunas-visiveis","nova-linha"])}}}),Qa=e=>(Pa("data-v-17b9653d"),e=e(),Va(),e),Rl={class:"row justify-between items-center content-center q-mb-sm"},Bl=Qa(()=>x("span",{class:"text-subtitle1 text-bold text-grey-8",style:{"vertical-align":"middle"}},"Área de Transferência",-1)),jl=Qa(()=>x("div",null,"Cole abaixo o conteúdo copiado (Ctrl-C)",-1)),Ul=le({__name:"CecalcImportador",props:{nome:{},rotulo:{},aceitos:{},plugins:{},carregando:{type:Boolean}},emits:["arquivoLido","textoLido","erroTipo","erroOutro"],setup(e,{emit:o}){const a=P(null),t=P(!1);function n(){var l,h;(l=a.value)==null||l.resetValidation(),(h=a.value)==null||h.pickFiles()}async function i(l){if(l=l.replace(/\r\n/g,`
`),typeof l=="string"&&l.length)try{return o("textoLido",l)}catch{o("erroOutro")}}async function r(){i(await window.navigator.clipboard.readText())}function c(l){const y=l.target.value;t.value=!1,i(y)}function s(l){if(l[0].failedPropValidation==="accept")return o("erroTipo");o("erroOutro")}return(l,h)=>{const y=yo,_=$o,b=xo,D=Kn,u=yt;return I(),ie(u,{class:"column full-width"},{default:K(()=>[k(m(Un),{ref_key:"picker",ref:a,"model-value":null,class:"col",label:l.rotulo,accept:l.aceitos,square:"",outlined:"","no-error-icon":"","hide-bottom-space":!0,loading:l.carregando,disable:l.carregando,color:"grey-9","bg-color":"grey-1","label-color":"grey-9",title:"Clique para importar um arquivo",onRejected:s,"onUpdate:modelValue":h[2]||(h[2]=v=>o("arquivoLido",v))},{prepend:K(()=>[k(y,{name:"mdiFolderOpen"in l?l.mdiFolderOpen:m(wn),color:"grey-7 cursor-pointer",title:"Clique para importar um arquivo",onClick:Te(n,["stop","prevent"])},null,8,["name","onClick"])]),append:K(()=>[x("div",null,[k(_,{icon:m(Fn),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:l.carregando,title:"Abrir caixa de texto"},{default:K(()=>[k(D,{modelValue:m(t),"onUpdate:modelValue":h[1]||(h[1]=v=>Ge(t)?t.value=v:null),class:"q-pa-md"},{default:K(()=>[x("div",Rl,[x("div",null,[k(y,{name:m(sa),size:"22px",class:"q-mr-sm",color:"grey-8"},null,8,["name"]),Bl]),k(_,{round:"",flat:"",dense:"",size:"sm",icon:m(Sn),color:"grey-8",onClick:h[0]||(h[0]=v=>t.value=!1)},null,8,["icon"])]),k(b,{flat:""},{default:K(()=>[jl,x("textarea",{class:"caixa-colagem",onInput:c},null,32)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"]),k(_,{icon:m(sa),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:l.carregando,title:"Clique para colar da área de transferência",onClick:r},null,8,["icon","disable"])])]),_:1},8,["label","accept","loading","disable"])]),_:1})}}});const Ql=Ye(Ul,[["__scopeId","data-v-17b9653d"]]);function Kl(e){const o=new oi(e);return kn({script:[{src:xt,onload:()=>{window&&"pdfjsLib"in window&&o.leitorDeArquivo.carregarPdfjs(window.pdfjsLib,$t)}}]},{mode:"client"}),o}const Hl={class:"row"},Gl={style:{width:"350px"},class:"col"},Yl=le({__name:"TcImportar",props:{modelValue:Boolean},setup(e){const o=Je(),a=[Dt,At,It,wt,Ft],t=Kl(a),{erro:n,confirmacao:i}=jo(),r=po(),c=Io(),s=P(!1);function l(u){const{processo:v,citacao:T,ajuizamento:f,autor:$,reu:E}=u;qa(v)&&c.$patch(V=>V.numeroProcesso=v),he(T)&&c.$patch(V=>V.citacao=T),he(f)&&c.$patch(V=>V.ajuizamento=f),Oe($)&&c.$patch(V=>V.autor=$),Oe(E)&&c.$patch(V=>V.reu=E)}function h(u){u.vinculos.forEach(v=>{const{seq:T,dataInicial:f,dataFinal:$,entidade:E}=v;r.adicionar({dataInicial:f,dataFinal:$??f,descricao:E||"-- não foi possível identificar --",formaContagem:$e.Comum,contarCarencia:!0,fonte:`CNIS (seq. ${T})`,excluido:!1,prioritario:!1})})}function y(u){u.forEach(v=>{const{dataInicial:T,dataFinal:f,descricao:$}=v;r.adicionar({dataInicial:T,dataFinal:f??T,descricao:$,formaContagem:$e.Comum,contarCarencia:!0,fonte:"usuário",excluido:!1,prioritario:!1})})}async function _(u){s.value=!0;let v;try{v=await t.ler(u)}catch(T){return s.value=!1,o.erro(T),n("Erro",T.message)}if(s.value=!1,v&&v.identificado&&Array.isArray(v.quadroResumo)){const T=`Dados identificados: ${v.nome}`,f=v.quadroResumo.map(E=>`${E[0]} <b>${E[1]}</b>`).join("<br>");if(await i(T,f,"Importar")){if(v.nome==="Dados do PJe")return l(v.dadosEstruturados);if(v.nome==="CNIS Completo"||v.nome==="CNIS Vínculos"||v.nome==="Meu INSS")return h(v.dadosEstruturados);if(v.nome==="Tempo de Contribuição (Simples)")return y(v.dadosEstruturados);n("Erro de leitura",`
        Os dados foram reconhecidos, mas não o tipo de documento.
        <br>
        Favor reportar este erro à CECALC, enviando, se possível, uma amostra do documento utilizado.
      `)}}else n("Dados não reconhecidos",`
      Neste site, os dados aceitos são apenas os seguintes:<br>
      <ul>
        <li>capa do processo do PJe;</li>
        <li>CNIS (Meu INSS, PrevJud e vínculos);</li>
        <li>períodos de contribuição simples</li>
      </ul>
    `)}function b(){n("Erro de arquivo",'Somente são permitidos arquivos "pdf" e "txt".')}function D(){n("Falha de leitura","Arquivo/documento inválido.")}return(u,v)=>{const T=Ql;return I(),N("div",Hl,[x("div",Gl,[k(T,{nome:"importar-dados-tc",class:"q-pa-xs",rotulo:"Importar Dados",aceitos:"application/pdf,text/plain",plugins:a,carregando:m(s),onArquivoLido:v[0]||(v[0]=f=>_(f)),onTextoLido:v[1]||(v[1]=f=>_(f)),onErroTipo:v[2]||(v[2]=f=>b()),"onErro:outro":v[3]||(v[3]=f=>D())},null,8,["carregando"])])])}}}),Jl=""+new URL("logo_jfsp_preto.e40a70d5.png",import.meta.url).href;const Wl={},Xl={class:"cecalc-relatorio-logo-container"},Zl=x("div",{class:"cecalc-relatorio-logo-esquerda"},[x("img",{src:Jl,alt:"logo jfsp"}),x("div",{class:"cecalc-relatorio-titulo-logo-texto"},[x("span",null,"Central Unificada de Cálculos Judiciais - CECALC"),x("span",null,"Seção Judiciária de São Paulo")])],-1);function er(e,o){return I(),N("div",Xl,[Zl,x("div",null,[fo(e.$slots,"info")])])}const Ka=Ye(Wl,[["render",er]]),or={class:"cecalc-relatorio-titulo-container"},ar={class:"cecalc-relatorio-titulo-nome"},Ha=le({__name:"CecalcRelatorioTitulo",props:{titulo:{default:""}},setup(e){return(o,a)=>(I(),N("div",or,[x("div",ar,Y(o.titulo),1)]))}});const tr={class:"cecalc-relatorio-subtitulo"},nr=le({__name:"CecalcRelatorioSubtitulo",props:{subtitulo:{default:""}},setup(e){return(o,a)=>(I(),N("div",tr,Y(o.subtitulo),1))}});const ir={class:"cecalc-relatorio-tabela"},Ga=le({__name:"CecalcRelatorioTabela",props:{titulo:{default:"Demonstrativo"},colunas:{default:()=>[]},linhas:{default:()=>[]}},setup(e){return(o,a)=>{const t=nr;return I(),N(me,null,[k(t,{subtitulo:o.titulo},null,8,["subtitulo"]),x("table",ir,[x("thead",null,[x("tr",null,[(I(!0),N(me,null,Ae(o.colunas,n=>(I(),N("th",{key:`coluna-${n.nome}`,class:ae(n.classes),style:ce(n.estilos)},Y(n.rotulo),7))),128))])]),x("tbody",null,[(I(!0),N(me,null,Ae(o.linhas,(n,i)=>(I(),N("tr",{key:`linha-${i}`},[(I(!0),N(me,null,Ae(o.colunas,r=>(I(),N("td",{key:`celula-${i}-${r.nome}`,class:ae(n[r.nome].classes),style:ce(n[r.nome].estilos)},Y(n[r.nome].valor),7))),128))]))),128))])])],64)}}});const lr={class:"cecalc-relatorio-bloco-container"},rr={class:"cecalc-relatorio-bloco-chave"},sr=x("span",{class:"cecalc-relatorio-bloco-pontos"},null,-1),cr={class:"cecalc-relatorio-bloco-valor"},ur=le({__name:"CecalcRelatorioBloco",props:{bloco:{default:()=>({})}},setup(e){return(o,a)=>(I(),N("div",lr,[(I(!0),N(me,null,Ae(o.bloco,(t,n)=>(I(),N("div",{key:`bloco-${n}`,class:"cecalc-relatorio-bloco"},[x("span",rr,Y(n)+":",1),sr,x("span",cr,Y(t),1)]))),128))]))}});const dr={class:"cecalc-relatorio-secao-container"},mr={class:"cecalc-relatorio-secao-titulo"},fr={class:"cecalc-relatorio-secao-blocos"},pr=le({__name:"CecalcRelatorioSecao",props:{titulo:{default:""},blocos:{default:()=>[]}},setup(e){return(o,a)=>{const t=ur;return I(),N("div",dr,[x("div",mr,Y(o.titulo),1),fo(o.$slots,"default",{},()=>[x("div",fr,[(I(!0),N(me,null,Ae(o.blocos,(n,i)=>(I(),ie(t,{key:`bloco-${i}`,bloco:n},null,8,["bloco"]))),128))])])])}}});const vr={class:"cecalc-demonstrativo-pagina-botao-container"},Ya=le({__name:"CecalcRelatorioPagina",props:{paisagem:{type:Boolean}},setup(e){const o=e,a=wa(),t=P();function n(r){Array.from(document.styleSheets).forEach(c=>{if(c.cssRules){const s=document.createElement("style");Array.from(c.cssRules).forEach(l=>{s.append(document.createTextNode(l.cssText))}),r.head.append(s)}else if(c.href){const s=document.createElement("link");s.rel="stylesheet",s.href=c.href,r.head.append(s)}})}function i(){if(!t.value)return;const r=`
  <!DOCTYPE html>
  <html lang="pt-BR">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Demonstrativo ${a.nome}</title>
      <style>
        @page {
          size: a4 ${o.paisagem?"landscape":"portrait"};
        }
      </style>
    </head>
    <body>
      ${t.value.outerHTML}
    </body>
  </html>
  `,c=window.open(" ","_blank");c&&(c.document.write(r),n(c.document),setTimeout(()=>{c.print(),c.close()},50))}return(r,c)=>(I(),N("div",{class:ae(["cecalc-demonstrativo-pagina-container",{paisagem:r.paisagem}])},[x("div",{ref_key:"areaImpressao",ref:t,class:"cecalc-demonstrativo-pagina"},[x("div",vr,[k(m($o),{"fab-mini":"",dense:"","no-caps":"",icon:"mdiPrinter"in r?r.mdiPrinter:m(En),color:"white",class:"text-red-10",title:"Imprimir/Salvar em PDF",onClick:i},null,8,["icon"])]),fo(r.$slots,"default")],512)],2))}});function Ja(e,o){return St(e,Mo(o),kt.USNasd)}function zo(e){e=Math.trunc(e);const o=Math.trunc(e/360),a=Math.trunc((e-o*360)/30),t=e-360*o-30*a;return{anos:o,meses:a,dias:t}}function Lo(e,o){const a=o[e];return!a.contarCarencia||e===0?!1:o.slice(0,e).some(n=>n.contarCarencia&&Et(a.dataInicial,n.dataFinal))}function Ro(e,o,a){const t=Tt(e,o,Uo.Meses);return Math.max(0,t+1-Number(a))}function gr(e,o){if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const{obterFatorConversao:a}=Bo();return e.map((t,n)=>{const i={...t,fatorConversao:1,sAnos:0,sMeses:0,sDias:0,cAnos:0,cMeses:0,cDias:0,carencia:0};if(!i.excluido&&i.formaContagem!==$e.NaoComputar){const c=Ja(i.dataInicial,i.dataFinal),s=zo(c);i.sAnos=s.anos,i.sMeses=s.meses,i.sDias=s.dias,i.carencia=i.contarCarencia?Ro(i.dataInicial,i.dataFinal,Lo(n,e)):0,i.fatorConversao=a(i.formaContagem,o);const l=zo(c*i.fatorConversao);i.cAnos=l.anos,i.cMeses=l.meses,i.cDias=l.dias}return i})}function Da(e,o){let{anos:a,meses:t,dias:n}=e;return n+=o.dias,t+=o.meses,a+=o.anos,n>=30&&(t+=Math.trunc(n/30),n%=30),t>=12&&(a+=Math.trunc(t/12),t%=12),{anos:a,meses:t,dias:n}}function Le(e,o=!0,a){let t={anos:0,meses:0,dias:0},n=0;for(let i=0;i<e.length;i++){const r=e[i];if(a&&r.dataInicial.valueOf()>a.valueOf())break;if(a&&a.valueOf()>=r.dataInicial.valueOf()&&a.valueOf()<=r.dataFinal.valueOf()){const s=zo(Ja(r.dataInicial,a));n+=Ro(r.dataInicial,a,Lo(i,e)),t=Da(t,s);break}const c=o?{anos:r.sAnos,meses:r.sMeses,dias:r.sDias}:{anos:r.cAnos,meses:r.cMeses,dias:r.cDias};n+=Ro(r.dataInicial,r.dataFinal,Lo(i,e)),t=Da(t,c)}return[t,n]}const He={lei8213:new ee("24/07/1991").nativo(),dpe20:new ee("16/12/1998").nativo(),lei9876:new ee("28/11/1999").nativo(),regraPontos:new ee("17/06/2015").nativo(),dpe103:new ee("13/11/2019").nativo(),divisorMinimo:new ee("03/05/2022").nativo(),transicoes:{2019:new ee("31/12/2019").nativo(),2020:new ee("31/12/2020").nativo(),2021:new ee("31/12/2021").nativo(),2022:new ee("31/12/2022").nativo(),2023:new ee("31/12/2023").nativo(),2024:new ee("31/12/2024").nativo(),2025:new ee("31/12/2025").nativo(),2026:new ee("31/12/2026").nativo(),2027:new ee("31/12/2027").nativo(),2028:new ee("31/12/2028").nativo(),2029:new ee("31/12/2029").nativo(),2030:new ee("31/12/2030").nativo(),2031:new ee("31/12/2031").nativo(),2032:new ee("31/12/2032").nativo()}},hr=new Date().getFullYear();function br(){const e=Io(),{sexo:o}=Oa(e),a=po(),t=R(()=>Al(a.lista,o.value)),n=R(()=>gr(t.value,o.value)),i=R(()=>Le(n.value)),r=R(()=>Le(n.value,!1)),c=R(()=>Le(n.value,!0,He.lei8213)),s=R(()=>Le(n.value,!0,He.dpe20)),l=R(()=>Le(n.value,!0,He.lei9876)),h=R(()=>Le(n.value,!0,He.regraPontos)),y=R(()=>Le(n.value,!0,He.dpe103)),_=R(()=>Le(n.value,!0,He.divisorMinimo)),b=Object.entries(He.transicoes).reduce((D,[u,v])=>(Number(u)<hr&&(D[u]=R(()=>Le(n.value,!0,v))),D),{});return{periodosProcessados:t,periodosCalculados:n,comum:i,especial:r,lei8213:c,dpe20:s,lei9876:l,regraPontos:h,dpe103:y,divisorMinimo:_,transicoes:b}}const Oo={Tabela:{Celula:{Desabilitada:"cecalc-relatorio-tabela-celula-desabilitada",Desconsiderada:"cecalc-relatorio-tabela-celula-desconsiderada",ValorIncluidoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-modificado",Atencao:"cecalc-relatorio-tabela-celula-atencao",Verificada:"cecalc-relatorio-tabela-celula-verificada",ValorElevado:"cecalc-relatorio-tabela-celula-valor-elevado",ValorLimitado:"cecalc-relatorio-tabela-celula-valor-limitado"}}},_r=["dataInicial","dataFinal","descricao","formaContagem","fonte","concomitancia"],Cr=["Início","Término","Descrição","Forma de Contagem","Fonte","Concomitância"],Jo=["dataInicial","dataFinal"],Wo=["sAnos","sMeses","sDias"],Xo=["cAnos","cMeses","cDias"],Aa=["Anos","Meses","Dias"],yr=["dataInicial","dataFinal","descricao","formaContagem",...Wo,"fatorConversao",...Xo,"carencia","fonte"],xr=["Início","Término","Descrição","Forma de Contagem",...Aa,"Fator Conv.",...Aa,"Carência","Fonte"];function Wa(e){return Jo.includes(e)||e==="concomitancia"?{width:"70px"}:e==="descricao"||e==="fonte"?{width:"100%"}:e==="formaContagem"?{width:"100px"}:e==="fatorConversao"||Wo.includes(e)||Xo.includes(e)?{width:"50px"}:{}}function Xa(e){return Jo.includes(e)||e==="fonte"||e==="concomitancia"?{width:"70px",textAlign:"center"}:e==="descricao"||e==="fonte"?{width:"100%",textAlign:"left"}:e==="formaContagem"?{width:"100px",textAlign:"center"}:e==="fatorConversao"?{width:"50px",textAlign:"center"}:e==="carencia"||Wo.includes(e)||Xo.includes(e)?{width:"50px",textAlign:"right"}:{}}function Za(e,o,a=!1){return e.nome==="concomitancia"&&a?Oo.Tabela.Celula.Atencao:o.formaContagem===$e.NaoComputar||o.excluido?Oo.Tabela.Celula.Desabilitada:o.formaContagem!==$e.Comum?Oo.Tabela.Celula.ValorIncluidoPeloUsuario:""}function et(e,o,a,t){return Jo.includes(o.nome)?t.data(e):o.nome==="formaContagem"?t.formaContagem(e):o.nome==="fatorConversao"?t.numero(e,2):`${e??""}`}function $r(){return _r.map((e,o)=>({nome:e,rotulo:Cr[o],classes:"",estilos:Wa(e)}))}function Dr(e,o,a){return o.map((t,n)=>{const i=Ua(n,o);return e.reduce((r,c)=>{const s=c.nome,l=c.nome==="concomitancia"?i?"Sim":"":et(t[s],c,t,a),h=Za(c,t,i),y=Xa(c.nome);return r[c.nome]={valor:l,classes:h,estilos:y},r},{})})}function Ar(){return yr.map((e,o)=>({nome:e,rotulo:xr[o],classes:"",estilos:Wa(e)}))}function Ir(e,o,a){return o.map(t=>e.reduce((n,i)=>{const r=i.nome,c=et(t[r],i,t,a),s=Za(i,t),l=Xa(i.nome);return n[i.nome]={valor:c,classes:s,estilos:l},n},{}))}const wr={class:"q-pa-md"},Fr={class:"q-pa-md"},Sr={class:"q-pa-md"},kr={class:"q-pa-md"},Er={class:"q-pa-md"},Tr={class:"q-pa-md"},Or={class:"q-pa-md"},Pr={class:"q-pa-md"},Vr={class:"q-pa-md"},qr={class:"q-pa-md"},Mr=le({__name:"TcDemonstrativo",setup(e){const o=br(),a=Qo(),t=P(""),n=Ar(),i=R(()=>{try{return t.value="",Ir(n,o.periodosCalculados.value,a)}catch(r){return t.value=r.message,[]}});return(r,c)=>{const s=Ka,l=Ha,h=Ga,y=pr,_=Ya;return I(),N("div",null,[k(_,{paisagem:!0},{default:K(()=>[k(s),k(l,{titulo:"Cálculo de Tempo de Contribuição"}),k(h,{titulo:"Períodos Calculados",colunas:m(n),linhas:m(i)},null,8,["colunas","linhas"]),k(y,{titulo:"Total Comum"},{default:K(()=>[x("div",wr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).comum.value[0])),1),x("div",null,"carência: "+Y(m(o).comum.value[1]),1)])]),_:1}),k(y,{titulo:"Total Especial"},{default:K(()=>[x("div",Fr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).especial.value[0])),1),x("div",null,"carência: "+Y(m(o).especial.value[1]),1)])]),_:1}),k(y,{titulo:"Lei 8.213"},{default:K(()=>[x("div",Sr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).lei8213.value[0])),1),x("div",null,"carência: "+Y(m(o).lei8213.value[1]),1)])]),_:1}),k(y,{titulo:"DPE 20"},{default:K(()=>[x("div",kr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).dpe20.value[0])),1),x("div",null,"carência: "+Y(m(o).dpe20.value[1]),1)])]),_:1}),k(y,{titulo:"Lei 9.876"},{default:K(()=>[x("div",Er,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).lei9876.value[0])),1),x("div",null,"carência: "+Y(m(o).lei9876.value[1]),1)])]),_:1}),k(y,{titulo:"Regra Pontos"},{default:K(()=>[x("div",Tr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).regraPontos.value[0])),1),x("div",null,"carência: "+Y(m(o).regraPontos.value[1]),1)])]),_:1}),k(y,{titulo:"EC 103"},{default:K(()=>[x("div",Or,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).dpe103.value[0])),1),x("div",null,"carência: "+Y(m(o).dpe103.value[1]),1)])]),_:1}),k(y,{titulo:"Divisor Mínimo"},{default:K(()=>[x("div",Pr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).divisorMinimo.value[0])),1),x("div",null,"carência: "+Y(m(o).divisorMinimo.value[1]),1)])]),_:1}),k(y,{titulo:"Divisor Mínimo"},{default:K(()=>[x("div",Vr,[x("div",null,Y(m(a).tempoDeContribuicao(m(o).divisorMinimo.value[0])),1),x("div",null,"carência: "+Y(m(o).divisorMinimo.value[1]),1)])]),_:1}),(I(!0),N(me,null,Ae(m(o).transicoes,(b,D)=>(I(),ie(y,{key:D,titulo:`Transição ${D}`},{default:K(()=>[x("div",qr,[x("div",null,Y(m(a).tempoDeContribuicao(b.value[0])),1),x("div",null,"carência: "+Y(b.value[1]),1)])]),_:2},1032,["titulo"]))),128))]),_:1})])}}}),Nr=le({__name:"TcEspelho",setup(e){const o=po(),a=Qo(),t=$r(),n=R(()=>Dr(t,o.lista,a));return(i,r)=>{const c=Ka,s=Ha,l=Ga,h=Ya;return I(),N("div",null,[k(h,{paisagem:!1},{default:K(()=>[k(c),k(s,{titulo:"Tempo de Contribuição Informado (Espelho)"}),k(l,{titulo:"Períodos Informados",colunas:m(t),linhas:m(n)},null,8,["colunas","linhas"])]),_:1})])}}}),zr={class:"row items-center q-pa-md"},Lr={class:"row items-center col-xl-10 col-lg-10 col-md-9 col-sm-9 col-xs-12"},Rr={class:"row col-xl-2 col-lg-2 col-md-3 col-sm-3 col-xs-12"},Br={class:"q-px-sm"},jr=le({__name:"TcPrincipal",setup(e){const o=P(),a=P(),t=P(),n=P(),i=P(!1),r=R(()=>i.value?"auto":"calc(100vh - 350px)"),c=P("parametros"),s=Tn();function l(){o.value&&o.value.$el&&(i.value=!i.value,s.fullscreen.toggle(o.value.$el))}async function h(y){await pe(),y==="espelho"?t.value&&t.value.$el&&t.value.$el.focus():n.value&&n.value.$el&&n.value.$el.focus()}return(y,_)=>{const b=Ot,D=$o,u=Pt,v=Vt,T=qt,f=Fi,$=Si,E=Mt,V=Ll,O=Nt;return I(),ie(m(xo),{ref_key:"container",ref:o,flat:"",bordered:"",square:"",class:"scroll overflow-auto"},{default:K(()=>[x("div",zr,[x("div",Lr,[k(Yl,{ref_key:"importador",ref:a},null,512)]),x("div",Rr,[k(b),x("div",null,[k(D,{color:"grey-4","text-color":"grey-8",round:"",flat:"",icon:m(i)?m(On):m(Pn),title:m(i)?"Clique para retornar ao tamanho normal":"Clique para expandir a planilha",onClick:l},null,8,["icon","title"])])])]),x("div",Br,[k(T,null,{default:K(()=>[k(v,{modelValue:m(c),"onUpdate:modelValue":_[2]||(_[2]=L=>Ge(c)?c.value=L:null),dense:"","no-caps":"",align:"left","indicator-color":"blue-10","active-color":"blue-10","active-bg-color":"blue-1",class:"q-mx-md","left-icon":m(Vn),"right-icon":m(qn)},{default:K(()=>[k(u,{name:"parametros",label:"Parâmetros",ripple:!1}),k(u,{name:"periodos",label:"Períodos",ripple:!1}),k(u,{name:"espelho",label:"Espelho",ripple:!1,onClick:_[0]||(_[0]=L=>h("espelho"))}),k(u,{name:"demonstrativo",label:"Demonstrativo",ripple:!1,onClick:_[1]||(_[1]=L=>h("demonstrativo"))})]),_:1},8,["modelValue","left-icon","right-icon"])]),_:1}),k(O,{modelValue:m(c),"onUpdate:modelValue":_[3]||(_[3]=L=>Ge(c)?c.value=L:null),"keep-alive":""},{default:K(()=>[k(E,{name:"parametros",style:ce({height:m(r)})},{default:K(()=>[k($,null,{default:K(()=>[k(f)]),_:1})]),_:1},8,["style"]),k(E,{name:"periodos",style:ce({height:m(r)})},{default:K(()=>[k($,null,{default:K(()=>[k(V)]),_:1})]),_:1},8,["style"]),k(E,{name:"espelho",style:ce({height:m(r)})},{default:K(()=>[k($,null,{default:K(()=>[k(Nr,{ref_key:"espelho",ref:t,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"]),k(E,{name:"demonstrativo",style:ce({height:m(r)})},{default:K(()=>[k($,null,{default:K(()=>[k(Mr,{ref_key:"demonstrativo",ref:n,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])])]),_:1},512)}}});function Ur(){const e=wa(),o=La(),a=po(),t=Io();function n(){return a.temDadosCarregados()||t.temDadosCarregados()}function i(){a.reiniciar(),t.reiniciar(),t.numeroProcesso=""}function r(){const s={calculo:e.nome,versao:e.versao,timestamp:new Date().toISOString(),dados:{periodos:a.registros,parametros:{numeroProcesso:t.numeroProcesso,citacao:t.citacao,ajuizamento:t.ajuizamento,autor:t.autor,reu:t.reu,sexo:t.sexo,nascimento:t.nascimento,nb:t.nb,especie:t.especie,der:t.der,rural:t.rural,deficiente:t.deficiente,marcoCarencia:t.marcoCarencia,permitirConversaoAposEc103:t.permitirConversaoAposEc103,carenciaNecessariaAposEc103:t.carenciaNecessariaAposEc103,grauPreponderanteDeficiencia:t.grauPreponderanteDeficiencia,inicioPrimeiraDeficiencia:t.inicioPrimeiraDeficiencia,requisitoB41Deficiencia:t.requisitoB41Deficiencia,converterPeriodosB41Deficiencia:t.converterPeriodosB41Deficiente}}},l=JSON.stringify(s),h=(t.numeroProcesso||t.autor||"n_id").replace(/[\s.-]/g,"_");o.salvar(l,`TC_${h}.cecalc`)}async function c(s){const l=await o.abrir(s,n());if(l&&l.dados&&(i(),l.dados.periodos&&a.atualizarTodos(l.dados.periodos),l.dados.parametros)){const{numeroProcesso:h,citacao:y,ajuizamento:_,autor:b,reu:D,sexo:u,nascimento:v,nb:T,especie:f,der:$,rural:E,deficiente:V,marcoCarencia:O,permitirConversaoAposEc103:L,carenciaNecessariaAposEc103:W,grauPreponderanteDeficiencia:B,inicioPrimeiraDeficiencia:J,requisitoB41Deficiencia:ue,converterPeriodosB41Deficiente:xe}=l.dados.parametros;t.numeroProcesso=h||"",t.citacao=y||null,t.ajuizamento=_||null,t.autor=b||"",t.reu=D||"",t.sexo=u||g.Feminino,t.nascimento=v||null,t.nb=T||"",t.especie=f||Co.AposentadoriaPorTempoDeContribuicao,t.der=$||null,t.rural=E||!1,t.deficiente=V||!1,t.marcoCarencia=O||to.ImplementoIdade,t.permitirConversaoAposEc103=L??!1,t.carenciaNecessariaAposEc103=W??!1,t.grauPreponderanteDeficiencia=B??oo.DeficienciaLeve,t.inicioPrimeiraDeficiencia=J||null,t.requisitoB41Deficiencia=ue||Po.Art70CRegulamento,t.converterPeriodosB41Deficiente=xe??!0}}return{temDadosCarregados:n,limparDados:i,salvar:r,abrir:c}}const Gr=le({__name:"index",setup(e){const o=Ur();function a(){return o.temDadosCarregados()}function t(){o.limparDados()}function n(){o.salvar()}function i(r){o.abrir(r)}return(r,c)=>{const s=jr,l=zt;return I(),ie(l,{"cb-tem-dados-carregados":a,"cb-novo-calculo":t,"cb-salvar-calculo":n,"cb-recuperar-calculo":i},{calculo:K(()=>[k(s)]),_:1})}}});export{Gr as default};
