var Ja=Object.defineProperty;var Wa=(e,o,a)=>o in e?Ja(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var Io=(e,o,a)=>(Wa(e,typeof o!="symbol"?o+"":o,a),a);import{h as Xa,a as Za,u as et,b as ot,c as So,t as at,d as Ee,e as we,L as tt,A as nt,f as rt,g as fe,C as Ne,v as it,E as go,S as f,G as We,F as Eo,i as lt,j as Po,k as st,l as va,m as ga,o as ct,n as ut,p as To,q as dt,r as _e,D as Oo,s as mt,w as zo,x as ft,y as pt,z as vt,P as gt,M as bt,B as ht,H as _t,T as Ct,I as ba,J as yt,K as xt,N as Go,O as Dt,Q as $t,R as At,U as Ft,V as It,_ as wt}from"./CecalcPrincipal.vue.9252b83a.js";import{A as _o,B as Et,C as io,D as kt,c as Z,e as Pe,E as ha,r as S,F as Vt,G as bo,H as St,I as Pt,J as Tt,K as Ot,L as zt,M as Mt,N as Nt,O as Yo,P as _a,Q as qt,R as Bt,S as Lt,T as Rt,U as jt,V as Ut,o as eo,W as Qt,X as se,Y as Kt,Z as Qe,$ as Gt,d as te,k as A,z as ae,a0 as C,a1 as Le,a2 as re,a3 as X,l as N,a4 as me,a5 as Ae,a6 as Yt,q as k,a7 as Ht,a8 as Jt,s as Y,m as T,t as De,a9 as Xe,aa as Ca,ab as lo,ac as ya,ad as xa,v as Wt,ae as Da,af as Xt,ag as so,ah as Zt,ai as en,_ as Ke,b as on,aj as an,ak as tn,al as Ie,am as nn,an as Ue,ao as Ho,ap as rn,aq as ln,ar as sn,as as cn,at as un,au as $a,av as dn,x as Aa,y as Fa,aw as oo,ax as Me,ay as mn,az as ho,aA as fn,aB as pn,aC as vn,aD as gn,aE as Jo,j as bn,aF as hn,aG as _n,aH as Cn,aI as yn,aJ as xn,aK as Dn}from"./entry.a3f84686.js";const $n=_o({name:"QBar",props:{...Et,dense:Boolean},setup(e,{slots:o}){const{proxy:{$q:a}}=io(),t=kt(e,a),n=Z(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${t.value===!0?"dark":"light"}`);return()=>Pe("div",{class:n.value,role:"toolbar"},ha(o.default))}});function Je(e,o,a,t){const n=[];return e.forEach(r=>{t(r)===!0?n.push(r):o.push({failedPropValidation:a,file:r})}),n}function po(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),bo(e)}const An={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Fn=["rejected"];function In({editable:e,dnd:o,getFileInput:a,addFilesToQueue:t}){const{props:n,emit:r,proxy:c}=io(),l=S(null),s=Z(()=>n.accept!==void 0?n.accept.split(",").map(v=>(v=v.trim(),v==="*"?"*/":(v.endsWith("/*")&&(v=v.slice(0,v.length-1)),v.toUpperCase()))):null),i=Z(()=>parseInt(n.maxFiles,10)),h=Z(()=>parseInt(n.maxTotalSize,10));function D(v){if(e.value)if(v!==Object(v)&&(v={target:null}),v.target!==null&&v.target.matches('input[type="file"]')===!0)v.clientX===0&&v.clientY===0&&Vt(v);else{const y=a();y&&y!==v.target&&y.click(v)}}function _(v){e.value&&v&&t(null,v)}function p(v,y,w,E){let V=Array.from(y||v.target.files);const q=[],G=()=>{q.length!==0&&r("rejected",q)};if(n.accept!==void 0&&s.value.indexOf("*/")===-1&&(V=Je(V,q,"accept",j=>s.value.some(H=>j.type.toUpperCase().startsWith(H)||j.name.toUpperCase().endsWith(H))),V.length===0))return G();if(n.maxFileSize!==void 0){const j=parseInt(n.maxFileSize,10);if(V=Je(V,q,"max-file-size",H=>H.size<=j),V.length===0)return G()}if(n.multiple!==!0&&V.length!==0&&(V=[V[0]]),V.forEach(j=>{j.__key=j.webkitRelativePath+j.lastModified+j.name+j.size}),E===!0){const j=w.map(H=>H.__key);V=Je(V,q,"duplicate",H=>j.includes(H.__key)===!1)}if(V.length===0)return G();if(n.maxTotalSize!==void 0){let j=E===!0?w.reduce((H,ce)=>H+ce.size,0):0;if(V=Je(V,q,"max-total-size",H=>(j+=H.size,j<=h.value)),V.length===0)return G()}if(typeof n.filter=="function"){const j=n.filter(V);V=Je(V,q,"filter",H=>j.includes(H))}if(n.maxFiles!==void 0){let j=E===!0?w.length:0;if(V=Je(V,q,"max-files",()=>(j++,j<=i.value)),V.length===0)return G()}if(G(),V.length!==0)return V}function $(v){po(v),o.value!==!0&&(o.value=!0)}function d(v){bo(v),(v.relatedTarget!==null||St.is.safari!==!0?v.relatedTarget!==l.value:document.elementsFromPoint(v.clientX,v.clientY).includes(l.value)===!1)===!0&&(o.value=!1)}function b(v){po(v);const y=v.dataTransfer.files;y.length!==0&&t(null,y),o.value=!1}function z(v){if(o.value===!0)return Pe("div",{ref:l,class:`q-${v}__dnd absolute-full`,onDragenter:po,onDragover:po,onDragleave:d,onDrop:b})}return Object.assign(c,{pickFiles:D,addFiles:_}),{pickFiles:D,addFiles:_,onDragover:$,onDragleave:d,processFiles:p,getDndNode:z,maxFilesNumber:i,maxTotalSizeNumber:h}}const wn=_o({name:"QFile",inheritAttrs:!1,props:{...Pt,...Tt,...An,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ot,...Fn],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=io(),r=zt(),c=S(null),l=S(!1),s=Mt(e),{pickFiles:i,onDragover:h,onDragleave:D,processFiles:_,getDndNode:p}=In({editable:r.editable,dnd:l,getFileInput:Ce,addFilesToQueue:$e}),$=Nt(e),d=Z(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),b=Z(()=>Yo(d.value)),z=Z(()=>d.value.map(B=>B.name).join(", ")),v=Z(()=>Xa(d.value.reduce((B,le)=>B+le.size,0))),y=Z(()=>({totalSize:v.value,filesNumber:d.value.length,maxFiles:e.maxFiles})),w=Z(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...t,id:r.targetUid.value,disabled:r.editable.value!==!0})),E=Z(()=>"q-file q-field--auto-height"+(l.value===!0?" q-file--dnd":"")),V=Z(()=>e.multiple===!0&&e.append===!0);function q(B){const le=d.value.slice();le.splice(B,1),j(le)}function G(B){const le=d.value.indexOf(B);le>-1&&q(le)}function j(B){a("update:modelValue",e.multiple===!0?B:B[0])}function H(B){B.keyCode===13&&Bt(B)}function ce(B){(B.keyCode===13||B.keyCode===32)&&i(B)}function Ce(){return c.value}function $e(B,le){const he=_(B,le,d.value,V.value),ke=Ce();ke!=null&&(ke.value=""),he!==void 0&&((e.multiple===!0?e.modelValue&&he.every(qe=>d.value.includes(qe)):e.modelValue===he[0])||j(V.value===!0?d.value.concat(he):he))}function be(){return[Pe("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function Te(){if(o.file!==void 0)return d.value.length===0?be():d.value.map((le,he)=>o.file({index:he,file:le,ref:this}));if(o.selected!==void 0)return d.value.length===0?be():o.selected({files:d.value,ref:this});if(e.useChips===!0)return d.value.length===0?be():d.value.map((le,he)=>Pe(Za,{key:"file-"+he,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{q(he)}},()=>Pe("span",{class:"ellipsis",textContent:le.name})));const B=e.displayValue!==void 0?e.displayValue:z.value;return B.length!==0?[Pe("div",{class:e.inputClass,style:e.inputStyle,textContent:B})]:be()}function Oe(){const B={ref:c,...w.value,...$.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:$e};return e.multiple===!0&&(B.multiple=!0),Pe("input",B)}return Object.assign(r,{fieldClass:E,emitValue:j,hasValue:b,inputRef:c,innerValue:d,floatingLabel:Z(()=>b.value===!0||Yo(e.displayValue)),computedCounter:Z(()=>{if(e.counterLabel!==void 0)return e.counterLabel(y.value);const B=e.maxFiles;return`${d.value.length}${B!==void 0?" / "+B:""} (${v.value})`}),getControlChild:()=>p("file"),getControl:()=>{const B={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(B,{onDragover:h,onDragleave:D,onKeydown:H,onKeyup:ce}),Pe("div",B,[Oe()].concat(Te()))}}),Object.assign(n,{removeAtIndex:q,removeFile:G,getNativeElement:()=>c.value}),_a(n,"nativeEl",()=>c.value),qt(r)}}),En=_o({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const t=io(),n=S(null);let r=0;const c=[];function l(p){const $=typeof p=="boolean"?p:e.noErrorFocus!==!0,d=++r,b=(y,w)=>{a("validation"+(y===!0?"Success":"Error"),w)},z=y=>{const w=y.validate();return typeof w.then=="function"?w.then(E=>({valid:E,comp:y}),E=>({valid:!1,comp:y,err:E})):Promise.resolve({valid:w,comp:y})};return(e.greedy===!0?Promise.all(c.map(z)).then(y=>y.filter(w=>w.valid!==!0)):c.reduce((y,w)=>y.then(()=>z(w).then(E=>{if(E.valid===!1)return Promise.reject(E)})),Promise.resolve()).catch(y=>[y])).then(y=>{if(y===void 0||y.length===0)return d===r&&b(!0),!0;if(d===r){const{comp:w,err:E}=y[0];if(E!==void 0&&console.error(E),b(!1,w),$===!0){const V=y.find(({comp:q})=>typeof q.focus=="function"&&Qt(q.$)===!1);V!==void 0&&V.comp.focus()}}return!1})}function s(){r++,c.forEach(p=>{typeof p.resetValidation=="function"&&p.resetValidation()})}function i(p){p!==void 0&&bo(p);const $=r+1;l().then(d=>{$===r&&d===!0&&(e.onSubmit!==void 0?a("submit",p):p!==void 0&&p.target!==void 0&&typeof p.target.submit=="function"&&p.target.submit())})}function h(p){p!==void 0&&bo(p),a("reset"),se(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&D()})}function D(){Kt(()=>{if(n.value===null)return;const p=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),$=>$.tabIndex>-1);p!=null&&p.focus({preventScroll:!0})})}Lt(Rt,{bindComponent(p){c.push(p)},unbindComponent(p){const $=c.indexOf(p);$>-1&&c.splice($,1)}});let _=!1;return jt(()=>{_=!0}),Ut(()=>{_===!0&&e.autofocus===!0&&D()}),eo(()=>{e.autofocus===!0&&D()}),Object.assign(t.proxy,{validate:l,resetValidation:s,submit:i,reset:h,focus:D,getValidationComponents:()=>c}),()=>Pe("form",{class:"q-form",ref:n,onSubmit:i,onReset:h},ha(o.default))}}),kn=_o({name:"QPopupProxy",props:{...et,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=io(),{$q:r}=n,c=S(!1),l=S(null),s=Z(()=>parseInt(e.breakpoint,10)),{canShow:i}=ot({showing:c});function h(){return r.screen.width<s.value||r.screen.height<s.value?"dialog":"menu"}const D=S(h()),_=Z(()=>D.value==="menu"?{maxHeight:"99vh"}:{});Qe(()=>h(),d=>{c.value!==!0&&(D.value=d)});function p(d){c.value=!0,a("show",d)}function $(d){c.value=!1,D.value=h(),a("hide",d)}return Object.assign(n,{show(d){i(d)===!0&&l.value.show(d)},hide(d){l.value.hide(d)},toggle(d){l.value.toggle(d)}}),_a(n,"currentComponent",()=>({type:D.value,ref:l.value})),()=>{const d={ref:l,..._.value,...t,onShow:p,onHide:$};let b;return D.value==="dialog"?b=Gt:(b=So,Object.assign(d,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),Pe(b,d,o.default)}}});function Wo(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Vn(e,o,a={}){const{mimeType:t,byteOrderMark:n,encoding:r}=typeof a=="string"?{mimeType:a}:a,c=r!==void 0?new TextEncoder(r).encode([o]):o,l=n!==void 0?[n,c]:[c],s=new Blob(l,{type:t||"application/octet-stream"}),i=document.createElement("a");i.href=window.URL.createObjectURL(s),i.setAttribute("download",e),typeof i.download>"u"&&i.setAttribute("target","_blank"),i.classList.add("hidden"),i.style.position="fixed",document.body.appendChild(i);try{return i.click(),Wo(i),!0}catch(h){return Wo(i),h}}function Xo(e){return at(e)==="function"}function Ia(e){const o=e.replace(/[.-]/g,"");if(o.length<20)return!1;const a=o.slice(0,7),t=o.slice(7,9),n=o.slice(9,13),r=o.slice(13,14),c=o.slice(14,16),l=o.slice(16,20),h=+`${+`${Number(a)%97}${n}${r}${c}`%97}${l}00`%97;return Number(t)===98-h}function wa(e,o="cpf"){const a=Sn(e,o);if(Array.isArray(a)){const t=Pn(a.length);if(Array.isArray(t)){const n=a.slice(0,-2),[r,c]=a.slice(-2);return Zo(n,t.slice(1))===r&&Zo(n.concat(r),t)===c}return!1}return!1}function Sn(e,o){if(Ee(e)&&(e=e.toString()),!we(e))return!1;e=e.replace(/[^\d]+/g,"");const a=o==="cnpj"?14:11;return e.length!==a||[...Array(a-1).keys()].map(n=>String(n).repeat(a)).includes(e)?!1:e.split("").map(Number)}function Pn(e){const o={cpf:[11,10,9,8,7,6,5,4,3,2],cnpj:[6,5,4,3,2,9,8,7,6,5,4,3,2]};return e===11?o.cpf:e===14?o.cnpj:!1}function Zo(e,o){return e.map((n,r)=>n*o[r]).reduce((n,r)=>n+=r,0)*10%11%10}function Tn(e){return wa(e,"cnpj")}function On(e){return wa(e,"cpf")}function zn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}const Mn=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;function Mo(e,o){return typeof o=="string"&&Mn.test(o)?new Date(o):o}function Nn(e,o=0){const a=e.toString(),[t,n]=a.split(".");if(!Number(n)||n.length===o||o<0)return e;if(o===0&&Number(t)===0)return 0;if(o===0)return Number(t);const r=(n+Array(o).join("0")).slice(0,o);return+`${t}.${r}`}function ea(e){if(!we(e))throw new Error("A função aceita somente strings!");return e.replace(/[áàãâä]/g,"a").replace(/[ÁÀÃÂÄ]/g,"A").replace(/[éèêë]/g,"e").replace(/[ÉÈÊË]/g,"E").replace(/[íìîï]/g,"i").replace(/[ÍÌÎÏ]/g,"I").replace(/[óòôõö]/g,"o").replace(/[ÓÒÔÖÕ]/g,"O").replace(/[úùüû]/g,"u").replace(/[ÚÙÜÛ]/g,"U").replace(/[ýÿ]/g,"y").replace(/[Ý]/g,"Y").replace(/[ñ]/g,"n").replace(/[Ñ]/g,"N").replace(/[ç]/g,"c").replace(/[Ç]/g,"C")}class qn{constructor(o){Io(this,"_analisador");Io(this,"_leitorDeArquivo");this._leitorDeArquivo=new tt,this._analisador=new nt(o)}get leitorDeArquivo(){return this._leitorDeArquivo}async ler(o){this._analisador.reiniciar();let a;if(o instanceof File){if(!this.leitorDeArquivo.ativo)throw new Error("O leitor de arquivos não está carregado.");const t=await this.leitorDeArquivo.ler(o);if(!t)throw new Error("Falha ao ler o arquivo.");a=t.texto}else a=o||"";return this._analisador.analisar(a),{identificado:this._analisador.identificado,nome:this._analisador.nome,quadroResumo:this._analisador.quadroResumo,dadosEstruturados:this._analisador.dadosEstruturados,texto:a}}}var Ze=(e=>(e[e.ImplementoIdade=0]="ImplementoIdade",e[e.DerDda=1]="DerDda",e))(Ze||{});const Bn=te({__name:"CecalcSelecao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=S(a.modelValue),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo;return Qe(()=>a.modelValue,r=>{t.value=r}),(r,c)=>{const l=rt;return A(),ae(l,{modelValue:C(t),"onUpdate:modelValue":[c[0]||(c[0]=s=>Le(t)?t.value=s:null),c[1]||(c[1]=s=>o("update:model-value",s))],options:r.parametros.opcoes,name:r.parametros.nome,for:r.parametros.nome,label:C(n),readonly:r.parametros.somenteLeitura===!0,disable:r.parametros.desabilitado===!0,style:re(r.parametros.estilos),class:X(r.parametros.classes),"label-color":r.parametros.obrigatorio===!0?"orange-10":"","bg-color":r.parametros.obrigatorio===!0?"orange-1":"",color:r.parametros.obrigatorio===!0?"orange-10":"",outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":"","option-label":"rotulo","option-value":"valor","emit-value":"","map-options":"","item-aligned":""},null,8,["modelValue","options","name","for","label","readonly","disable","style","class","label-color","bg-color","color"])}}}),Ln={class:"q-gutter-sm"},Rn=te({__name:"CecalcRadio",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=S(a.modelValue);return Qe(()=>a.modelValue,n=>{t.value=n}),(n,r)=>{const c=Yt;return A(),N("div",Ln,[(A(!0),N(me,null,Ae(n.parametros.opcoes,l=>(A(),ae(c,{key:`${l.value}`,modelValue:C(t),"onUpdate:modelValue":[r[0]||(r[0]=s=>Le(t)?t.value=s:null),r[1]||(r[1]=s=>o("update:model-value",s))],name:n.parametros.nome,for:n.parametros.nome,val:l.value,label:l.label,disable:n.parametros.desabilitado===!0,style:re(n.parametros.estilos),class:X(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","val","label","disable","style","class"]))),128))])}}}),jn={class:"q-gutter-sm"},Un=te({__name:"CecalcOpcao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=S(a.modelValue);return Qe(()=>a.modelValue,n=>{t.value=n}),(n,r)=>{const c=Ht;return A(),N("div",jn,[k(c,{modelValue:C(t),"onUpdate:modelValue":[r[0]||(r[0]=l=>Le(t)?t.value=l:null),r[1]||(r[1]=l=>o("update:model-value",l))],name:n.parametros.nome,for:n.parametros.nome,label:n.parametros.rotulo,disable:n.parametros.desabilitado===!0,style:re(n.parametros.estilos),class:X(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","label","disable","style","class"])])}}});var ne=(e=>(e[e.Entrada=0]="Entrada",e[e.Selecao=1]="Selecao",e[e.Radio=2]="Radio",e[e.Opcao=3]="Opcao",e))(ne||{}),ie=(e=>(e[e.Data=0]="Data",e[e.Competencia=1]="Competencia",e[e.Texto=2]="Texto",e[e.Numero=3]="Numero",e[e.Percentual=4]="Percentual",e[e.Moeda=5]="Moeda",e[e.NumeroProcesso=6]="NumeroProcesso",e[e.Cpf=7]="Cpf",e))(ie||{});function Co(e,o){return Ee(e)&&Ee(o)?e>=o:!1}function yo(e,o){return Ee(e)&&Ee(o)?e<=o:!1}function No(e,o,a){return Co(e,o)&&yo(e,a)}function Qn(e,o){return we(e)&&Ee(o)?Co(e.length,o):!1}function Kn(e,o){return we(e)&&Ee(o)?yo(e.length,o):!1}function Gn(e,o,a){return we(e)&&Ee(o)&&Ee(a)?No(e.length,o,a):!1}function Yn(e,o){return fe(e)&&fe(o)?Co(e.valueOf(),o.valueOf()):!1}function Hn(e,o){return fe(e)&&fe(o)?yo(e.valueOf(),o.valueOf()):!1}function Jn(e,o,a){return fe(e)&&fe(o)&&fe(a)?No(e.valueOf(),o.valueOf(),a.valueOf()):!1}function Wn(e){return new Ne(e).dataValida()}const xe=e=>e===""||e===void 0||e===null,oa={obrigatorio(e){return o=>!!o||e||"Campo obrigatório"},regex(e,o){return a=>xe(a)||e.test(a)||o||"Formato inválido"},dataValida(e){return o=>xe(o)||Wn(o)||e||"Data inválida"},numeroEntre(e,o,a){return t=>xe(t)||No(t,e,o)||a||`Deve estar entre ${e} e ${o}`},numeroMaiorOuIgual(e,o){return a=>xe(a)||Co(a,e)||o||`Deve ser maior ou igual a ${e}`},numeroMenorOuIgual(e,o){return a=>xe(a)||yo(a,e)||o||`Deve ser menor ou igual a ${e}`},tamanhoEntre(e,o,a){return t=>xe(t)||Gn(t,e,o)||a||`Deve estar entre ${e} e ${o}`},tamanhoMaiorOuIgual(e,o){return a=>xe(a)||Qn(a,e)||o||`Deve ser maior ou igual a ${e}`},tamanhoMenorOuIgual(e,o){return a=>xe(a)||Kn(a,e)||o||`Deve ser menor ou igual a ${e}`},dataEntre(e,o,a){return t=>xe(t)||Jn(t,e,o)||a||`Deve estar entre ${e.toLocaleDateString()} e ${o.toLocaleDateString()}`},dataMaiorOuIgual(e,o){return a=>xe(a)||Yn(a,e)||o||`Deve ser maior ou igual a ${e.toLocaleDateString()}`},dataMenorOuIgual(e,o){return a=>xe(a)||Hn(a,e)||o||`Deve ser menor ou igual a ${e.toLocaleDateString()}`},processo(e){return o=>xe(o)||Ia(o)||e||"Número do processo inválido"},cpf(e){return o=>xe(o)||On(o)||e||"CPF inválido"},cnpj(e){return o=>xe(o)||Tn(o)||e||"CNPJ inválido"}};function Xn(e){return e.filter(o=>o.nome in oa).map(o=>oa[o.nome](...o.args))}function Zn(e,o){const a=[];return o&&a.push({nome:"obrigatorio",args:["Campo obrigatório"]}),e===ie.Data&&a.push({nome:"regex",args:[/\d{2}\/\d{2}\/\d{4}/,"Formato: dd/mm/aaaa"]}),e===ie.Competencia&&a.push({nome:"regex",args:[/\d{2}\/\d{4}/,"Formato: mm/aaaa"]}),e===ie.NumeroProcesso&&a.push({nome:"processo",args:[]}),e===ie.Cpf&&a.push({nome:"cpf",args:[]}),a}function aa(e){const o=new Ne(e);return o.dataValida()?o.nativo():null}function Ea(e){const o=Number(e);return it(o)?o:null}function er(e){const o=Ea(e);return o===null?null:Number(Nn(o/100,2))}function ta(e,o){return o===ie.Data?aa(e):o===ie.Competencia?aa(`01/${e}`):o===ie.Numero||o===ie.Moeda?Ea(e):o===ie.Percentual?er(e):e}function na(e){return e==null?"":fe(e)?e.toLocaleDateString():`${e}`}function or(e){return e===ie.Data?"##/##/####":e===ie.Competencia?"##/####":e===ie.NumeroProcesso?"#######-##.####.#.##.####":e===ie.Cpf?"###.###.###-##":""}const ar=te({__name:"CecalcEntrada",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=S(),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo,r=a.parametros.mascara?a.parametros.mascara:or(a.parametros.tipoEntrada),c=Z(()=>{const _=Zn(a.parametros.tipoEntrada,a.parametros.obrigatorio===!0);return Xn(Array.prototype.concat(_,a.parametros.regras||[]))}),l=S(na(a.modelValue));Qe(()=>a.modelValue,_=>l.value=na(_));function s(){return t.value?t.value.validate():!1}async function i(_){if(l.value=_,await se(),s()||!l.value)return o("update:model-value",ta(l.value,a.parametros.tipoEntrada))}async function h(_){await i(_)}function D(){if(s())return o("update:model-value",ta(l.value,a.parametros.tipoEntrada))}return(_,p)=>(A(),ae(C(Jt),{ref_key:"input",ref:t,"model-value":C(l),type:"text",name:_.parametros.nome,for:_.parametros.nome,label:C(n),"label-color":_.parametros.obrigatorio===!0?"orange-10":"","bg-color":_.parametros.obrigatorio===!0?"orange-1":"",color:_.parametros.obrigatorio===!0?"orange-10":"",prefix:_.parametros.prefixo,suffix:_.parametros.sufixo,readonly:_.parametros.obrigatorio!==!0&&_.parametros.somenteLeitura===!0,mask:C(r),hint:_.parametros.dica,rules:C(c),"lazy-rules":"ondemand",disabled:_.parametros.desabilitado,style:re(_.parametros.estilos),class:X(_.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","item-aligned":"","onUpdate:modelValue":p[0]||(p[0]=$=>h($||"")),onBlur:D},null,8,["model-value","name","for","label","label-color","bg-color","color","prefix","suffix","readonly","mask","hint","rules","disabled","style","class"]))}}),tr={class:"column q-gutter-md"},nr={class:"text-bold"},ka=te({__name:"CecalcFormularioDinamico",props:{esquema:{}},setup(e){const o=S();function a(){o.value&&o.value.resetValidation()}return(t,n)=>{const r=$n,c=Bn,l=Rn,s=Un,i=ar,h=Ca,D=lo;return A(),ae(C(En),{ref_key:"formulario",ref:o,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:n[0]||(n[0]=()=>{})},{default:Y(()=>[T("div",tr,[(A(!0),N(me,null,Ae(t.esquema.secoes,_=>(A(),ae(D,{key:`secao-${_.titulo}`,flat:"",bordered:""},{default:Y(()=>[k(r,{class:X(_.cor),dense:""},{default:Y(()=>[T("div",nr,De(_.titulo),1)]),_:2},1032,["class"]),k(h,null,{default:Y(()=>[(A(!0),N(me,null,Ae(_.linhas,(p,$)=>(A(),N("div",{key:`secao-${_.titulo}-linha-${$}`,class:"row"},[(A(!0),N(me,null,Ae(p,(d,b)=>(A(),N(me,{key:`secao-${_.titulo}-linha-${$}-item-${b}`},[d.tipo===C(ne).Selecao?(A(),ae(c,{key:0,modelValue:d.ref.value,"onUpdate:modelValue":[z=>d.ref.value=z,a],parametros:d.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):d.tipo===C(ne).Radio?(A(),ae(l,{key:1,modelValue:d.ref.value,"onUpdate:modelValue":[z=>d.ref.value=z,a],parametros:d.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):d.tipo===C(ne).Opcao?(A(),ae(s,{key:2,modelValue:d.ref.value,"onUpdate:modelValue":[z=>d.ref.value=z,a],parametros:d.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):d.tipo===C(ne).Entrada?(A(),ae(i,{key:3,modelValue:d.ref.value,"onUpdate:modelValue":[z=>d.ref.value=z,a],parametros:d.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):Xe("",!0)],64))),128))]))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},512)}}}),rr={1991:60,1992:60,1993:66,1994:72,1995:78,1996:90,1997:96,1998:102,1999:108,2e3:114,2001:120,2002:126,2003:132,2004:138,2005:144,2006:150,2007:156,2008:162,2009:168,2010:174,2011:180};function ir(){function e(a,t){return a===go.AposentadoriaPorIdade&&rr[t.getFullYear()]||180}function o(){return[{rotulo:"Implemento da Idade",valor:Ze.ImplementoIdade},{rotulo:"DER/DDA",valor:Ze.DerDda}]}return{obterCarenciaMinima:e,obterOpcoesMarcoCarencia:o}}f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"";f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"";f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"";f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"",f.Masculino+"",f.Feminino+"";const xo=ya("parametros-store",()=>{const e=S(""),o=S(null),a=S(null),t=S(""),n=S(""),r=S(),c=S(null),l=S(""),s=S(go.AposentadoriaPorTempoDeContribuicao),i=S(null),h=S(!1),D=S(!1),_=S(Ze.ImplementoIdade),p=S(!1),$=S(!1),d=S(We.DeficienciaLeve),b=S(null),z=S(Eo.Art70CRegulamento),v=S(!1);function y(V){return we(V)&&V.length>0}function w(){return y(e.value)||fe(o.value)||fe(a.value)||y(t.value)||y(n.value)||fe(c.value)||y(l.value)||fe(i.value)||fe(b.value)}function E(){e.value="",o.value=null,a.value=null,t.value="",n.value="",r.value=void 0,c.value=null,l.value="",s.value=go.AposentadoriaPorTempoDeContribuicao,i.value=null,h.value=!1,D.value=!1,_.value=Ze.ImplementoIdade,p.value=!1,$.value=!0,d.value=We.DeficienciaLeve,b.value=null,z.value=Eo.Art70CRegulamento,v.value=!1}return{numeroProcesso:e,citacao:o,ajuizamento:a,autor:t,reu:n,sexo:r,nascimento:c,nb:l,especie:s,der:i,rural:h,deficiente:D,marcoCarencia:_,permitirConversaoAposEc103:p,carenciaNecessariaAposEc103:$,grauPreponderanteDeficiencia:d,inicioPrimeiraDeficiencia:b,requisitoB41Deficiencia:z,converterPeriodosB41Deficiente:v,temDadosCarregados:w,reiniciar:E}},{persist:{serializer:{deserialize:e=>JSON.parse(e,Mo),serialize:JSON.stringify}}});function ra(){function e(){return[{rotulo:"Masculino",valor:f.Masculino},{rotulo:"Feminino",valor:f.Feminino}]}function o(){return[{rotulo:"Deficiência Grave",valor:We.DeficienciaGrave},{rotulo:"Deficiência Moderada",valor:We.DeficienciaModerada},{rotulo:"Deficiência Leve",valor:We.DeficienciaLeve}]}return{obterOpcoesSexo:e,obterOpcoesGrauDeficiencia:o}}function Va(){const e=xo(),{numeroProcesso:o,citacao:a,ajuizamento:t,autor:n,reu:r,sexo:c,nascimento:l,nb:s,especie:i,der:h,rural:D,deficiente:_,marcoCarencia:p,permitirConversaoAposEc103:$,carenciaNecessariaAposEc103:d,grauPreponderanteDeficiencia:b,inicioPrimeiraDeficiencia:z,requisitoB41Deficiencia:v,converterPeriodosB41Deficiente:y}=xa(e),{obterOpcoesSexo:w}=ra(),{obterOpcoesEspecieBeneficio:E}=lt(),{obterOpcoesMarcoCarencia:V}=ir(),{obterOpcoesRequisitoB41Deficiente:q}=Po(),{obterOpcoesGrauDeficiencia:G}=ra(),j=w(),H=E(),ce=V(),Ce=G(),$e=q(),be={tipo:ne.Entrada,ref:o,parametros:{tipoEntrada:ie.NumeroProcesso,nome:"numero-processo",rotulo:"Processo",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},Te={tipo:ne.Entrada,ref:a,parametros:{tipoEntrada:ie.Data,nome:"data-citacao",rotulo:"Citação",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Oe={tipo:ne.Entrada,ref:t,parametros:{tipoEntrada:ie.Data,nome:"data-ajuizamento",rotulo:"Ajuizamento",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},B={tipo:ne.Entrada,ref:n,parametros:{tipoEntrada:ie.Texto,nome:"nome-autor",rotulo:"Autor",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},le={tipo:ne.Entrada,ref:r,parametros:{tipoEntrada:ie.Texto,nome:"nome-reu",rotulo:"Réu",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},he={tipo:ne.Selecao,ref:c,parametros:{nome:"sexo-autor",rotulo:"Sexo",opcoes:j,obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},ke={tipo:ne.Entrada,ref:l,parametros:{tipoEntrada:ie.Data,nome:"data-nascimento",rotulo:"Nascimento",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},qe={tipo:ne.Entrada,ref:s,parametros:{tipoEntrada:ie.Texto,nome:"nb",rotulo:"NB",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Ve={tipo:ne.Selecao,ref:i,parametros:{nome:"especie",rotulo:"Espécie",opcoes:H,obrigatorio:!0,classes:"col-xs-12 col-sm-12 col-md-6 col-lg-6"}},Ye={tipo:ne.Entrada,ref:h,parametros:{tipoEntrada:ie.Data,nome:"der",rotulo:"DER",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Re={tipo:ne.Opcao,ref:D,parametros:{nome:"beneficio-rural",rotulo:"Benefício rural?",classes:"q-pa-md"}},ye={tipo:ne.Opcao,ref:_,parametros:{nome:"beneficio-deficiente",rotulo:"Benefício para pessoa com deficiência?",classes:"q-pa-md"}},je={tipo:ne.Selecao,ref:p,parametros:{nome:"marco-carencia",rotulo:"Marco carência",opcoes:ce,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},ze={tipo:ne.Opcao,ref:$,parametros:{nome:"conveter-apos-ec-103",rotulo:"Converter tempo especial após EC 103?",classes:"q-pa-md"}},ao={tipo:ne.Opcao,ref:d,parametros:{nome:"carencia-apos-ec-103",rotulo:"Carência necessária após EC 103?",classes:"q-pa-md"}},Be={tipo:ne.Selecao,ref:b,parametros:{nome:"grau-deficiencia",rotulo:"Grau de Deficiência Preponderante",opcoes:Ce,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},m={tipo:ne.Entrada,ref:z,parametros:{tipoEntrada:ie.Data,nome:"data-inicio-deficiencia",rotulo:"Data de início da primeira deficiência",classes:"col-xs-12 col-sm-6 col-md-4 col-lg-3"}},F={tipo:ne.Selecao,ref:v,parametros:{nome:"requisito-b41-deficiente",rotulo:"Requisito B41 Deficiente",opcoes:$e,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},P={tipo:ne.Opcao,ref:y,parametros:{nome:"converter-periodos-b41-deficiente",rotulo:"Converter Tempo Especial B41 Deficiente?",classes:"q-pa-md"}};return{esquemaFormularioBasico:{titulo:"Cálculo TC - Campos Básicos",secoes:[{titulo:"Dados Básicos do Segurado",cor:"bg-blue-3",linhas:[[he,ke]]},{titulo:"Dados Básicos do Benefício",cor:"bg-blue-3",linhas:[[Ye,Ve]]}]},esquemaFormularioGeral:{titulo:"Parâmetros Avançados",secoes:[{titulo:"Dados do Processo",cor:"bg-blue-3",linhas:[[be,Oe,Te],[B,le]]},{titulo:"Dados do Benefício",cor:"bg-blue-3",linhas:[[qe,Re,ye]]},{titulo:"Opções Contagem",cor:"bg-blue-3",linhas:[[je],[ze],[ao]]},{titulo:"Benefício da Pessoa com Deficiência",cor:"bg-blue-3",linhas:[[],[Be,m],[F,P]]}]}}}const lr=te({__name:"TcParametrosGerais",setup(e){const{esquemaFormularioGeral:o}=Va(),a=S(!1);return(t,n)=>{const r=st,c=va,l=so,s=ga,i=ka,h=Ca,D=lo,_=So;return A(),ae(l,{flat:"",round:"",icon:C(Xt),color:"grey-9",title:"Definir parâmetros de cálculo"},{default:Y(()=>[k(_,{modelValue:C(a),"onUpdate:modelValue":n[1]||(n[1]=p=>Le(a)?a.value=p:null),square:"",style:{width:"800px"},offset:[0,0]},{default:Y(()=>[k(D,null,{default:Y(()=>[k(s,{class:"bg-blue-10"},{default:Y(()=>[k(r,{class:"text-subtitle1 text-white"},{default:Y(()=>[Wt(De(C(o).titulo),1)]),_:1}),k(c),k(l,{flat:"",round:"",dense:"",icon:"mdiClose"in t?t.mdiClose:C(Da),class:"text-white",onClick:n[0]||(n[0]=p=>a.value=!1)},null,8,["icon"])]),_:1}),k(h,null,{default:Y(()=>[k(i,{esquema:C(o)},null,8,["esquema"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon"])}}}),sr={class:"q-pa-md"},cr=te({__name:"TcParametrosBasicos",setup(e){const{esquemaFormularioBasico:o}=Va();return(a,t)=>{const n=ka;return A(),N("div",sr,[k(n,{esquema:C(o)},null,8,["esquema"])])}}}),ur=te({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:a}){const t=S(!1);return eo(()=>{t.value=!0}),n=>{var s;if(t.value)return(s=o.default)==null?void 0:s.call(o);const r=o.fallback||o.placeholder;if(r)return r();const c=n.fallback||n.placeholder||"",l=n.fallbackTag||n.placeholderTag||"span";return N(l,a,c)}}});function Sa(){function e(r){return we(r)&&/(^\d+$)|(^\d+\.?(\d+)?$)|(^\d+,?(\d+)?$)/.test(r)}function o(r){return we(r)&&/^\d+$/.test(r)}function a(r){return we(r)&&/^(\d{1,2}[/.-])?(\d{1,2}[/.-])(\d{4})$/.test(r.trim())}function t(r){try{return new Ne(r).dataValida()}catch{return!1}}function n(r,c){return new Ne(r).antesDeOuIgualA(c)}return{inputValorNumerico:e,inputNumeroInteiro:o,inputDataLocal:a,data:t,periodo:n}}const co=ya("periodos-store",()=>{const e=Sa(),o=S({}),a=Z(()=>Object.entries(o.value).map(([p,$])=>({id:p,...$})).sort((p,$)=>p.dataInicial.valueOf()-$.dataInicial.valueOf()));function t(p){e.periodo(p.dataInicial,p.dataFinal)&&p.descricao&&(o.value[zn()]={...p})}function n(p,$){e.periodo($.dataInicial,$.dataFinal)&&(p in o.value?Object.assign(o.value[p],$):o.value[p]=$)}function r(p){Object.assign(o.value,p)}function c(p){delete o.value[p]}const l=Z(()=>{const p=Object.values(o.value).map($=>$.dataInicial).sort(($,d)=>$.valueOf()-d.valueOf())[0];return fe(p)?new Ne(p).competencia():void 0}),s=Z(()=>{const p=Object.values(o.value).map($=>$.dataInicial).sort(($,d)=>$.valueOf()-d.valueOf()).slice(-1)[0];return fe(p)?new Ne(p).competencia():void 0});function i(p){return o.value[p]}function h(p,$){const d=i(p);d&&n(p,{...d,excluido:$===!0})}function D(){return!ct(o.value)}function _(){o.value={}}return{registros:o,lista:a,competenciaInicial:l,competenciaFinal:s,atualizar:n,atualizarTodos:r,adicionar:t,remover:c,obterPorId:i,alterarStatusExcluido:h,temDadosCarregados:D,reiniciar:_}},{persist:{paths:["registros"],serializer:{deserialize:e=>JSON.parse(e,Mo),serialize:JSON.stringify}}}),dr={class:"cecalc-planilha-celula-booleana"},mr=["checked"],fr=te({__name:"CecalcPlanilhaCelulaBooleana",props:{modelValue:{type:Boolean,default:!1},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){function a(t){const n=t.target.checked;o("valorAtualizado",n)}return(t,n)=>(A(),N("td",Zt(en(t.$attrs)),[T("div",dr,[T("input",{type:"checkbox",checked:t.modelValue,onChange:a},null,40,mr)])],16))}});const pr=Ke(fr,[["__scopeId","data-v-ed1c78bf"]]),vr=["onKeydown"],gr=["onClick","onKeydown"],br=te({__name:"CecalcPlanilhaCelulaOpcoes",props:{modelValue:{default:void 0},opcoes:{default:()=>[]},incluirOpcaoVazia:{type:Boolean,default:!0},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){const a=e,t=S(),n=S(),r=S([]),c=S(!1),l=S(0);Qe(()=>a.modelValue,async()=>{await se(),s()}),eo(()=>{window.addEventListener("click",i),s()}),on(()=>window.removeEventListener("click",i));function s(){const b=a.opcoes.findIndex(z=>z.valor===a.modelValue);b>=0?l.value=b:l.value=0}function i(b){if(!n.value||!t.value)return;const z=b.target,v=z===n.value||n.value.contains(z),y=b.target===t.value||t.value.contains(z);!v&&!y&&p()}function h(){if(t.value&&n.value){const b=r.value.reduce((be,Te)=>{const{width:Oe}=Te.firstElementChild.getBoundingClientRect();return Math.max(be,Oe)},0),z=Math.min(r.value.length,5),{width:v,height:y,top:w,left:E}=t.value.getBoundingClientRect(),V=w+y/2,q=E+v/2,G=document.documentElement.clientWidth,j=document.documentElement.clientHeight,H=y*z,ce=Math.max(b+50),Ce=Math.min(V-H/2,j-H),$e=Math.min(q-ce/2,G-ce);n.value.style.height=`${H}px`,n.value.style.maxWidth=`${ce}px`,n.value.style.top=`${Ce}px`,n.value.style.left=`${$e}px`,r.value.forEach(be=>{be.style.height=`${y}px`})}}async function D(){await se();const b=r.value[l.value];b&&(b.scrollIntoView(),await se(),b.focus())}async function _(){a.desabilitar||(c.value=!0,await se(),h(),await se(),D())}function p(){t.value&&t.value.focus(),c.value=!1}function $(b){b<0&&(b=a.opcoes.length-1),b>a.opcoes.length-1&&(b=0),l.value=b,D(),o("valorAtualizado",a.opcoes[l.value].valor),p()}function d(b){if(!b.target)return;const v=b.key;if(v==="Escape"&&(b.preventDefault(),s(),p()),v==="Tab"||v==="Enter"){b.preventDefault(),$(l.value);return}if(v==="ArrowDown"){b.preventDefault(),l.value++,l.value>=a.opcoes.length&&(l.value=0),D();return}v==="ArrowUp"&&(b.preventDefault(),l.value--,l.value<0&&(l.value=a.opcoes.length-1),D())}return(b,z)=>(A(),N(me,null,[T("td",an({ref_key:"celula",ref:t},b.$attrs,{onKeydown:tn(Ie(_,["stop"]),["f2"])}),[T("div",{class:"cecalc-planilha-celula-opcoes-selecionada",onDblclick:_},[T("span",{class:X({placeholder:!Array.isArray(b.opcoes)||!b.opcoes[C(l)].rotulo})},De(Array.isArray(b.opcoes)?b.opcoes[C(l)].rotulo:void 0),3),b.desabilitar?Xe("",!0):(A(),N("span",{key:0,class:"icone-editar",onClick:_}))],32)],16,vr),C(c)?(A(),ae(nn,{key:0,to:"table"},[T("div",{ref_key:"opcoesContainer",ref:n,class:"cecalc-planilha-celula-opcoes-menu",onBlur:p},[T("ul",null,[(A(!0),N(me,null,Ae(b.opcoes,(v,y)=>(A(),N("li",{ref_for:!0,ref_key:"opcoesLinhas",ref:r,key:v.valor,tabindex:"1",class:X({placeholder:!v.rotulo}),onClick:Ie(w=>$(y),["prevent"]),onKeydown:Ie(d,["self"])},[T("span",null,De(v.rotulo),1)],42,gr))),128))])],544)])):Xe("",!0)],64))}});const hr=Ke(br,[["__scopeId","data-v-5732efde"]]),_r={class:"cecalc-input-container"},Cr=["name","value"],yr={key:0,class:"cecalc-mensagem-erro"},xr=te({__name:"CecalcPlanilhaInput",props:{nome:{default:""},modelValue:{default:""},mensagemErro:{default:""}},emits:["update:model-value","blur"],setup(e,{emit:o}){const a=S();eo(()=>{var n;(n=a.value)==null||n.focus()});function t(n){if(n.key==="Enter"||n.key==="Tab"){const r=n.target;o("update:model-value",r.value)}(n.key.startsWith("Arrow")||n.key==="Delete"||n.key==="Backspace")&&n.stopPropagation()}return(n,r)=>(A(),N("div",_r,[T("input",{ref_key:"input",ref:a,name:n.nome,value:n.modelValue,type:"text",class:X(["cecalc-input",n.mensagemErro?"erro":""]),onFocus:r[0]||(r[0]=c=>{c.target.select()}),onBlur:r[1]||(r[1]=c=>o("blur")),onKeydown:t},null,42,Cr),n.mensagemErro?(A(),N("div",yr,De(n.mensagemErro),1)):Xe("",!0)]))}});const Dr=Ke(xr,[["__scopeId","data-v-b09450ae"]]),$r=["title"],Ar={key:1},Fr={key:2},Ir=te({__name:"CecalcPlanilhaCelulaEditavel",props:{editando:{type:Boolean,default:!1},nome:{default:""},modelValue:{default:""},placeholder:{default:""},tipo:{default:"texto"},desabilitar:{type:Boolean,default:!1}},emits:["blur","edicaoConcluida","valorAtualizado"],setup(e,{emit:o}){const a=e,t=S(!1),n=S(""),r=Sa();function c(i){return i?a.tipo==="data"?r.inputDataLocal(i)?"":"dd/mm/aaaa":a.tipo==="competencia"?r.inputDataLocal(i)?"":"mm/aaaa":a.tipo==="texto"?"":a.tipo==="inteiro"||a.tipo==="sequencial"?r.inputNumeroInteiro(i)?"":"número inteiro":r.inputValorNumerico(i)?"":"valor numérico":""}function l(i){n.value=c(i),t.value=n.value.length>0,t.value?o("edicaoConcluida"):o("valorAtualizado",i)}function s(i){(i.key==="Delete"||i.key==="Backspace")&&i.stopPropagation()}return(i,h)=>{const D=Dr;return A(),N("td",{class:X({erro:C(t)&&!i.editando,editando:i.editando}),title:C(n),onBlur:h[2]||(h[2]=_=>o("blur"))},[!i.desabilitar&&i.editando?(A(),ae(D,{key:0,nome:i.nome,"model-value":i.modelValue,"mensagem-erro":C(n),"onUpdate:modelValue":h[0]||(h[0]=_=>l(_)),onBlur:h[1]||(h[1]=_=>o("edicaoConcluida")),onKeydown:Ie(s,["self"])},null,8,["nome","model-value","mensagem-erro","onKeydown"])):!i.desabilitar&&C(t)?(A(),N("div",Ar," # ERRO ")):(A(),N("div",Fr,De(i.modelValue||i.placeholder),1))],42,$r)}}});const wr=Ke(Ir,[["__scopeId","data-v-86490382"]]),Ge=e=>(Aa("data-v-ee2a66df"),e=e(),Fa(),e),Er=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Copiar ",-1)),kr=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Recortar ",-1)),Vr=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Colar ",-1)),Sr=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Desfazer ",-1)),Pr=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Refazer ",-1)),Tr=Ge(()=>T("span",{class:"text-caption q-ml-sm"}," Copiar com cabeçalhos ",-1)),Or=Ge(()=>T("span",{class:"text-caption q-ml-sm"},' Baixar arquivo ".csv" ',-1)),zr=te({__name:"CecalcPlanilhaMenuContextual",props:{modelValue:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!1}},emits:["update:model-value","copiar","recortar","colar","desfazer","refazer","copiarComCabecalhos","gerarCsv"],setup(e,{emit:o}){return(a,t)=>{const n=$a,r=dn,c=lo,l=So,s=ut;return A(),ae(l,{square:"","model-value":a.modelValue,class:"bg-grey-2","no-parent-event":"","onUpdate:modelValue":t[7]||(t[7]=i=>o("update:model-value",i))},{default:Y(()=>[k(c,{flat:"",square:""},{default:Y(()=>[Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[0]||(t[0]=i=>a.$emit("copiar"))},[k(n,{name:C(Ho)},null,8,["name"]),Er])),[[s]]),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[1]||(t[1]=i=>a.$emit("recortar"))},[k(n,{name:C(rn)},null,8,["name"]),kr])),[[s]]),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[2]||(t[2]=i=>a.$emit("colar"))},[k(n,{name:C(ln)},null,8,["name"]),Vr])),[[s]]),a.habilitarDesfazerRefazer?(A(),N(me,{key:0},[k(r),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[3]||(t[3]=i=>a.$emit("desfazer"))},[k(n,{name:C(sn)},null,8,["name"]),Sr])),[[s]]),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[4]||(t[4]=i=>a.$emit("refazer"))},[k(n,{name:C(cn)},null,8,["name"]),Pr])),[[s]])],64)):Xe("",!0),k(r),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[5]||(t[5]=i=>a.$emit("copiarComCabecalhos"))},[k(n,{name:C(Ho)},null,8,["name"]),Tr])),[[s]]),Ue((A(),N("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[6]||(t[6]=i=>a.$emit("gerarCsv"))},[k(n,{name:C(un)},null,8,["name"]),Or])),[[s]])]),_:1})]),_:1},8,["model-value"])}}});const Mr=Ke(zr,[["__scopeId","data-v-ee2a66df"]]),pe={Coluna:{Fixa:"cecalc-planilha-coluna-fixa",Editavel:"cecalc-planilha-coluna-editavel",Calculada:"cecalc-planilha-coluna-calculada"},Celula:{Desabilitada:"cecalc-planilha-celula-desabilitada",Desconsiderada:"cecalc-planilha-celula-desconsiderada",NaoEditavel:"cecalc-planilha-celula-nao-editavel",ValorIncluidoPeloUsuario:"cecalc-planilha-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-planilha-celula-valor-modificado",Atencao:"cecalc-planilha-celula-atencao",Verificada:"cecalc-planilha-celula-verificada",ValorElevado:"cecalc-planilha-celula-valor-elevado",ValorLimitado:"cecalc-planilha-celula-valor-limitado",IncluirIcone:"incluir-icone"},Selecao:{Caixa:"cecalc-caixa-selecao",Mascara:"cecalc-mascara-celula-ativa",Alca:"cecalc-alca-caixa-selecao",CopiaAtiva:"copia-ativa"}};function ko(e){const o=e.offsetTop,a=e.offsetLeft,t=e.offsetWidth,n=e.offsetHeight;return{top:o,left:a,width:t,height:n}}function Nr(e,o,a){return a==="topleft"?`polygon(0% ${e-5}px, 0% 100%, 100% 100%, 100% 0%, ${o-4}px 0%, ${o-4}px ${e-5}px)`:a==="topright"?`polygon(0% 0%, 0% 100%, 100% 100%, 100% ${e-5}px, calc(100% - ${o-5}px) ${e-5}px, calc(100% - ${o-5}px) 0%)`:a==="bottomleft"?`polygon(0% 0%, 0% calc(100% - ${e-5}px), ${o-4}px calc(100% - ${e-5}px), ${o-4}px 100%, 100% 100%, 100% 0%, 0% 0%`:a==="bottomright"?`polygon(0% 0%, 0% 100%, calc(100% - ${o-5}px) 100%, calc(100% - ${o-5}px) calc(100% - ${e-5}px), 100% calc(100% - ${e-5}px), 100% 0%, 0% 0%`:""}function qr(e,o){const{width:a,height:t,top:n,left:r}=ko(e);if(e.isSameNode(o))return{width:a,height:t,top:n,left:r,mask:{width:a,height:t,position:"topleft"}};const{width:c,height:l,top:s,left:i}=ko(o);return n<=s&&r<=i?{top:n,left:r,width:i+c-r,height:s+l-n,mask:{width:a,height:t,position:"topleft"}}:n<=s&&r>i?{top:n,left:i,width:r+a-i,height:s+l-n,mask:{width:a,height:t,position:"topright"}}:n>s&&r<=i?{top:s,left:r,width:i+c-r,height:n+t-s,mask:{width:a,height:t,position:"bottomleft"}}:{top:s,left:i,width:r+a-i,height:n+t-s,mask:{width:a,height:t,position:"bottomright"}}}function Br(e){const o=document.createElement("div");o.classList.add(pe.Selecao.Caixa);const a=document.createElement("div");a.classList.add(pe.Selecao.Mascara),o.appendChild(a);const t=document.createElement("div");return t.classList.add(pe.Selecao.Alca),t.draggable=!0,o.appendChild(t),e.appendChild(o),{caixa:o,mascara:a,alca:t}}function ro(e){let o=e.target;if(!o||o.tagName==="TD")return o;let a=0;for(;a<4;){if(!o||o.tagName==="TD")return o;o=o.parentElement,a++}return null}function ge(e){if(!e||!e.parentElement||e.parentElement.tagName!=="TR")return;const o=e.cellIndex,a=e.parentElement.rowIndex;return{col:o,lin:a}}function Lr({container:e,habilitarAlcaDeArrasto:o,callbackAlcaDeArrasto:a}){oo().info("Executando useSelecao");let n;const r=()=>n?n.querySelector("tr td:first-of-type"):null,c=()=>n?n.querySelector("tr:last-of-type td:last-of-type"):null;function l(){const m=r(),F=c();if(!m||!F)return;const P=ge(m),L=ge(F);if(!(!P||!L))return[P,L]}const s=S(),i=S(),h=S([]);let D,_,p;const $=new Image;let d=!1;eo(async()=>{if(await se(),e.value&&(n=e.value.querySelector("tbody"),n)){const m=Br(e.value);D=m.caixa,_=m.mascara,p=m.alca,o||(p.style.display="none"),Be(),r()?q():V()}});function b(m){const F=r();if(!F)return;const P=ge(F);if(P)return{col:m.col-P.col,lin:m.lin-P.lin}}function z(m){const F=r();if(!F)return;const P=ge(F);if(P)return{col:m.col+P.col,lin:m.lin+P.lin}}function v(m){var J,Q;if(!n)return null;const F=n.parentElement;if(!F||F.tagName!=="TABLE"||!F.rows.length||!((J=F.rows.item(0))!=null&&J.cells.length))return null;const{col:P,lin:L}=m;return((Q=n.parentElement.rows.item(L))==null?void 0:Q.cells.item(P))||null}function y(){D.style.display="none",_.style.display="none",p.style.display="none"}function w(){D.style.display="block",_.style.display="block",o&&(p.style.display="block")}function E(){var to,no;if(!s.value||!i.value||!D||!_)return;const m=-1,F=0,P=2,L=1;if(s.value.isSameNode(i.value)){const{top:uo,left:mo,width:Do,height:$o}=ko(s.value);D.style.top=`${uo+m}px`,D.style.left=`${mo+F}px`,D.style.width=`${Do+P}px`,D.style.height=`${$o+L}px`,_.style.height="0px",_.style.width="0px";return}const{top:J,left:Q,width:ee,height:oe,mask:ue}=qr(s.value,i.value);D.style.top=`${J+m}px`,D.style.left=`${Q+F}px`,D.style.width=`${ee+P}px`,D.style.height=`${oe+L}px`,_.style.height=`${oe-10}px`,_.style.width=`${ee-9}px`,_.style.clipPath=Nr(((to=s.value)==null?void 0:to.offsetHeight)||0,((no=s.value)==null?void 0:no.offsetWidth)||0,ue.position)}function V(){y()}function q(m){if(m=m||r()||void 0,m){const F=ge(m);F&&(s.value=m,i.value=m,h.value=[F,F],m.focus(),E(),w())}}function G(m){i.value=m,h.value[1]=ge(m),E(),w()}function j(m){var oe,ue;const F=be();if(!F)return;const P=l();if(!P)return;const[L,J]=P,Q=Math.max(Math.min(J.lin,F.lin+m),L.lin),ee=v({lin:Q,col:F.col});ee&&q(ee),Q===L.lin?(oe=e.value)==null||oe.scrollTo({top:0}):Q===J.lin&&((ue=e.value)==null||ue.scrollBy(0,100))}function H(m){var oe,ue;const F=be();if(!F)return;const P=l();if(!P)return;const[L,J]=P,Q=Math.max(Math.min(J.col,F.col+m),L.col),ee=v({lin:F.lin,col:Q});ee&&q(ee),Q===L.col?(oe=e.value)==null||oe.scrollTo({left:0}):Q===J.col&&((ue=e.value)==null||ue.scrollBy(100,0))}function ce(m,F){const P=i.value||ro(m);if(!P)return;const L=ge(P);if(!L)return;const J=l();if(!J)return;const[Q,ee]=J,oe=Math.max(Math.min(ee.lin,L.lin+F),Q.lin),ue=v({lin:oe,col:L.col});ue&&(ue.focus(),i.value=ue,h.value[1]=ge(ue),E())}function Ce(m,F){const P=i.value||ro(m);if(!P)return;const L=ge(P);if(!L)return;const J=l();if(!J)return;const[Q,ee]=J,oe=Math.max(Math.min(ee.col,L.col+F),Q.col),ue=v({lin:L.lin,col:oe});ue&&(ue.focus(),i.value=ue,h.value[1]=ge(ue),E())}function $e(){return!h.value||h.value.length===0?[]:[{col:Math.min(h.value[0].col,h.value[1].col),lin:Math.min(h.value[0].lin,h.value[1].lin)},{col:Math.max(h.value[0].col,h.value[1].col),lin:Math.max(h.value[0].lin,h.value[1].lin)}]}function be(){if(!(!h.value||h.value.length===0||!h.value[0]))return h.value[0]}function Te(){if(!(!h.value||h.value.length===0))return h.value[1]}function Oe(m){const F=$e();if(F.length===0)return;const P=ge(m);return P?P.col<=F[1].col&&P.col>=F[0].col&&P.lin<=F[1].lin&&P.lin>=F[0].lin:!1}function B(m,F){const P=v(m),L=v(F);P&&q(P),L&&G(L)}function le(m){const F=ge(m);if(!F)return;const P=l();if(!P)return;const[L,J]=P,{col:Q}=F;if(Q<L.col||Q>J.col)return;const ee=v({lin:L.lin,col:Q}),oe=v({lin:J.lin,col:Q});ee&&oe&&(q(ee),i.value=oe,h.value=[{lin:L.lin,col:Q},{lin:J.lin,col:Q}],E())}function he(m){const F=ge(m);if(!F)return;const P=l();if(!P)return;const[L,J]=P,{lin:Q}=F;if(Q<L.lin||Q>J.lin)return;const ee=v({lin:Q,col:L.col}),oe=v({lin:Q,col:J.col});ee&&oe&&(q(ee),i.value=oe,h.value=[{lin:Q,col:L.col},{lin:Q,col:J.col}],E())}function ke(){const m=r(),F=c();if(m&&F){q(m),i.value=F;const P=ge(m),L=ge(F);P&&L&&(h.value=[P,L],E())}}function qe(m){!s.value||!i.value||(m.dataTransfer.effectAllowed="move",m.dataTransfer.setDragImage($,0,0),s.value.isSameNode(i.value)||(s.value=i.value,E()),d=!0)}function Ve(m){if(!d||!s.value||!i.value)return;m.preventDefault(),m.dataTransfer&&(m.dataTransfer.dropEffect="move");const F=ro(m);if(F){if(F.isSameNode(i.value))return;const P=ge(F);if(P){const L=l();if(!L)return;const[J,Q]=L,ee=v({lin:Math.min(Q.lin,P.lin),col:s.value.cellIndex});ee&&(i.value=ee,h.value[1]=ge(ee),E())}}}function Ye(m){m.preventDefault(),d=!1,Xo(a)&&a(m)}function Re(m=2e3){D&&(D.classList.add(pe.Selecao.CopiaAtiva),setTimeout(()=>{D.classList.remove(pe.Selecao.CopiaAtiva)},m))}const ye={ArrowUp:m=>m.shiftKey?ce(m,m.ctrlKey?Number.NEGATIVE_INFINITY:-1):j(m.ctrlKey?Number.NEGATIVE_INFINITY:-1),ArrowDown:m=>m.shiftKey?ce(m,m.ctrlKey?Number.POSITIVE_INFINITY:1):j(m.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowRight:m=>m.shiftKey?Ce(m,m.ctrlKey?Number.POSITIVE_INFINITY:1):H(m.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowLeft:m=>m.shiftKey?Ce(m,m.ctrlKey?Number.NEGATIVE_INFINITY:-1):H(m.ctrlKey?Number.NEGATIVE_INFINITY:-1),PageUp:m=>m.shiftKey?ce(m,-20):j(-20),PageDown:m=>m.shiftKey?ce(m,20):j(20),Home:m=>m.shiftKey?ce(m,Number.NEGATIVE_INFINITY):j(Number.NEGATIVE_INFINITY),End:m=>m.shiftKey?ce(m,Number.POSITIVE_INFINITY):j(Number.POSITIVE_INFINITY),Tab:m=>ye.ArrowRight(m),Enter:m=>ye.ArrowDown(m)};function je(m){if(d||!e.value||!n)return;const F=m.key;F in ye&&(m.preventDefault(),ye[F](m))}function ze(m){if(!(d||!e.value||!n)){if(m.type==="click"||m.type==="mousedown"){const F=ro(m),P=r();F&&P&&F.cellIndex>=P.cellIndex&&(m.buttons!==2||!Oe(F))&&(s.value&&F.isSameNode(s.value)||q(F))}if(m.type==="mouseover"&&m.buttons===1){const F=ro(m),P=r();F&&P&&F.cellIndex>=P.cellIndex&&G(F)}}}function ao(m){if(m.buttons!==1)return;const F=m.currentTarget,{height:P,width:L,top:J,left:Q}=F.getBoundingClientRect(),ee=m.clientX>=L+Q-150?50:m.clientX<=Q+80?-50:0,oe=m.clientY>=P+J-80?50:m.clientY<=J+50?-30:0;F.scrollBy(ee,oe)}function Be(){e.value&&Me(e.value,"mouseover",ao),n&&(Me(n,"dragover",Ve),Me(n,"dragenter",Ve),Me(n,"drop",Ye)),p&&o&&(Me(p,"dragstart",qe),Me(p,"dragend",Ye),Me(p,"dragover",Ve),Me(p,"dragenter",Ve),Me(p,"dblclick",Xo(a)?a:()=>{}))}return{obterCelula:v,desativar:V,ativarCelula:q,selecionarArea:B,redefinirCaixaSelecao:E,celulaAtiva:s,celulaOposta:i,areaSelecionada:h,obterPACelulaAtiva:be,obterPACelulaOposta:Te,obterSelecaoOrdenada:$e,converterPosicaoAR:b,converterPosicaoRA:z,selecionarColuna:le,selecionarLinha:he,selecionarTudo:ke,dispararEfeitoCopia:Re,plugarMouse:ze,plugarTeclado:je}}function Rr(e){oo().info("Executando useUltimaLinha");let a,t=[];const n=S();eo(async()=>{await se(),e.value&&(a=e.value.querySelector("tfoot"),a&&(t=c(),t.length&&s(0)))});function r($){let d=$.target;if(d===null||d.tagName==="TD")return d;let b=0;for(;b<4;){if(d===null||d.tagName==="TD")return d;d=d.parentElement,b++}return null}function c(){return a?Array.from(a.querySelectorAll(`tr td.${pe.Coluna.Editavel}`)):[]}function l($){return $?(t.length||(t=c()),t.findIndex(d=>d.isSameNode($))):-1}function s($){if(!t.length)return;n.value&&n.value.classList.remove("ativa"),$<0&&($=t.length-1),$>=t.length&&($=0),n.value=t[$],n.value.classList.add("ativa"),n.value.focus();const d=n.value.querySelector("input");d&&d.focus()}function i(){n.value&&s(l(n.value)+1)}function h(){n.value&&s(l(n.value)-1)}const D={ArrowRight:i,ArrowLeft:h,Tab:i,Enter:i};function _($){if(!e.value||!a)return;const d=$.key;d in D&&($.preventDefault(),D[d]())}function p($){if(!(!e.value||!a)&&$.type==="click"){const d=r($);if(d){const b=l(d);b>=0&&s(b)}}}return{ativarCelula:s,celulaAtiva:n,plugarMouse:p,plugarTeclado:_}}function Pa(){const e=oo(),{confirmacao:o}=To();function a(r,c,l){Vn(c,r,l)}function t(r,c){a(r,c,"application/json")}async function n(r,c=!0){try{const l=await r.text(),s=JSON.parse(l,Mo);if(e.console.log(s),s.dados)return c&&!await o("Atenção","O carregamento do arquivo apagará todos os dados atuais. Confirma?","Confirmar","Cancelar")?void 0:s}catch(l){e.erro(l)}}return{exportar:a,salvar:t,abrir:n}}function jr(){const e=oo();let o=[],a=-1;function t(s,i){e.console.log("Iniciando registro"),e.console.log(o),e.console.log(a),s(),a<o.length-1&&(o=o.slice(0,a+1)),o.push({acaoDesfazer:i,acaoFazer:s}),a++,e.console.log("registro concluído"),e.console.log(o),e.console.log(a)}function n(){return o.length&&a>=0}function r(){return o.length&&a<o.length-1}function c(){if(e.console.log("desfazendo"),!n())return;e.console.log(o),e.console.log(a);const s=o[a].acaoDesfazer;s(),a--}function l(){if(e.console.log("refazendo"),!r())return;e.console.log(o),e.console.log(a),a++;const s=o[a].acaoFazer;s()}return{registrarAcao:t,desfazer:c,refazer:l}}function Ur(e,o){const a=e.map(n=>n.rotulo).map(n=>ea(`${n}`)),t=o.filter(n=>!n.desabilitada).map(n=>e.map(r=>{const c=r.nome,l=n.celulas[c].valorFormatado??"";return ea(`"${l}"`)}).join(";"));return t.unshift(a.join(";")),t.join(`
`)}function Ta(e){return e.filter(o=>o.tipo==="texto").length}function Qr(e){const o=Ta(e);return o>0?100/o:0}function Oa(e,o){const a={};return a.userSelect="none",e.tipo==="sequencial"?(a.width="50px",a.textAlign="right"):e.tipo==="texto"?(a.width=o,a.textAlign="left"):e.tipo==="data"||e.tipo==="competencia"||e.tipo==="opcoes"?(a.width="100px",a.minWidth="100px",a.textAlign="center"):e.tipo==="booleano"?(a.width="50px",a.minWidth="50px",a.textAlign="center"):(a.width="100px",a.textAlign="right"),a}function Kr(e,o){const a=Oa(e,o);return a.fontWeight="bold",a.textAlign="center",a}function za(e,o=!1){const a=[];return o?a.push(pe.Coluna.Fixa):e.editavel?a.push(pe.Coluna.Editavel):e.calculada&&a.push(pe.Coluna.Calculada),a.join(" ").trim()}function Gr(e,o=!1){return za(e,o)}function Yr(e,o=0,a=[]){const t=`${Qr(e)}%`;return e.map((n,r)=>{const c=r+1<=o;return{...n,fixa:c,ocultar:a.length>0?!a.includes(n.nome):!1,estilos:Oa(n,t),estilosCabecalho:Kr(n,t),classes:za(n,c),classesCabecalho:Gr(n,c)}})}function vo(e){return Ta(e)>0?{width:"50px"}:{width:"100%"}}const Hr={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},Jr={style:{"min-width":"20px"}},Wr=["colspan"],Xr=T("div",null,[T("span",null," Utilize a linha abaixo para adicionar novos registros ")],-1),Zr=[Xr],ei={key:1},oi=["colspan"],ai=te({__name:"CecalcPlanilha",props:{configColunas:{default:()=>[]},linhas:{default:()=>[]},colunasVisiveis:{default:()=>[]},congelarColunas:{default:0},altura:{default:"calc(100vh - 270px)"},novaLinha:{},nomeArquivoCsv:{},habilitarAlcaDeArrasto:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!0},teclaDelRemoveLinha:{type:Boolean,default:!1}},emits:["atualizarCelula","removerCelula","atualizarSelecao","removerSelecao","novaLinha","removerLinha","repetir","adicionar","click","dblclick"],setup(e,{expose:o,emit:a}){const t=e,n=Z(()=>Yr(t.configColunas,t.congelarColunas,t.colunasVisiveis).filter(u=>!u.ocultar)),r=S(null),c=S(!1),l=S(),s=S({col:-1,lin:-1}),{obterCelula:i,desativar:h,ativarCelula:D,selecionarArea:_,redefinirCaixaSelecao:p,celulaAtiva:$,obterPACelulaAtiva:d,obterPACelulaOposta:b,obterSelecaoOrdenada:z,converterPosicaoAR:v,converterPosicaoRA:y,selecionarColuna:w,selecionarLinha:E,selecionarTudo:V,dispararEfeitoCopia:q,plugarMouse:G,plugarTeclado:j}=Lr({container:r,habilitarAlcaDeArrasto:t.habilitarAlcaDeArrasto,callbackAlcaDeArrasto:Ya}),H=Rr(r),{copy:ce,copied:Ce,isSupported:$e}=mn({read:!0,source:"",copiedDuring:1500,legacy:!0}),{exportar:be}=Pa(),{confirmacao:Te,aviso:Oe}=To(),B=jr();Qe(()=>t.linhas.length,async u=>{await se(),u!==void 0&&(u===0?h():$.value?p():D())});function le(){Oe("Operação não permitida",`A operação não pode ser realizada. O uso da área de transferência foi bloqueado pelo seu navegador.
Habilite a funcionalidade e tente de novo.`)}function he(){return Te("Confirmação","Os dados que você está tentando colar não são do mesmo tamanho de sua seleção. Deseja colar mesmo assim?")}function ke(){$.value&&D($.value)}async function qe(){const u=d();if(u){const g=v(u);if(g){const{col:I,lin:M}=g;s.value.col=I,s.value.lin=M}await se(),p()}}async function Ve(){s.value.lin=-1,s.value.col=-1,$.value&&$.value.focus(),await se(),p()}function Ye(u){return Ee(u)&&u>=0&&u<t.linhas.length}function Re(u){return Ee(u)&&u>=0&&u<n.value.length}function ye(u){return n.value[u].nome}function je(u){const g=v(u);if(!g)return;const{lin:I,col:M}=g;if(!Ye(I)||!Re(M))return;const R=t.linhas[I],U=ye(M);return{linha:R,nomeColuna:U}}function ze(u){const g=je(u);if(!g)return;const{linha:I,nomeColuna:M}=g;return I.celulas[M].valorFormatado}function ao(u,g){if(!Re(u)||!Re(g))return Array.from({length:Math.max(u,g)-Math.min(u,g)+1}).fill("");const I=[];for(let M=Math.min(u,g);M<=Math.max(u,g);M++)I.push(n.value[M].rotulo);return I}function Be(u){const g=[],[I,M]=u;for(let R=I.lin;R<=M.lin;R++){const U=[];for(let K=I.col;K<=M.col;K++)U.push(ze({col:K,lin:R})||"");g.push(U)}return g}function m(u=!1){const g=z();if(Array.isArray(g)&&g.length){const I=Be(g);if(u){const[M,R]=g,U=v(M),K=v(R);if(U&&K){const x=ao(U.col,K.col);I.unshift(x)}}return I}return[]}async function F(){let u=await navigator.clipboard.readText();return u=u.replace(/\r/g,"").trim(),!u||!u.split(`
`).length?[]:u.split(`
`).map(g=>g.trim().split("	").map(M=>M.trim()))}function P(u,g,I){const M=t.linhas[g],R=ye(I),U=y({col:I,lin:g});if(!U)return;const K=ze(U)||"",x=async()=>{a("atualizarCelula",{linha:M,coluna:R,valor:u}),await se();const O=i(U);O&&D(O)},W=async()=>{K?a("atualizarCelula",{linha:M,coluna:R,valor:K}):a("removerCelula",{linha:M,coluna:R}),await se();const O=i(U);O&&D(O)};B.registrarAcao(x,W),Ve()}function L(){const u=d();if(!u)return;const g=v(u);if(!g)return;const{lin:I}=g,M=t.linhas[I],R=async()=>{a("removerLinha",{linha:M}),await se();const K=i(u);K&&D(K)},U=async()=>{a("novaLinha",{linha:M}),await se();const K=i(u);K&&D(K)};B.registrarAcao(R,U)}function J(u){const g=v(u);if(!g)return;const{lin:I,col:M}=g,R=t.linhas[I],U=ye(M),K=ze(u)||"",x=async()=>{a("removerCelula",{linha:R,coluna:U}),await se();const O=i(u);O&&D(O)},W=async()=>{a("atualizarCelula",{linha:R,coluna:U,valor:K}),await se();const O=i(u);O&&D(O)};B.registrarAcao(x,W)}function Q(u,g){const I=Be(g),[M,R]=g,[U,K]=[v(M),v(R)];if(!U||!K)return;const x=[];for(let de=U.col;de<=K.col;de++){const Se=ye(de);x.push(Se)}const W=[],O=[];for(let de=U.lin;de<=K.lin;de++){const Se=t.linhas[de],He={},fo={};x.forEach((Qo,Ko)=>{He[Qo]=u[de-U.lin][Ko],fo[Qo]=I[de-U.lin][Ko]}),W.push({linha:Se,valores:He}),O.push({linha:Se,valores:fo})}const Fe=()=>{a("atualizarSelecao",{itens:W}),_(M,R)},ve=()=>{a("atualizarSelecao",{itens:O}),_(M,R)};B.registrarAcao(Fe,ve)}function ee(u){const g=Be(u),[I,M]=u,[R,U]=[v(I),v(M)];if(!R||!U)return;const K=[];for(let ve=R.col;ve<=U.col;ve++){const de=ye(ve);K.push(de)}const x=[],W=[];for(let ve=R.lin;ve<=U.lin;ve++){const de=t.linhas[ve];x.push(de);const Se={};K.forEach((He,fo)=>{Se[He]=g[ve-R.lin][fo]}),W.push({linha:de,valores:Se})}const O=()=>{a("removerSelecao",{linhas:x,colunas:K}),_(I,M)},Fe=()=>{a("atualizarSelecao",{itens:W}),_(I,M)};B.registrarAcao(O,Fe)}async function oe(u=!1){if(!$e)return le();const I=m(u).map(M=>M.join("	")).join(`
`);await ce(I),Ce.value&&q()}function ue(){oe(!0)}async function to(){if(!$e)return le();await oe(),Ce.value&&uo()}async function no(){if(!$e)return le();const u=z();if(Array.isArray(u)&&u[0]&&u[1]){const g=await F();if(!g.length)return;const[I,M]=u,R=M.lin-I.lin+1,U=M.col-I.col+1;if(g.length!==R||g[0].length!==U){if((R>1||U>1)&&!await he())return;M.lin=I.lin+g.length-1,M.col=I.col+g[0].length-1}Q(g,[I,M])}}function uo(){const u=z(),[g,I]=u;g&&I&&(g.lin===I.lin&&g.col===I.col?J(g):ee([g,I]))}function mo(u,g){const[I,M]=g,[R,U]=[v(I),v(M)];if(!R||!U)return;const K=Be(g),x=ye(R.col),W=[],O=[];for(let de=R.lin;de<=U.lin;de++){const Se=t.linhas[de];O.push(Se);const He=K[de-R.lin][R.col];W.push({linha:Se,valores:{[x]:He}})}const Fe=()=>{a("repetir",{valor:u,coluna:x,linhas:O}),_(I,M)},ve=()=>{a("atualizarSelecao",{itens:W}),_(I,M)};B.registrarAcao(Fe,ve)}function Do(u){const{col:g,lin:I}=u,M=t.linhas.length-1;if(I===M)return{lin:I,col:g};const R=ye(g);let U=I;for(let K=I+1;K<=M;K++){const x=t.linhas[K].celulas[R].valor,W=t.linhas[K].desabilitada;if(x!=null&&x!==""||W)break;U=K}return{lin:U,col:g}}function $o(){if(!t.habilitarAlcaDeArrasto)return;const u=d();if(!u)return;const g=ze(u);if(!g)return;const I=b();if(!I||I.lin===u.lin)return;const M=[{lin:Math.min(u.lin+1,I.lin),col:u.col},{lin:Math.max(u.lin+1,I.lin),col:u.col}];mo(g,M)}function Ga(){if(!t.habilitarAlcaDeArrasto)return;const u=d();if(!u)return;const g=ze(u);if(!g)return;const I=v(u);if(!I)return;const M=Do(I),R=y(M);if(!R)return;const U=[{lin:Math.min(u.lin+1,R.lin),col:u.col},{lin:Math.max(u.lin+1,R.lin),col:u.col}];mo(g,U)}function Ro(){t.habilitarDesfazerRefazer&&B.refazer()}function jo(){t.habilitarDesfazerRefazer&&B.desfazer()}function Uo(){const u=Ur(t.configColunas,t.linhas),g=`${t.nomeArquivoCsv||"dados"}.csv`;be(u,g,"text/csv")}function Ya(u){u.type==="drop"&&$o(),u.type==="dblclick"&&Ga()}function Ha(u){const g=u.key,I=u.ctrlKey,M=/^[\dA-Za-z]$/.test(g);if(g==="Escape"){u.stopPropagation(),Ve();return}if(g==="Delete"||g==="Backspace"){if(u.stopPropagation(),t.teclaDelRemoveLinha)return L();uo();return}I&&(g==="c"||g==="C")&&oe(),I&&(g==="v"||g==="V")&&no(),I&&(g==="x"||g==="X")&&to(),I&&(g==="y"||g==="Y")&&Ro(),I&&(g==="z"||g==="Z")&&jo(),!I&&(M||g==="F2")&&$.value&&qe(),j(u)}function Ao(u){if(u.type==="contextmenu"){u.preventDefault(),l.value=u.target||void 0,c.value=!0,G(u);return}if(u.type==="click"){G(u);const g=d();if(g){const I=je(g);if(!I)return;a("click",I),p()}return}if(u.type==="dblclick"){G(u),qe();const g=d();if(g){const I=je(g);if(!I)return;a("dblclick",I)}}}o({gerarArquivoCsv:Uo});async function Fo(u,g){a("adicionar",{valor:u,nomeColuna:g}),await se(),ke()}return(u,g)=>{const I=dt,M=pr,R=hr,U=wr,K=Mr;return A(),N("div",{ref_key:"container",ref:r,class:"cecalc-planilha-container",style:re({height:u.altura})},[T("table",null,[T("thead",null,[T("tr",null,[k(I,{onResize:ke}),T("th",{class:X(C(pe).Coluna.Fixa),onClick:g[0]||(g[0]=Ie((...x)=>C(V)&&C(V)(...x),["self"]))},[ho(u.$slots,"acoes-canto-superior")],2),(A(!0),N(me,null,Ae(C(n),x=>(A(),N("th",{key:`cab-${x.nome}`,class:X(x.classesCabecalho),style:re(x.estilosCabecalho),onClick:g[1]||(g[1]=Ie(W=>C(w)(W.target),["self"]))},De(x.rotulo),7))),128))])]),T("tbody",{onMousedown:g[4]||(g[4]=(...x)=>C(G)&&C(G)(...x)),onClick:Ao,onDblclick:Ao,onMouseover:g[5]||(g[5]=(...x)=>C(G)&&C(G)(...x)),onContextmenu:Ao,onKeydown:Ha},[(A(!0),N(me,null,Ae(u.linhas,(x,W)=>(A(),N("tr",{key:`lin-${W}`,class:X({desabilitada:x.desabilitada})},[T("th",{class:X(C(pe).Coluna.Fixa),style:re(C(vo)(u.configColunas)),onClick:g[2]||(g[2]=Ie(O=>C(E)(O.target),["self"]))},[T("div",Hr,[T("div",Jr,De(W+1),1),ho(u.$slots,"acoes-primeira-coluna",{linha:x,indexLinha:W,selecionarLinha:C(E)})])],6),(A(!0),N(me,null,Ae(C(n),(O,Fe)=>(A(),N(me,{key:`cel-${W}-${Fe}`},[O.editavel&&O.tipo==="booleano"?(A(),ae(M,{key:0,tabindex:"0","model-value":x.celulas[O.nome].valor,desabilitar:x.desabilitada,class:X(`${O.classes} ${x.celulas[O.nome].classes}`),style:re(Object.assign(O.estilos||{},x.celulas[O.nome].estilos)),onValorAtualizado:Ie(ve=>P(ve,W,Fe),["self"])},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):O.editavel&&O.tipo==="opcoes"?(A(),ae(R,{key:1,tabindex:"0","model-value":x.celulas[O.nome].valor,opcoes:O.opcoes,desabilitar:x.desabilitada,class:X(`${O.classes} ${x.celulas[O.nome].classes}`),style:re(Object.assign(O.estilos||{},x.celulas[O.nome].estilos)),onValorAtualizado:Ie(ve=>P(ve,W,Fe),["self"])},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):O.editavel&&O.tipo!=="opcoes"&&O.tipo!=="booleano"?(A(),ae(U,{key:2,nome:`${O.nome}-${W}`,tabindex:"0","model-value":x.celulas[O.nome].valorFormatado,placeholder:O.placeholder,tipo:O.tipo,desabilitar:x.desabilitada,editando:C(s).col===Fe&&C(s).lin===W,class:X(`${O.classes} ${x.celulas[O.nome].classes}`),style:re(Object.assign(O.estilos||{},x.celulas[O.nome].estilos)),onEdicaoConcluida:Ve,onValorAtualizado:Ie(ve=>P(ve,W,Fe),["self"])},null,8,["nome","model-value","placeholder","tipo","desabilitar","editando","class","style","onValorAtualizado"])):(A(),N("td",{key:3,tabindex:"0",class:X(`${O.classes} ${x.celulas[O.nome].classes}`),style:re(Object.assign(O.estilos||{},x.celulas[O.nome].estilos))},De(x.celulas[O.nome].valorFormatado||O.placeholder),7))],64))),128))],2))),128)),k(K,{modelValue:C(c),"onUpdate:modelValue":g[3]||(g[3]=x=>Le(c)?c.value=x:null),"habilitar-desfazer-refazer":u.habilitarDesfazerRefazer,target:C(l),offset:[-30,10],onCopiar:oe,onRecortar:to,onColar:no,onDesfazer:jo,onRefazer:Ro,onCopiarComCabecalhos:ue,onGerarCsv:Uo},null,8,["modelValue","habilitar-desfazer-refazer","target"])],32),T("tfoot",{onClick:g[6]||(g[6]=(...x)=>C(H).plugarMouse&&C(H).plugarMouse(...x)),onKeydown:g[7]||(g[7]=(...x)=>C(H).plugarTeclado&&C(H).plugarTeclado(...x))},[u.novaLinha&&u.novaLinha.celulas?(A(),N(me,{key:0},[T("tr",null,[T("th",{class:X(C(pe).Coluna.Fixa),style:re(C(vo)(u.configColunas))},"   ",6),T("td",{colspan:C(n).length},Zr,8,Wr)]),T("tr",null,[T("th",{class:X(C(pe).Coluna.Fixa),style:re(C(vo)(u.configColunas))},"   ",6),(A(!0),N(me,null,Ae(C(n),(x,W)=>(A(),N(me,{key:`nova-linha-col-${W}`},[(x.editavel||u.novaLinha.celulas[x.nome].editavel)&&x.tipo==="booleano"?(A(),ae(M,{key:0,tabindex:"0","model-value":u.novaLinha.celulas[x.nome].valor,desabilitar:u.novaLinha.desabilitada,class:X(`${x.classes} ${u.novaLinha.celulas[x.nome].classes}`),style:re(Object.assign(x.estilos||{},u.novaLinha.celulas[x.nome].estilos)),onValorAtualizado:O=>Fo(O,x.nome)},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):(x.editavel||u.novaLinha.celulas[x.nome].editavel)&&x.tipo==="opcoes"?(A(),ae(R,{key:1,tabindex:"0","model-value":u.novaLinha.celulas[x.nome].valor,opcoes:x.opcoes,"incluir-opcao-vazia":!0,desabilitar:u.novaLinha.desabilitada,class:X(`${x.classes} ${u.novaLinha.celulas[x.nome].classes}`),style:re(Object.assign(x.estilos||{},u.novaLinha.celulas[x.nome].estilos)),onValorAtualizado:O=>Fo(O,x.nome)},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):(x.editavel||u.novaLinha.celulas[x.nome].editavel)&&x.tipo!=="opcoes"&&x.tipo!=="booleano"?(A(),ae(U,{key:2,nome:`${x.nome}-nova-linha`,tabindex:"0","model-value":u.novaLinha.celulas[x.nome].valorFormatado,placeholder:x.placeholder,tipo:x.tipo,desabilitar:u.novaLinha.desabilitada,editando:!0,class:X(`${x.classes} ${u.novaLinha.celulas[x.nome].classes}`),style:re(Object.assign(x.estilos||{},u.novaLinha.celulas[x.nome].estilos)),onValorAtualizado:O=>Fo(O,x.nome)},null,8,["nome","model-value","placeholder","tipo","desabilitar","class","style","onValorAtualizado"])):(A(),N("td",{key:3,class:X(`${x.classes} ${u.novaLinha.celulas[x.nome].classes}`),style:re(Object.assign(x.estilos||{},u.novaLinha.celulas[x.nome].estilos))},De(u.novaLinha.celulas[x.nome].valorFormatado||x.placeholder),7))],64))),128))])],64)):u.linhas.length?Xe("",!0):(A(),N("tr",ei,[T("th",{class:X(C(pe).Coluna.Fixa),style:re(C(vo)(u.configColunas))},"   ",6),T("td",{colspan:C(n).length}," Nenhum dado disponível. ",8,oi)]))],32)])],4)}}});const ti={[_e.NaoComputar]:{[f.Masculino]:0,[f.Feminino]:0},[_e.Comum]:{[f.Masculino]:1,[f.Feminino]:1},[_e.Especial25]:{[f.Masculino]:4,[f.Feminino]:3},[_e.Especial20]:{[f.Masculino]:5,[f.Feminino]:5},[_e.Especial15]:{[f.Masculino]:6,[f.Feminino]:6},[_e.DeficienciaGrave]:{[f.Masculino]:4,[f.Feminino]:5},[_e.DeficienciaModerada]:{[f.Masculino]:3,[f.Feminino]:4},[_e.DeficienciaLeve]:{[f.Masculino]:2,[f.Feminino]:2}};function ni(e,o){if(!fe(e.dataInicial))throw new Error(`Período ${o+1}: data inicial inválida.`);if(!fe(e.dataFinal))throw new Error(`Período ${o+1}: data final inválida.`);if(e.dataFinal.valueOf()<e.dataInicial.valueOf())throw new Error(`Período ${o+1}: data final anterior à data inicial.`);return e}function ia(e){return{...e,dataInicial:new Date(e.dataInicial.valueOf()),dataFinal:new Date(e.dataFinal.valueOf())}}function la(e,o){return ti[e.formaContagem][o]}function sa(e){return new Ne(e).adicionar(1,Oo.Dias).nativo()}function ri(e){return new Ne(e).adicionar(-1,Oo.Dias).nativo()}function Vo(e,o){const a=e.dataInicial.valueOf()<=o.dataInicial.valueOf(),t=a?e:o,n=a?o:e;return t.dataInicial.valueOf()<=n.dataFinal.valueOf()&&n.dataInicial.valueOf()<=t.dataFinal.valueOf()}function ca(e,o){return e.dataInicial.valueOf()>=o.dataInicial.valueOf()&&e.dataFinal.valueOf()<=o.dataFinal.valueOf()}function Ma(e,o){if(Array.isArray(o)&&o.length>1){const a=o[e];return o.some((t,n)=>n!==e?Vo(a,t):!1)}return!1}function ii(e,o){if(!Array.isArray(e)||!e.length)return[];if(e.length===1)return e[0].excluido?[]:e;if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const a=e.filter(n=>!n.excluido).map(ni),t=[];for(let n=0;n<a.length;n++){let r=ia(a[n]);if(console.log(">>> atual",r),t.length){const l=t[t.length-1];if(Vo(l,r)){if(ca(r,l)){console.log(">>> descartado desde logo, por concomitância com",l);continue}r.dataInicial=sa(l.dataFinal),console.log(">>> ajustado",r)}}const c=la(r,o);console.log(">>> peso",c);for(let l=n+1;l<a.length;l++){const s=a[l];if(Vo(r,s)&&(r.prioritario<s.prioritario||c<la(s,o))){if(console.log(">>> são concomitantes"),ca(r,s)){console.log(">>> continência"),r=null;break}if(r.dataInicial.valueOf()<s.dataInicial.valueOf()){console.log(">>> sobra anterior");const i=ia(r);i.dataFinal=ri(s.dataInicial),t.push(i)}if(r.dataFinal.valueOf()>s.dataFinal.valueOf())console.log(">>> sobra posterior"),r.dataInicial=sa(s.dataFinal);else{console.log(">>> descarta-se"),r=null;break}}}r!==null&&t.push(r)}return t.sort((n,r)=>n.dataInicial.valueOf()-r.dataInicial.valueOf())}const li=["id","dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],si=["ID","Início","Término","Descrição","Forma de Contagem","Prioritário","Contar Carência","Fonte","Concomitância"],ci=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],ui=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte"],{obterOpcoesFormaDeContagem:di}=Po(),mi=di();function fi(e){return e==="dataInicial"||e==="dataFinal"?"data":e==="prioritario"||e==="contarCarencia"?"booleano":e==="formaContagem"?"opcoes":"texto"}function pi(e,o,a){return o.nome==="concomitancia"?e===!0?"SIM":"":o.nome==="descricao"||o.nome==="fonte"||o.nome==="id"?e:o.nome==="dataInicial"||o.nome==="dataFinal"?a.data(e):o.nome==="formaContagem"||o.nome==="prioritario"||o.nome==="contarCarencia"?e:`${e}`}function vi(e,o,a){return o.excluido?pe.Celula.Desabilitada:o.formaContagem===_e.NaoComputar||e.nome==="contarCarencia"&&!o.contarCarencia?pe.Celula.Desconsiderada:e.nome==="formaContagem"&&o.formaContagem!==_e.Comum?pe.Celula.ValorIncluidoPeloUsuario:e.nome==="concomitancia"&&a===!0?"text-center bg-red-1 text-red-10":""}function gi(e){const o={};return e==="formaContagem"&&(o.width="200px"),e==="concomitancia"&&(o.textAlign="center"),o}function bi(){return li.map((e,o)=>{const a=e==="formaContagem"?mi:void 0;return{nome:e,rotulo:si[o],tipo:fi(e),editavel:ui.includes(e),calculada:e==="concomitancia",placeholder:"",opcoes:a}})}function hi(){return ci}function _i(e,o,a){return o.map((t,n)=>{const r=t.excluido,c=e.reduce((l,s)=>{const i=s.nome,h=s.nome==="concomitancia"?Ma(n,o):t[i],D=pi(h,s,a),_=r?pe.Celula.Desabilitada:vi(s,t,h),p=gi(s.nome);return l[s.nome]={valor:h,valorFormatado:D,classes:_,estilos:p},l},{});return{desabilitada:r,celulas:c}})}function ua(e){return{desabilitada:!1,celulas:e.reduce((a,t)=>{const r="",c="",l={};return a[t.nome]={valor:void 0,valorFormatado:r,classes:c,estilos:l},a},{})}}function da(e,o){return o==="dataInicial"||o==="dataFinal"?new Ne(e).nativo():o==="formaContagem"||o==="prioritario"||o==="contarCarencia"?e:`${e}`}function ma(){return{dataInicial:void 0,dataFinal:void 0,descricao:"",formaContagem:_e.Comum,contarCarencia:!0,fonte:"",excluido:!1,prioritario:!1}}const Ci={class:"q-pl-sm"},yi=te({__name:"TcPeriodos",setup(e){const o=S(),a=oo(),t=zo(),n=co(),r=bi(),c=hi(),l=Z(()=>_i(r,n.lista,t));let s=S(ua(r)),i=ma();function h(y,w,E){const V=n.obterPorId(y);if(!V)return;let q;try{q=da(E,w)}catch(G){a.erro(G)}if(q!==void 0){if(w==="dataInicial"&&q.valueOf()>V.dataFinal.valueOf()||w==="dataFinal"&&q.valueOf()<V.dataInicial.valueOf())return;n.atualizar(y,{...V,[w]:q})}}function D({linha:y,coluna:w,valor:E}){const V=y.celulas.id.valor;h(V,w,E)}function _({itens:y}){y.forEach(w=>{const{linha:E,valores:V}=w,q=E.celulas.id.valor;Object.entries(V).forEach(([G,j])=>{h(q,G,j)})})}function p({linha:y}){n.remover(y.celulas.id.valor)}function $({linha:y}){const w={dataInicial:y.celulas.dataInicial.valor,dataFinal:y.celulas.dataFinal.valor,descricao:y.celulas.descricao.valor,contarCarencia:y.celulas.contarCarencia.valor,excluido:y.celulas.excluido.valor,fonte:y.celulas.fonte.valor,formaContagem:y.celulas.formaContagem.valor,prioritario:y.celulas.prioritario.valor};n.adicionar(w)}function d({linhas:y}){y.forEach(w=>{n.remover(w.celulas.id.valor)})}async function b({valor:y,nomeColuna:w}){const E=w==="fonte";let V;try{mt(y)&&(V=da(y,w))}catch(q){a.erro(q)}if(V!==void 0?(s.value.celulas[w].valorFormatado=y,i[w]=V):(s.value.celulas[w].valorFormatado="",i[w]=void 0),await se(),E&&i.dataInicial&&i.dataFinal&&i.descricao){if(i.dataInicial.valueOf()>i.dataFinal.valueOf()){const q=i.dataInicial;i.dataInicial=i.dataFinal,i.dataFinal=q}s=S(ua(r)),n.adicionar({...i}),i=ma()}}function z(y){n.alterarStatusExcluido(y.celulas.id.valor,!0)}function v(y){n.alterarStatusExcluido(y.celulas.id.valor,!1)}return(y,w)=>{const E=so;return A(),ae(ai,{ref_key:"planilha",ref:o,"config-colunas":C(r),linhas:C(l),"colunas-visiveis":C(c),"congelar-colunas":0,"nome-arquivo-csv":"VinculosRVT",altura:"auto","tecla-del-remove-linha":!0,"nova-linha":C(s),onAtualizarCelula:D,onAtualizarSelecao:_,onRemoverSelecao:d,onAdicionar:b,onRemoverLinha:p,onNovaLinha:$},{"acoes-primeira-coluna":Y(({linha:V})=>[T("div",Ci,[V.desabilitada?(A(),ae(E,{key:0,round:"",flat:"",icon:"mdiRefresh"in y?y.mdiRefresh:C(fn),size:"sm",title:"Restabelecer vínculo",onClick:q=>v(V)},null,8,["icon","onClick"])):(A(),ae(E,{key:1,round:"",flat:"",icon:"mdiCloseThick"in y?y.mdiCloseThick:C(pn),size:"sm",color:"red-8",title:"Excluir vínculo",onClick:q=>z(V)},null,8,["icon","onClick"]))])]),_:1},8,["config-colunas","linhas","colunas-visiveis","nova-linha"])}}}),Na=e=>(Aa("data-v-17b9653d"),e=e(),Fa(),e),xi={class:"row justify-between items-center content-center q-mb-sm"},Di=Na(()=>T("span",{class:"text-subtitle1 text-bold text-grey-8",style:{"vertical-align":"middle"}},"Área de Transferência",-1)),$i=Na(()=>T("div",null,"Cole abaixo o conteúdo copiado (Ctrl-C)",-1)),Ai=te({__name:"CecalcImportador",props:{nome:{},rotulo:{},aceitos:{},plugins:{},carregando:{type:Boolean}},emits:["arquivoLido","textoLido","erroTipo","erroOutro"],setup(e,{emit:o}){const a=S(null),t=S(!1);function n(){var i,h;(i=a.value)==null||i.resetValidation(),(h=a.value)==null||h.pickFiles()}async function r(i){if(i=i.replace(/\r\n/g,`
`),typeof i=="string"&&i.length)try{return o("textoLido",i)}catch{o("erroOutro")}}async function c(){r(await window.navigator.clipboard.readText())}function l(i){const D=i.target.value;t.value=!1,r(D)}function s(i){if(i[0].failedPropValidation==="accept")return o("erroTipo");o("erroOutro")}return(i,h)=>{const D=$a,_=so,p=lo,$=kn,d=ft;return A(),ae(d,{class:"column full-width"},{default:Y(()=>[k(C(wn),{ref_key:"picker",ref:a,"model-value":null,class:"col",label:i.rotulo,accept:i.aceitos,square:"",outlined:"","no-error-icon":"","hide-bottom-space":!0,loading:i.carregando,disable:i.carregando,color:"grey-9","bg-color":"grey-1","label-color":"grey-9",title:"Clique para importar um arquivo",onRejected:s,"onUpdate:modelValue":h[2]||(h[2]=b=>o("arquivoLido",b))},{prepend:Y(()=>[k(D,{name:"mdiFolderOpen"in i?i.mdiFolderOpen:C(vn),color:"grey-7 cursor-pointer",title:"Clique para importar um arquivo",onClick:Ie(n,["stop","prevent"])},null,8,["name","onClick"])]),append:Y(()=>[T("div",null,[k(_,{icon:C(gn),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:i.carregando,title:"Abrir caixa de texto"},{default:Y(()=>[k($,{modelValue:C(t),"onUpdate:modelValue":h[1]||(h[1]=b=>Le(t)?t.value=b:null),class:"q-pa-md"},{default:Y(()=>[T("div",xi,[T("div",null,[k(D,{name:C(Jo),size:"22px",class:"q-mr-sm",color:"grey-8"},null,8,["name"]),Di]),k(_,{round:"",flat:"",dense:"",size:"sm",icon:C(Da),color:"grey-8",onClick:h[0]||(h[0]=b=>t.value=!1)},null,8,["icon"])]),k(p,{flat:""},{default:Y(()=>[$i,T("textarea",{class:"caixa-colagem",onInput:l},null,32)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"]),k(_,{icon:C(Jo),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:i.carregando,title:"Clique para colar da área de transferência",onClick:c},null,8,["icon","disable"])])]),_:1},8,["label","accept","loading","disable"])]),_:1})}}});const Fi=Ke(Ai,[["__scopeId","data-v-17b9653d"]]);function Ii(e){const o=new qn(e);return bn({script:[{src:pt,onload:()=>{window&&"pdfjsLib"in window&&o.leitorDeArquivo.carregarPdfjs(window.pdfjsLib,vt)}}]},{mode:"client"}),o}const wi={class:"row"},Ei={style:{width:"350px"},class:"col"},ki=te({__name:"TcImportar",props:{modelValue:Boolean},setup(e){const o=oo(),a=[gt,bt,ht,_t,Ct],t=Ii(a),{erro:n,confirmacao:r}=To(),c=co(),l=xo(),s=S(!1);function i(d){const{processo:b,citacao:z,ajuizamento:v,autor:y,reu:w}=d;Ia(b)&&l.$patch(E=>E.numeroProcesso=b),fe(z)&&l.$patch(E=>E.citacao=z),fe(v)&&l.$patch(E=>E.ajuizamento=v),we(y)&&l.$patch(E=>E.autor=y),we(w)&&l.$patch(E=>E.reu=w)}function h(d){d.vinculos.forEach(b=>{const{seq:z,dataInicial:v,dataFinal:y,entidade:w}=b;c.adicionar({dataInicial:v,dataFinal:y??v,descricao:w||"-- não foi possível identificar --",formaContagem:_e.Comum,contarCarencia:!0,fonte:`CNIS (seq. ${z})`,excluido:!1,prioritario:!1})})}function D(d){d.forEach(b=>{const{dataInicial:z,dataFinal:v,descricao:y}=b;c.adicionar({dataInicial:z,dataFinal:v??z,descricao:y,formaContagem:_e.Comum,contarCarencia:!0,fonte:"usuário",excluido:!1,prioritario:!1})})}async function _(d){s.value=!0;let b;try{b=await t.ler(d)}catch(z){return s.value=!1,o.erro(z),n("Erro",z.message)}if(s.value=!1,b&&b.identificado&&Array.isArray(b.quadroResumo)){const z=`Dados identificados: ${b.nome}`,v=b.quadroResumo.map(w=>`${w[0]} <b>${w[1]}</b>`).join("<br>");if(await r(z,v,"Importar")){if(b.nome==="Dados do PJe")return i(b.dadosEstruturados);if(b.nome==="CNIS Completo"||b.nome==="CNIS Vínculos"||b.nome==="Meu INSS")return h(b.dadosEstruturados);if(b.nome==="Tempo de Contribuição (Simples)")return D(b.dadosEstruturados);n("Erro de leitura",`
        Os dados foram reconhecidos, mas não o tipo de documento.
        <br>
        Favor reportar este erro à CECALC, enviando, se possível, uma amostra do documento utilizado.
      `)}}else n("Dados não reconhecidos",`
      Neste site, os dados aceitos são apenas os seguintes:<br>
      <ul>
        <li>capa do processo do PJe;</li>
        <li>CNIS (Meu INSS, PrevJud e vínculos);</li>
        <li>períodos de contribuição simples</li>
      </ul>
    `)}function p(){n("Erro de arquivo",'Somente são permitidos arquivos "pdf" e "txt".')}function $(){n("Falha de leitura","Arquivo/documento inválido.")}return(d,b)=>{const z=Fi;return A(),N("div",wi,[T("div",Ei,[k(z,{ref_key:"importador",ref:t,nome:"importar-dados-tc",class:"q-pa-xs",rotulo:"Importar Dados",aceitos:"application/pdf,text/plain",plugins:a,carregando:C(s),onArquivoLido:b[0]||(b[0]=v=>_(v)),onTextoLido:b[1]||(b[1]=v=>_(v)),onErroTipo:b[2]||(b[2]=v=>p()),"onErro:outro":b[3]||(b[3]=v=>$())},null,8,["carregando"])])])}}}),Vi=""+new URL("logo_jfsp_preto.e40a70d5.png",import.meta.url).href;const Si={},Pi={class:"cecalc-relatorio-logo-container"},Ti=T("div",{class:"cecalc-relatorio-logo-esquerda"},[T("img",{src:Vi,alt:"logo jfsp"}),T("div",{class:"cecalc-relatorio-titulo-logo-texto"},[T("span",null,"Central Unificada de Cálculos Judiciais - CECALC"),T("span",null,"Seção Judiciária de São Paulo")])],-1);function Oi(e,o){return A(),N("div",Pi,[Ti,T("div",null,[ho(e.$slots,"info")])])}const qa=Ke(Si,[["render",Oi]]),zi={class:"cecalc-relatorio-titulo-container"},Mi={class:"cecalc-relatorio-titulo-nome"},Ba=te({__name:"CecalcRelatorioTitulo",props:{titulo:{default:""}},setup(e){return(o,a)=>(A(),N("div",zi,[T("div",Mi,De(o.titulo),1)]))}});const Ni={class:"cecalc-relatorio-subtitulo"},qi=te({__name:"CecalcRelatorioSubtitulo",props:{subtitulo:{default:""}},setup(e){return(o,a)=>(A(),N("div",Ni,De(o.subtitulo),1))}});const Bi={class:"cecalc-relatorio-tabela"},La=te({__name:"CecalcRelatorioTabela",props:{titulo:{default:"Demonstrativo"},colunas:{default:()=>[]},linhas:{default:()=>[]}},setup(e){return(o,a)=>{const t=qi;return A(),N(me,null,[k(t,{subtitulo:o.titulo},null,8,["subtitulo"]),T("table",Bi,[T("thead",null,[T("tr",null,[(A(!0),N(me,null,Ae(o.colunas,n=>(A(),N("th",{key:`coluna-${n.nome}`,class:X(n.classes),style:re(n.estilos)},De(n.rotulo),7))),128))])]),T("tbody",null,[(A(!0),N(me,null,Ae(o.linhas,(n,r)=>(A(),N("tr",{key:`linha-${r}`},[(A(!0),N(me,null,Ae(o.colunas,c=>(A(),N("td",{key:`celula-${r}-${c.nome}`,class:X(n[c.nome].classes),style:re(n[c.nome].estilos)},De(n[c.nome].valor),7))),128))]))),128))])])],64)}}});const Li={class:"cecalc-demonstrativo-pagina-botao-container"},Ra=te({__name:"CecalcRelatorioPagina",props:{paisagem:{type:Boolean}},setup(e){const o=e,a=ba(),t=S();function n(c){Array.from(document.styleSheets).forEach(l=>{if(l.cssRules){const s=document.createElement("style");Array.from(l.cssRules).forEach(i=>{s.append(document.createTextNode(i.cssText))}),c.head.append(s)}else if(l.href){const s=document.createElement("link");s.rel="stylesheet",s.href=l.href,c.head.append(s)}})}function r(){if(!t.value)return;const c=`
  <!DOCTYPE html>
  <html lang="pt-BR">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Demonstrativo ${a.nome}</title>
      <style>
        @page {
          size: a4 ${o.paisagem?"landscape":"portrait"};
        }
      </style>
    </head>
    <body>
      ${t.value.outerHTML}
    </body>
  </html>
  `,l=window.open(" ","_blank");l&&(l.document.write(c),n(l.document),setTimeout(()=>{l.print(),l.close()},50))}return(c,l)=>(A(),N("div",{class:X(["cecalc-demonstrativo-pagina-container",{paisagem:c.paisagem}])},[T("div",{ref_key:"areaImpressao",ref:t,class:"cecalc-demonstrativo-pagina"},[T("div",Li,[k(C(so),{"fab-mini":"",dense:"","no-caps":"",icon:"mdiPrinter"in c?c.mdiPrinter:C(hn),color:"white",class:"text-red-10",title:"Imprimir/Salvar em PDF",onClick:r},null,8,["icon"])]),ho(c.$slots,"default")],512)],2))}});function fa(e){e=Math.trunc(e);const o=Math.trunc(e/360),a=Math.trunc((e-o*360)/30),t=e-360*o-30*a;return[o,a,t]}function Ri(e,o){const a=o[e];if(!a.contarCarencia)return[!1,!1];const t=e>0&&o.slice(0,e-1).some(r=>r.contarCarencia&&Go(a.dataInicial,r.dataFinal)),n=e<o.length-1&&o.slice(e+1).some(r=>r.contarCarencia&&Go(a.dataFinal,r.dataInicial));return[t,n]}function ji(e,o,a,t){const n=Dt(e,o,Oo.Meses),r=Number(a)+Number(t);return Math.max(0,n+1-r)}function Ui(e,o){if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const{obterFatorConversao:a}=Po();return e.map((t,n)=>{const r={...t,fatorConversao:1,sAnos:0,sMeses:0,sDias:0,cAnos:0,cMeses:0,cDias:0,carencia:0};if(!r.excluido&&r.formaContagem!==_e.NaoComputar){const l=yt(t.dataInicial,t.dataFinal,xt.Excel)+1,[s,i,h]=fa(l);r.sAnos=s,r.sMeses=i,r.sDias=h;const[D,_]=Ri(n,e);r.carencia=r.contarCarencia?ji(r.dataInicial,r.dataFinal,D,_):0,r.fatorConversao=a(r.formaContagem,o);const[p,$,d]=fa(l*r.fatorConversao);r.cAnos=p,r.cMeses=$,r.cDias=d}return r})}function Qi(){const e=xo(),{numeroProcesso:o,citacao:a,ajuizamento:t,autor:n,reu:r,sexo:c,nascimento:l,nb:s,especie:i,der:h,rural:D,deficiente:_,marcoCarencia:p,permitirConversaoAposEc103:$,carenciaNecessariaAposEc103:d,grauPreponderanteDeficiencia:b,inicioPrimeiraDeficiencia:z,requisitoB41Deficiencia:v,converterPeriodosB41Deficiente:y}=xa(e),w=co(),E=Z(()=>ii(w.lista,c.value)),V=Z(()=>Ui(E.value,c.value));return{periodosProcessados:E,periodosCalculados:V}}const wo={Tabela:{Celula:{Desabilitada:"cecalc-relatorio-tabela-celula-desabilitada",Desconsiderada:"cecalc-relatorio-tabela-celula-desconsiderada",ValorIncluidoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-modificado",Atencao:"cecalc-relatorio-tabela-celula-atencao",Verificada:"cecalc-relatorio-tabela-celula-verificada",ValorElevado:"cecalc-relatorio-tabela-celula-valor-elevado",ValorLimitado:"cecalc-relatorio-tabela-celula-valor-limitado"}}},Ki=["dataInicial","dataFinal","descricao","formaContagem","fonte","concomitancia"],Gi=["Início","Término","Descrição","Forma de Contagem","Fonte","Concomitância"],qo=["dataInicial","dataFinal"],Bo=["sAnos","sMeses","sDias"],Lo=["cAnos","cMeses","cDias"],pa=["Anos","Meses","Dias"],Yi=["dataInicial","dataFinal","descricao","formaContagem",...Bo,"fatorConversao",...Lo,"carencia","fonte"],Hi=["Início","Término","Descrição","Forma de Contagem",...pa,"Fator Conv.",...pa,"Carência","Fonte"];function ja(e){return qo.includes(e)||e==="concomitancia"?{width:"70px"}:e==="descricao"||e==="fonte"?{width:"100%"}:e==="formaContagem"?{width:"100px"}:e==="fatorConversao"||Bo.includes(e)||Lo.includes(e)?{width:"50px"}:{}}function Ua(e){return qo.includes(e)||e==="fonte"||e==="concomitancia"?{width:"70px",textAlign:"center"}:e==="descricao"||e==="fonte"?{width:"100%",textAlign:"left"}:e==="formaContagem"?{width:"100px",textAlign:"center"}:e==="fatorConversao"?{width:"50px",textAlign:"center"}:e==="carencia"||Bo.includes(e)||Lo.includes(e)?{width:"50px",textAlign:"right"}:{}}function Qa(e,o,a=!1){return e.nome==="concomitancia"&&a?wo.Tabela.Celula.Atencao:o.formaContagem===_e.NaoComputar||o.excluido?wo.Tabela.Celula.Desabilitada:o.formaContagem!==_e.Comum?wo.Tabela.Celula.ValorIncluidoPeloUsuario:""}function Ka(e,o,a,t){return qo.includes(o.nome)?t.data(e):o.nome==="formaContagem"?t.formaContagem(e):o.nome==="fatorConversao"?t.numero(e,2):`${e}`}function Ji(){return Ki.map((e,o)=>({nome:e,rotulo:Gi[o],classes:"",estilos:ja(e)}))}function Wi(e,o,a){return o.map((t,n)=>{const r=Ma(n,o);return e.reduce((c,l)=>{const s=l.nome,i=l.nome==="concomitancia"?r?"Sim":"":Ka(t[s],l,t,a),h=Qa(l,t,r),D=Ua(l.nome);return c[l.nome]={valor:i,classes:h,estilos:D},c},{})})}function Xi(){return Yi.map((e,o)=>({nome:e,rotulo:Hi[o],classes:"",estilos:ja(e)}))}function Zi(e,o,a){return o.map(t=>e.reduce((n,r)=>{const c=r.nome,l=Ka(t[c],r,t,a),s=Qa(r,t),i=Ua(r.nome);return n[r.nome]={valor:l,classes:s,estilos:i},n},{}))}const el=te({__name:"TcDemonstrativo",setup(e){const o=Qi(),a=zo(),t=S(""),n=Xi(),r=Z(()=>{try{return t.value="",Zi(n,o.periodosCalculados.value,a)}catch(c){return t.value=c.message,[]}});return(c,l)=>{const s=qa,i=Ba,h=La,D=Ra;return A(),N("div",null,[k(D,{paisagem:!0},{default:Y(()=>[k(s),k(i,{titulo:"Cálculo de Tempo de Contribuição"}),k(h,{titulo:"Períodos Calculados",colunas:C(n),linhas:C(r)},null,8,["colunas","linhas"])]),_:1})])}}}),ol=te({__name:"TcEspelho",setup(e){const o=co(),a=zo(),t=Ji(),n=Z(()=>Wi(t,o.lista,a));return(r,c)=>{const l=qa,s=Ba,i=La,h=Ra;return A(),N("div",null,[k(h,{paisagem:!1},{default:Y(()=>[k(l),k(s,{titulo:"Tempo de Contribuição Informado (Espelho)"}),k(i,{titulo:"Períodos Informados",colunas:C(t),linhas:C(n)},null,8,["colunas","linhas"])]),_:1})])}}}),al={class:"row items-center q-pa-md"},tl={class:"row items-center col-xl-10 col-lg-10 col-md-9 col-sm-9 col-xs-12"},nl={class:"row col-xl-2 col-lg-2 col-md-3 col-sm-3 col-xs-12"},rl={class:"q-px-sm"},il=te({__name:"TcPrincipal",setup(e){const o=S(),a=S(),t=S(),n=S(),r=S(!1),c=Z(()=>r.value?"auto":"calc(100vh - 350px)"),l=S("parametros-basicos"),s=_n();function i(){o.value&&o.value.$el&&(r.value=!r.value,s.fullscreen.toggle(o.value.$el))}async function h(D){await se(),D==="informado"?t.value&&t.value.$el&&t.value.$el.focus():n.value&&n.value.$el&&n.value.$el.focus()}return(D,_)=>{const p=va,$=lr,d=so,b=$t,z=At,v=ga,y=cr,w=ur,E=Ft,V=yi,q=It;return A(),ae(C(lo),{ref_key:"container",ref:o,flat:"",bordered:"",square:"",class:"scroll overflow-auto"},{default:Y(()=>[T("div",al,[T("div",tl,[k(ki,{ref_key:"importador",ref:a},null,512)]),T("div",nl,[k(p),T("div",null,[k($),k(d,{color:"grey-4","text-color":"grey-8",round:"",flat:"",icon:C(r)?C(Cn):C(yn),title:C(r)?"Clique para retornar ao tamanho normal":"Clique para expandir a planilha",onClick:i},null,8,["icon","title"])])])]),T("div",rl,[k(v,null,{default:Y(()=>[k(z,{modelValue:C(l),"onUpdate:modelValue":_[2]||(_[2]=G=>Le(l)?l.value=G:null),dense:"","no-caps":"",align:"left","indicator-color":"blue-10","active-color":"blue-10","active-bg-color":"blue-1",class:"q-mx-md","left-icon":C(xn),"right-icon":C(Dn)},{default:Y(()=>[k(b,{name:"parametros-basicos",label:"Parâmetros Básicos",ripple:!1}),k(b,{name:"periodos",label:"Períodos",ripple:!1}),k(b,{name:"demonstrativo-tc-informado",label:"Espelho",ripple:!1,onClick:_[0]||(_[0]=G=>h("informado"))}),k(b,{name:"demonstrativo-tc-processado",label:"Demonstrativo",ripple:!1,onClick:_[1]||(_[1]=G=>h("processado"))})]),_:1},8,["modelValue","left-icon","right-icon"])]),_:1}),k(q,{modelValue:C(l),"onUpdate:modelValue":_[3]||(_[3]=G=>Le(l)?l.value=G:null),"keep-alive":""},{default:Y(()=>[k(E,{name:"parametros-basicos",style:re({height:C(c)})},{default:Y(()=>[k(w,null,{default:Y(()=>[k(y)]),_:1})]),_:1},8,["style"]),k(E,{name:"periodos",style:re({height:C(c)})},{default:Y(()=>[k(w,null,{default:Y(()=>[k(V)]),_:1})]),_:1},8,["style"]),k(E,{name:"demonstrativo-tc-informado",style:re({height:C(c)})},{default:Y(()=>[k(w,null,{default:Y(()=>[k(ol,{ref_key:"espelho",ref:t,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"]),k(E,{name:"demonstrativo-tc-processado",style:re({height:C(c)})},{default:Y(()=>[k(w,null,{default:Y(()=>[k(el,{ref_key:"demonstrativo",ref:n,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])])]),_:1},512)}}});function ll(){const e=ba(),o=Pa(),a=co(),t=xo();function n(){return a.temDadosCarregados()||t.temDadosCarregados()}function r(){a.reiniciar(),t.reiniciar(),t.numeroProcesso=""}function c(){const s={calculo:e.nome,versao:e.versao,timestamp:new Date().toISOString(),dados:{periodos:a.registros,parametros:{numeroProcesso:t.numeroProcesso,citacao:t.citacao,ajuizamento:t.ajuizamento,autor:t.autor,reu:t.reu,sexo:t.sexo,nascimento:t.nascimento,nb:t.nb,especie:t.especie,der:t.der,rural:t.rural,deficiente:t.deficiente,marcoCarencia:t.marcoCarencia,permitirConversaoAposEc103:t.permitirConversaoAposEc103,carenciaNecessariaAposEc103:t.carenciaNecessariaAposEc103,grauPreponderanteDeficiencia:t.grauPreponderanteDeficiencia,inicioPrimeiraDeficiencia:t.inicioPrimeiraDeficiencia,requisitoB41Deficiencia:t.requisitoB41Deficiencia,converterPeriodosB41Deficiencia:t.converterPeriodosB41Deficiente}}},i=JSON.stringify(s),h=(t.numeroProcesso||t.autor||"n_id").replace(/[\s.-]/g,"_");o.salvar(i,`TC_${h}.cecalc`)}async function l(s){const i=await o.abrir(s,n());if(i&&i.dados&&(r(),i.dados.periodos&&a.atualizarTodos(i.dados.periodos),i.dados.parametros)){const{numeroProcesso:h,citacao:D,ajuizamento:_,autor:p,reu:$,sexo:d,nascimento:b,nb:z,especie:v,der:y,rural:w,deficiente:E,marcoCarencia:V,permitirConversaoAposEc103:q,carenciaNecessariaAposEc103:G,grauPreponderanteDeficiencia:j,inicioPrimeiraDeficiencia:H,requisitoB41Deficiencia:ce,converterPeriodosB41Deficiente:Ce}=i.dados.parametros;t.numeroProcesso=h||"",t.citacao=D||null,t.ajuizamento=_||null,t.autor=p||"",t.reu=$||"",t.sexo=d||f.Feminino,t.nascimento=b||null,t.nb=z||"",t.especie=v||go.AposentadoriaPorTempoDeContribuicao,t.der=y||null,t.rural=w||!1,t.deficiente=E||!1,t.marcoCarencia=V||Ze.ImplementoIdade,t.permitirConversaoAposEc103=q??!1,t.carenciaNecessariaAposEc103=G??!1,t.grauPreponderanteDeficiencia=j??We.DeficienciaLeve,t.inicioPrimeiraDeficiencia=H||null,t.requisitoB41Deficiencia=ce||Eo.Art70CRegulamento,t.converterPeriodosB41Deficiente=Ce??!0}}return{temDadosCarregados:n,limparDados:r,salvar:c,abrir:l}}const dl=te({__name:"index",setup(e){const o=ll();function a(){return o.temDadosCarregados()}function t(){o.limparDados()}function n(){o.salvar()}function r(c){o.abrir(c)}return(c,l)=>{const s=il,i=wt;return A(),ae(i,{"cb-tem-dados-carregados":a,"cb-novo-calculo":t,"cb-salvar-calculo":n,"cb-recuperar-calculo":r},{calculo:Y(()=>[k(s)]),_:1})}}});export{dl as default};
