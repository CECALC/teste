var ot=Object.defineProperty;var at=(e,o,a)=>o in e?ot(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var So=(e,o,a)=>(at(e,typeof o!="symbol"?o+"":o,a),a);import{a as tt,b as oa,c as Eo,h as nt,d as it,u as rt,e as lt,f as $a,t as st,g as Ve,i as Te,L as ct,A as ut,j as dt,k as ve,C as Ne,v as mt,E as ho,S as p,G as Ze,F as Vo,l as ft,m as No,o as pt,n as vt,p as Lo,q as gt,r as ye,D as Bo,s as ht,w as Ro,x as bt,y as _t,z as Ct,P as yt,M as xt,B as $t,H as Dt,T as At,I as Da,J as It,K as Ft,N as wt,O as St,Q as Et,R as kt,U as Tt,V as Vt,W as Ot,X as Pt,_ as qt}from"./CecalcPrincipal.vue.6c91f450.js";import{A as ao,B as Aa,C as to,D as Ia,c as Q,e as ae,E as jo,b as Uo,T as Mt,F as zt,G as Fa,H as Nt,I as Lt,r as V,J as aa,K as Bt,L as qe,M as Oo,N as Re,O as Rt,P as bo,Q as co,R as jt,S as Ut,U as Qt,V as Kt,W as Ht,X as Gt,Y as Yt,Z as Jt,$ as ta,a0 as wa,a1 as Wt,a2 as Xt,a3 as Zt,a4 as en,a5 as on,a6 as an,o as no,a7 as tn,a8 as de,a9 as nn,aa as rn,d as le,k as I,z as re,ab as C,ac as Ke,ad as ie,ae as ee,l as L,af as me,ag as Fe,ah as ln,q as M,ai as sn,aj as cn,s as X,m as S,t as xe,ak as eo,al as un,am as Co,an as Sa,ao as Ea,ap as dn,aq as mn,_ as He,ar as fn,as as pn,at as ke,au as vn,av as na,aw as gn,ax as hn,ay as bn,az as _n,aA as Cn,x as ka,y as Ta,aB as Ge,aC as ze,aD as yn,aE as _o,aF as xn,aG as $n,aH as yo,aI as Dn,aJ as An,aK as ia,aL as In,j as Fn,aM as wn,aN as Sn,aO as En,aP as kn,aQ as Tn,aR as Vn}from"./entry.212f80d3.js";const On=ao({name:"QBar",props:{...Aa,dense:Boolean},setup(e,{slots:o}){const{proxy:{$q:a}}=to(),t=Ia(e,a),n=Q(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${t.value===!0?"dark":"light"}`);return()=>ae("div",{class:n.value,role:"toolbar"},jo(o.default))}}),Pn=ao({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:a}){let t=!1,n,i,l=null,c=null,s,r;function g(){n&&n(),n=null,t=!1,l!==null&&(clearTimeout(l),l=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",s),s=null}function x(u,v,k){v!==void 0&&(u.style.height=`${v}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,n=k}function _(u,v){u.style.overflowY=null,u.style.height=null,u.style.transition=null,g(),v!==r&&a(v)}function h(u,v){let k=0;i=u,t===!0?(g(),k=u.offsetHeight===u.scrollHeight?0:void 0):(r="hide",u.style.overflowY="hidden"),x(u,k,v),l=setTimeout(()=>{l=null,u.style.height=`${u.scrollHeight}px`,s=m=>{c=null,(Object(m)!==m||m.target===u)&&_(u,"show")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}function D(u,v){let k;i=u,t===!0?g():(r="show",u.style.overflowY="hidden",k=u.scrollHeight),x(u,k,v),l=setTimeout(()=>{l=null,u.style.height=0,s=m=>{c=null,(Object(m)!==m||m.target===u)&&_(u,"hide")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}return Uo(()=>{t===!0&&g()}),()=>ae(Mt,{css:!1,appear:e.appear,onEnter:h,onLeave:D},o.default)}}),Qe=zt({}),qn=Object.keys(Fa),Mn=ao({name:"QExpansionItem",props:{...Fa,...Nt,...Aa,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Lt,"click","afterShow","afterHide"],setup(e,{slots:o,emit:a}){const{proxy:{$q:t}}=to(),n=Ia(e,t),i=V(e.modelValue!==null?e.modelValue:e.defaultOpened),l=V(null),c=aa(),{show:s,hide:r,toggle:g}=Bt({showing:i});let x,_;const h=Q(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),D=Q(()=>e.contentInsetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),u=Q(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),v=Q(()=>{const A={};return qn.forEach(J=>{A[J]=e[J]}),A}),k=Q(()=>u.value===!0||e.expandIconToggle!==!0),m=Q(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||t.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),y=Q(()=>e.disable!==!0&&(u.value===!0||e.expandIconToggle===!0)),E=Q(()=>({expanded:i.value===!0,detailsId:e.targetUid,toggle:g,show:s,hide:r})),O=Q(()=>{const A=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:t.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c,"aria-label":A}});qe(()=>e.group,A=>{_!==void 0&&_(),A!==void 0&&se()});function T(A){u.value!==!0&&g(A),a("click",A)}function N(A){A.keyCode===13&&Y(A,!0)}function Y(A,J){J!==!0&&l.value!==null&&l.value.focus(),g(A),co(A)}function B(){a("afterShow")}function G(){a("afterHide")}function se(){x===void 0&&(x=aa()),i.value===!0&&(Qe[e.group]=x);const A=qe(i,ue=>{ue===!0?Qe[e.group]=x:Qe[e.group]===x&&delete Qe[e.group]}),J=qe(()=>Qe[e.group],(ue,Ie)=>{Ie===x&&ue!==void 0&&ue!==x&&r()});_=()=>{A(),J(),Qe[e.group]===x&&delete Qe[e.group],_=void 0}}function Ce(){const A={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},J=[ae(bo,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:m.value})];return y.value===!0&&(Object.assign(A,{tabindex:0,...O.value,onClick:Y,onKeyup:N}),J.unshift(ae("div",{ref:l,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ae(Eo,A,()=>J)}function $e(){let A;return o.header!==void 0?A=[].concat(o.header(E.value)):(A=[ae(Eo,()=>[ae(oa,{lines:e.labelLines},()=>e.label||""),e.caption?ae(oa,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&A[e.switchToggleSide===!0?"push":"unshift"](ae(Eo,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>ae(bo,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&A[e.switchToggleSide===!0?"unshift":"push"](Ce()),A}function he(){const A={ref:"item",style:e.headerStyle,class:e.headerClass,dark:n.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return k.value===!0&&(A.clickable=!0,A.onClick=T,Object.assign(A,u.value===!0?v.value:O.value)),ae(tt,A,$e)}function we(){return Re(ae("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:D.value,id:c},jo(o.default)),[[Rt,i.value]])}function Se(){const A=[he(),ae(Pn,{duration:e.duration,onShow:B,onHide:G},we)];return e.expandSeparator===!0&&A.push(ae(Oo,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:n.value}),ae(Oo,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:n.value})),A}return e.group!==void 0&&se(),Uo(()=>{_!==void 0&&_()}),()=>ae("div",{class:h.value},[ae("div",{class:"q-expansion-item__container relative-position"},Se())])}});function Xe(e,o,a,t){const n=[];return e.forEach(i=>{t(i)===!0?n.push(i):o.push({failedPropValidation:a,file:i})}),n}function vo(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),co(e)}const zn={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Nn=["rejected"];function Ln({editable:e,dnd:o,getFileInput:a,addFilesToQueue:t}){const{props:n,emit:i,proxy:l}=to(),c=V(null),s=Q(()=>n.accept!==void 0?n.accept.split(",").map(m=>(m=m.trim(),m==="*"?"*/":(m.endsWith("/*")&&(m=m.slice(0,m.length-1)),m.toUpperCase()))):null),r=Q(()=>parseInt(n.maxFiles,10)),g=Q(()=>parseInt(n.maxTotalSize,10));function x(m){if(e.value)if(m!==Object(m)&&(m={target:null}),m.target!==null&&m.target.matches('input[type="file"]')===!0)m.clientX===0&&m.clientY===0&&jt(m);else{const y=a();y&&y!==m.target&&y.click(m)}}function _(m){e.value&&m&&t(null,m)}function h(m,y,E,O){let T=Array.from(y||m.target.files);const N=[],Y=()=>{N.length!==0&&i("rejected",N)};if(n.accept!==void 0&&s.value.indexOf("*/")===-1&&(T=Xe(T,N,"accept",B=>s.value.some(G=>B.type.toUpperCase().startsWith(G)||B.name.toUpperCase().endsWith(G))),T.length===0))return Y();if(n.maxFileSize!==void 0){const B=parseInt(n.maxFileSize,10);if(T=Xe(T,N,"max-file-size",G=>G.size<=B),T.length===0)return Y()}if(n.multiple!==!0&&T.length!==0&&(T=[T[0]]),T.forEach(B=>{B.__key=B.webkitRelativePath+B.lastModified+B.name+B.size}),O===!0){const B=E.map(G=>G.__key);T=Xe(T,N,"duplicate",G=>B.includes(G.__key)===!1)}if(T.length===0)return Y();if(n.maxTotalSize!==void 0){let B=O===!0?E.reduce((G,se)=>G+se.size,0):0;if(T=Xe(T,N,"max-total-size",G=>(B+=G.size,B<=g.value)),T.length===0)return Y()}if(typeof n.filter=="function"){const B=n.filter(T);T=Xe(T,N,"filter",G=>B.includes(G))}if(n.maxFiles!==void 0){let B=O===!0?E.length:0;if(T=Xe(T,N,"max-files",()=>(B++,B<=r.value)),T.length===0)return Y()}if(Y(),T.length!==0)return T}function D(m){vo(m),o.value!==!0&&(o.value=!0)}function u(m){co(m),(m.relatedTarget!==null||Ut.is.safari!==!0?m.relatedTarget!==c.value:document.elementsFromPoint(m.clientX,m.clientY).includes(c.value)===!1)===!0&&(o.value=!1)}function v(m){vo(m);const y=m.dataTransfer.files;y.length!==0&&t(null,y),o.value=!1}function k(m){if(o.value===!0)return ae("div",{ref:c,class:`q-${m}__dnd absolute-full`,onDragenter:vo,onDragover:vo,onDragleave:u,onDrop:v})}return Object.assign(l,{pickFiles:x,addFiles:_}),{pickFiles:x,addFiles:_,onDragover:D,onDragleave:u,processFiles:h,getDndNode:k,maxFilesNumber:r,maxTotalSizeNumber:g}}const Bn=ao({name:"QFile",inheritAttrs:!1,props:{...Qt,...Kt,...zn,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ht,...Nn],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=to(),i=Gt(),l=V(null),c=V(!1),s=Yt(e),{pickFiles:r,onDragover:g,onDragleave:x,processFiles:_,getDndNode:h}=Ln({editable:i.editable,dnd:c,getFileInput:Ce,addFilesToQueue:$e}),D=Jt(e),u=Q(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),v=Q(()=>ta(u.value)),k=Q(()=>u.value.map(A=>A.name).join(", ")),m=Q(()=>nt(u.value.reduce((A,J)=>A+J.size,0))),y=Q(()=>({totalSize:m.value,filesNumber:u.value.length,maxFiles:e.maxFiles})),E=Q(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...t,id:i.targetUid.value,disabled:i.editable.value!==!0})),O=Q(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),T=Q(()=>e.multiple===!0&&e.append===!0);function N(A){const J=u.value.slice();J.splice(A,1),B(J)}function Y(A){const J=u.value.indexOf(A);J>-1&&N(J)}function B(A){a("update:modelValue",e.multiple===!0?A:A[0])}function G(A){A.keyCode===13&&Xt(A)}function se(A){(A.keyCode===13||A.keyCode===32)&&r(A)}function Ce(){return l.value}function $e(A,J){const ue=_(A,J,u.value,T.value),Ie=Ce();Ie!=null&&(Ie.value=""),ue!==void 0&&((e.multiple===!0?e.modelValue&&ue.every(Le=>u.value.includes(Le)):e.modelValue===ue[0])||B(T.value===!0?u.value.concat(ue):ue))}function he(){return[ae("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function we(){if(o.file!==void 0)return u.value.length===0?he():u.value.map((J,ue)=>o.file({index:ue,file:J,ref:this}));if(o.selected!==void 0)return u.value.length===0?he():o.selected({files:u.value,ref:this});if(e.useChips===!0)return u.value.length===0?he():u.value.map((J,ue)=>ae(it,{key:"file-"+ue,removable:i.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{N(ue)}},()=>ae("span",{class:"ellipsis",textContent:J.name})));const A=e.displayValue!==void 0?e.displayValue:k.value;return A.length!==0?[ae("div",{class:e.inputClass,style:e.inputStyle,textContent:A})]:he()}function Se(){const A={ref:l,...E.value,...D.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:$e};return e.multiple===!0&&(A.multiple=!0),ae("input",A)}return Object.assign(i,{fieldClass:O,emitValue:B,hasValue:v,inputRef:l,innerValue:u,floatingLabel:Q(()=>v.value===!0||ta(e.displayValue)),computedCounter:Q(()=>{if(e.counterLabel!==void 0)return e.counterLabel(y.value);const A=e.maxFiles;return`${u.value.length}${A!==void 0?" / "+A:""} (${m.value})`}),getControlChild:()=>h("file"),getControl:()=>{const A={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return i.editable.value===!0&&Object.assign(A,{onDragover:g,onDragleave:x,onKeydown:G,onKeyup:se}),ae("div",A,[Se()].concat(we()))}}),Object.assign(n,{removeAtIndex:N,removeFile:Y,getNativeElement:()=>l.value}),wa(n,"nativeEl",()=>l.value),Wt(i)}}),Rn=ao({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const t=to(),n=V(null);let i=0;const l=[];function c(h){const D=typeof h=="boolean"?h:e.noErrorFocus!==!0,u=++i,v=(y,E)=>{a("validation"+(y===!0?"Success":"Error"),E)},k=y=>{const E=y.validate();return typeof E.then=="function"?E.then(O=>({valid:O,comp:y}),O=>({valid:!1,comp:y,err:O})):Promise.resolve({valid:E,comp:y})};return(e.greedy===!0?Promise.all(l.map(k)).then(y=>y.filter(E=>E.valid!==!0)):l.reduce((y,E)=>y.then(()=>k(E).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(y=>[y])).then(y=>{if(y===void 0||y.length===0)return u===i&&v(!0),!0;if(u===i){const{comp:E,err:O}=y[0];if(O!==void 0&&console.error(O),v(!1,E),D===!0){const T=y.find(({comp:N})=>typeof N.focus=="function"&&tn(N.$)===!1);T!==void 0&&T.comp.focus()}}return!1})}function s(){i++,l.forEach(h=>{typeof h.resetValidation=="function"&&h.resetValidation()})}function r(h){h!==void 0&&co(h);const D=i+1;c().then(u=>{D===i&&u===!0&&(e.onSubmit!==void 0?a("submit",h):h!==void 0&&h.target!==void 0&&typeof h.target.submit=="function"&&h.target.submit())})}function g(h){h!==void 0&&co(h),a("reset"),de(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&x()})}function x(){nn(()=>{if(n.value===null)return;const h=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),D=>D.tabIndex>-1);h!=null&&h.focus({preventScroll:!0})})}Zt(en,{bindComponent(h){l.push(h)},unbindComponent(h){const D=l.indexOf(h);D>-1&&l.splice(D,1)}});let _=!1;return on(()=>{_=!0}),an(()=>{_===!0&&e.autofocus===!0&&x()}),no(()=>{e.autofocus===!0&&x()}),Object.assign(t.proxy,{validate:c,resetValidation:s,submit:r,reset:g,focus:x,getValidationComponents:()=>l}),()=>ae("form",{class:"q-form",ref:n,onSubmit:r,onReset:g},jo(o.default))}}),jn=ao({name:"QPopupProxy",props:{...rt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=to(),{$q:i}=n,l=V(!1),c=V(null),s=Q(()=>parseInt(e.breakpoint,10)),{canShow:r}=lt({showing:l});function g(){return i.screen.width<s.value||i.screen.height<s.value?"dialog":"menu"}const x=V(g()),_=Q(()=>x.value==="menu"?{maxHeight:"99vh"}:{});qe(()=>g(),u=>{l.value!==!0&&(x.value=u)});function h(u){l.value=!0,a("show",u)}function D(u){l.value=!1,x.value=g(),a("hide",u)}return Object.assign(n,{show(u){r(u)===!0&&c.value.show(u)},hide(u){c.value.hide(u)},toggle(u){c.value.toggle(u)}}),wa(n,"currentComponent",()=>({type:x.value,ref:c.value})),()=>{const u={ref:c,..._.value,...t,onShow:h,onHide:D};let v;return x.value==="dialog"?v=rn:(v=$a,Object.assign(u,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),ae(v,u,o.default)}}});function ra(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Un(e,o,a={}){const{mimeType:t,byteOrderMark:n,encoding:i}=typeof a=="string"?{mimeType:a}:a,l=i!==void 0?new TextEncoder(i).encode([o]):o,c=n!==void 0?[n,l]:[l],s=new Blob(c,{type:t||"application/octet-stream"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.setAttribute("download",e),typeof r.download>"u"&&r.setAttribute("target","_blank"),r.classList.add("hidden"),r.style.position="fixed",document.body.appendChild(r);try{return r.click(),ra(r),!0}catch(g){return ra(r),g}}function la(e){return st(e)==="function"}function Va(e){const o=e.replace(/[.-]/g,"");if(o.length<20)return!1;const a=o.slice(0,7),t=o.slice(7,9),n=o.slice(9,13),i=o.slice(13,14),l=o.slice(14,16),c=o.slice(16,20),g=+`${+`${Number(a)%97}${n}${i}${l}`%97}${c}00`%97;return Number(t)===98-g}function Oa(e,o="cpf"){const a=Qn(e,o);if(Array.isArray(a)){const t=Kn(a.length);if(Array.isArray(t)){const n=a.slice(0,-2),[i,l]=a.slice(-2);return sa(n,t.slice(1))===i&&sa(n.concat(i),t)===l}return!1}return!1}function Qn(e,o){if(Ve(e)&&(e=e.toString()),!Te(e))return!1;e=e.replace(/[^\d]+/g,"");const a=o==="cnpj"?14:11;return e.length!==a||[...Array(a-1).keys()].map(n=>String(n).repeat(a)).includes(e)?!1:e.split("").map(Number)}function Kn(e){const o={cpf:[11,10,9,8,7,6,5,4,3,2],cnpj:[6,5,4,3,2,9,8,7,6,5,4,3,2]};return e===11?o.cpf:e===14?o.cnpj:!1}function sa(e,o){return e.map((n,i)=>n*o[i]).reduce((n,i)=>n+=i,0)*10%11%10}function Hn(e){return Oa(e,"cnpj")}function Gn(e){return Oa(e,"cpf")}function Yn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}const Jn=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;function Qo(e,o){return typeof o=="string"&&Jn.test(o)?new Date(o):o}function Wn(e,o=0){const a=e.toString(),[t,n]=a.split(".");if(!Number(n)||n.length===o||o<0)return e;if(o===0&&Number(t)===0)return 0;if(o===0)return Number(t);const i=(n+Array(o).join("0")).slice(0,o);return+`${t}.${i}`}function ca(e){if(!Te(e))throw new Error("A função aceita somente strings!");return e.replace(/[áàãâä]/g,"a").replace(/[ÁÀÃÂÄ]/g,"A").replace(/[éèêë]/g,"e").replace(/[ÉÈÊË]/g,"E").replace(/[íìîï]/g,"i").replace(/[ÍÌÎÏ]/g,"I").replace(/[óòôõö]/g,"o").replace(/[ÓÒÔÖÕ]/g,"O").replace(/[úùüû]/g,"u").replace(/[ÚÙÜÛ]/g,"U").replace(/[ýÿ]/g,"y").replace(/[Ý]/g,"Y").replace(/[ñ]/g,"n").replace(/[Ñ]/g,"N").replace(/[ç]/g,"c").replace(/[Ç]/g,"C")}class Xn{constructor(o){So(this,"_analisador");So(this,"_leitorDeArquivo");this._leitorDeArquivo=new ct,this._analisador=new ut(o)}get leitorDeArquivo(){return this._leitorDeArquivo}async ler(o){this._analisador.reiniciar();let a;if(o instanceof File){if(!this.leitorDeArquivo.ativo)throw new Error("O leitor de arquivos não está carregado.");const t=await this.leitorDeArquivo.ler(o);if(!t)throw new Error("Falha ao ler o arquivo.");a=t.texto}else a=o||"";return this._analisador.analisar(a),{identificado:this._analisador.identificado,nome:this._analisador.nome,quadroResumo:this._analisador.quadroResumo,dadosEstruturados:this._analisador.dadosEstruturados,texto:a}}}var oo=(e=>(e[e.ImplementoIdade=0]="ImplementoIdade",e[e.DerDda=1]="DerDda",e))(oo||{});const Zn=le({__name:"CecalcSelecao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=V(a.modelValue),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo;return qe(()=>a.modelValue,i=>{t.value=i}),(i,l)=>{const c=dt;return I(),re(c,{modelValue:C(t),"onUpdate:modelValue":[l[0]||(l[0]=s=>Ke(t)?t.value=s:null),l[1]||(l[1]=s=>o("update:model-value",s))],options:i.parametros.opcoes,name:i.parametros.nome,for:i.parametros.nome,label:C(n),readonly:i.parametros.somenteLeitura===!0,disable:i.parametros.desabilitado===!0,style:ie(i.parametros.estilos),class:ee(i.parametros.classes),"label-color":i.parametros.obrigatorio===!0?"orange-10":"","bg-color":i.parametros.obrigatorio===!0?"orange-1":"",color:i.parametros.obrigatorio===!0?"orange-10":"",outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":"","option-label":"rotulo","option-value":"valor","emit-value":"","map-options":"","item-aligned":""},null,8,["modelValue","options","name","for","label","readonly","disable","style","class","label-color","bg-color","color"])}}}),ei={class:"q-gutter-sm"},oi=le({__name:"CecalcRadio",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=V(a.modelValue);return qe(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const l=ln;return I(),L("div",ei,[(I(!0),L(me,null,Fe(n.parametros.opcoes,c=>(I(),re(l,{key:`${c.value}`,modelValue:C(t),"onUpdate:modelValue":[i[0]||(i[0]=s=>Ke(t)?t.value=s:null),i[1]||(i[1]=s=>o("update:model-value",s))],name:n.parametros.nome,for:n.parametros.nome,val:c.value,label:c.label,disable:n.parametros.desabilitado===!0,style:ie(n.parametros.estilos),class:ee(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","val","label","disable","style","class"]))),128))])}}}),ai={class:"q-gutter-sm"},ti=le({__name:"CecalcOpcao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=V(a.modelValue);return qe(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const l=sn;return I(),L("div",ai,[M(l,{modelValue:C(t),"onUpdate:modelValue":[i[0]||(i[0]=c=>Ke(t)?t.value=c:null),i[1]||(i[1]=c=>o("update:model-value",c))],name:n.parametros.nome,for:n.parametros.nome,label:n.parametros.rotulo,disable:n.parametros.desabilitado===!0,style:ie(n.parametros.estilos),class:ee(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","label","disable","style","class"])])}}});var ne=(e=>(e[e.Entrada=0]="Entrada",e[e.Selecao=1]="Selecao",e[e.Radio=2]="Radio",e[e.Opcao=3]="Opcao",e))(ne||{}),ce=(e=>(e[e.Data=0]="Data",e[e.Competencia=1]="Competencia",e[e.Texto=2]="Texto",e[e.Numero=3]="Numero",e[e.Percentual=4]="Percentual",e[e.Moeda=5]="Moeda",e[e.NumeroProcesso=6]="NumeroProcesso",e[e.Cpf=7]="Cpf",e))(ce||{});function xo(e,o){return Ve(e)&&Ve(o)?e>=o:!1}function $o(e,o){return Ve(e)&&Ve(o)?e<=o:!1}function Ko(e,o,a){return xo(e,o)&&$o(e,a)}function ni(e,o){return Te(e)&&Ve(o)?xo(e.length,o):!1}function ii(e,o){return Te(e)&&Ve(o)?$o(e.length,o):!1}function ri(e,o,a){return Te(e)&&Ve(o)&&Ve(a)?Ko(e.length,o,a):!1}function li(e,o){return ve(e)&&ve(o)?xo(e.valueOf(),o.valueOf()):!1}function si(e,o){return ve(e)&&ve(o)?$o(e.valueOf(),o.valueOf()):!1}function ci(e,o,a){return ve(e)&&ve(o)&&ve(a)?Ko(e.valueOf(),o.valueOf(),a.valueOf()):!1}function ui(e){return new Ne(e).dataValida()}const Ae=e=>e===""||e===void 0||e===null,ua={obrigatorio(e){return o=>!!o||e||"Campo obrigatório"},regex(e,o){return a=>Ae(a)||e.test(a)||o||"Formato inválido"},dataValida(e){return o=>Ae(o)||ui(o)||e||"Data inválida"},numeroEntre(e,o,a){return t=>Ae(t)||Ko(t,e,o)||a||`Deve estar entre ${e} e ${o}`},numeroMaiorOuIgual(e,o){return a=>Ae(a)||xo(a,e)||o||`Deve ser maior ou igual a ${e}`},numeroMenorOuIgual(e,o){return a=>Ae(a)||$o(a,e)||o||`Deve ser menor ou igual a ${e}`},tamanhoEntre(e,o,a){return t=>Ae(t)||ri(t,e,o)||a||`Deve estar entre ${e} e ${o}`},tamanhoMaiorOuIgual(e,o){return a=>Ae(a)||ni(a,e)||o||`Deve ser maior ou igual a ${e}`},tamanhoMenorOuIgual(e,o){return a=>Ae(a)||ii(a,e)||o||`Deve ser menor ou igual a ${e}`},dataEntre(e,o,a){return t=>Ae(t)||ci(t,e,o)||a||`Deve estar entre ${e.toLocaleDateString()} e ${o.toLocaleDateString()}`},dataMaiorOuIgual(e,o){return a=>Ae(a)||li(a,e)||o||`Deve ser maior ou igual a ${e.toLocaleDateString()}`},dataMenorOuIgual(e,o){return a=>Ae(a)||si(a,e)||o||`Deve ser menor ou igual a ${e.toLocaleDateString()}`},processo(e){return o=>Ae(o)||Va(o)||e||"Número do processo inválido"},cpf(e){return o=>Ae(o)||Gn(o)||e||"CPF inválido"},cnpj(e){return o=>Ae(o)||Hn(o)||e||"CNPJ inválido"}};function di(e){return e.filter(o=>o.nome in ua).map(o=>ua[o.nome](...o.args))}function mi(e,o){const a=[];return o&&a.push({nome:"obrigatorio",args:["Campo obrigatório"]}),e===ce.Data&&a.push({nome:"regex",args:[/\d{2}\/\d{2}\/\d{4}/,"Formato: dd/mm/aaaa"]}),e===ce.Competencia&&a.push({nome:"regex",args:[/\d{2}\/\d{4}/,"Formato: mm/aaaa"]}),e===ce.NumeroProcesso&&a.push({nome:"processo",args:[]}),e===ce.Cpf&&a.push({nome:"cpf",args:[]}),a}function da(e){const o=new Ne(e);return o.dataValida()?o.nativo():null}function Pa(e){const o=Number(e);return mt(o)?o:null}function fi(e){const o=Pa(e);return o===null?null:Number(Wn(o/100,2))}function ma(e,o){return o===ce.Data?da(e):o===ce.Competencia?da(`01/${e}`):o===ce.Numero||o===ce.Moeda?Pa(e):o===ce.Percentual?fi(e):e}function fa(e){return e==null?"":ve(e)?e.toLocaleDateString():`${e}`}function pi(e){return e===ce.Data?"##/##/####":e===ce.Competencia?"##/####":e===ce.NumeroProcesso?"#######-##.####.#.##.####":e===ce.Cpf?"###.###.###-##":""}const vi=le({__name:"CecalcEntrada",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=V(),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo,i=a.parametros.mascara?a.parametros.mascara:pi(a.parametros.tipoEntrada),l=Q(()=>{const _=mi(a.parametros.tipoEntrada,a.parametros.obrigatorio===!0);return di(Array.prototype.concat(_,a.parametros.regras||[]))}),c=V(fa(a.modelValue));qe(()=>a.modelValue,_=>c.value=fa(_));function s(){return t.value?t.value.validate():!1}async function r(_){if(c.value=_,await de(),s()||!c.value)return o("update:model-value",ma(c.value,a.parametros.tipoEntrada))}async function g(_){await r(_)}function x(){if(s())return o("update:model-value",ma(c.value,a.parametros.tipoEntrada))}return(_,h)=>(I(),re(C(cn),{ref_key:"input",ref:t,"model-value":C(c),type:"text",name:_.parametros.nome,for:_.parametros.nome,label:C(n),"label-color":_.parametros.obrigatorio===!0?"orange-10":"","bg-color":_.parametros.obrigatorio===!0?"orange-1":"",color:_.parametros.obrigatorio===!0?"orange-10":"",prefix:_.parametros.prefixo,suffix:_.parametros.sufixo,readonly:_.parametros.obrigatorio!==!0&&_.parametros.somenteLeitura===!0,mask:C(i),hint:_.parametros.dica,rules:C(l),"lazy-rules":"ondemand",disabled:_.parametros.desabilitado,style:ie(_.parametros.estilos),class:ee(_.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","item-aligned":"","onUpdate:modelValue":h[0]||(h[0]=D=>g(D||"")),onBlur:x},null,8,["model-value","name","for","label","label-color","bg-color","color","prefix","suffix","readonly","mask","hint","rules","disabled","style","class"]))}}),gi={class:"column q-gutter-md"},hi={class:"text-bold"},bi=le({__name:"CecalcFormularioDinamico",props:{esquema:{}},setup(e){const o=V();function a(){o.value&&o.value.resetValidation()}return(t,n)=>{const i=On,l=Zn,c=oi,s=ti,r=vi,g=un,x=Co;return I(),re(C(Rn),{ref_key:"formulario",ref:o,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:n[0]||(n[0]=()=>{})},{default:X(()=>[S("div",gi,[(I(!0),L(me,null,Fe(t.esquema.secoes,_=>(I(),re(x,{key:`secao-${_.titulo}`,flat:"",bordered:""},{default:X(()=>[M(i,{class:ee(_.cor),dense:""},{default:X(()=>[S("div",hi,xe(_.titulo),1)]),_:2},1032,["class"]),M(g,null,{default:X(()=>[(I(!0),L(me,null,Fe(_.linhas,(h,D)=>(I(),L("div",{key:`secao-${_.titulo}-linha-${D}`,class:"row"},[(I(!0),L(me,null,Fe(h,(u,v)=>(I(),L(me,{key:`secao-${_.titulo}-linha-${D}-item-${v}`},[u.tipo===C(ne).Selecao?(I(),re(l,{key:0,modelValue:u.ref.value,"onUpdate:modelValue":[k=>u.ref.value=k,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===C(ne).Radio?(I(),re(c,{key:1,modelValue:u.ref.value,"onUpdate:modelValue":[k=>u.ref.value=k,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===C(ne).Opcao?(I(),re(s,{key:2,modelValue:u.ref.value,"onUpdate:modelValue":[k=>u.ref.value=k,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===C(ne).Entrada?(I(),re(r,{key:3,modelValue:u.ref.value,"onUpdate:modelValue":[k=>u.ref.value=k,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):eo("",!0)],64))),128))]))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},512)}}}),_i={1991:60,1992:60,1993:66,1994:72,1995:78,1996:90,1997:96,1998:102,1999:108,2e3:114,2001:120,2002:126,2003:132,2004:138,2005:144,2006:150,2007:156,2008:162,2009:168,2010:174,2011:180};function Ci(){function e(a,t){return a===ho.AposentadoriaPorIdade&&_i[t.getFullYear()]||180}function o(){return[{rotulo:"Implemento da Idade",valor:oo.ImplementoIdade},{rotulo:"DER/DDA",valor:oo.DerDda}]}return{obterCarenciaMinima:e,obterOpcoesMarcoCarencia:o}}p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";const Do=Sa("parametros-store",()=>{const e=V(""),o=V(null),a=V(null),t=V(""),n=V(""),i=V(),l=V(null),c=V(""),s=V(ho.AposentadoriaPorTempoDeContribuicao),r=V(null),g=V(!1),x=V(!1),_=V(oo.ImplementoIdade),h=V(!1),D=V(!1),u=V(Ze.DeficienciaLeve),v=V(null),k=V(Vo.Art70CRegulamento),m=V(!1);function y(T){return Te(T)&&T.length>0}function E(){return y(e.value)||ve(o.value)||ve(a.value)||y(t.value)||y(n.value)||ve(l.value)||y(c.value)||ve(r.value)||ve(v.value)}function O(){e.value="",o.value=null,a.value=null,t.value="",n.value="",i.value=void 0,l.value=null,c.value="",s.value=ho.AposentadoriaPorTempoDeContribuicao,r.value=null,g.value=!1,x.value=!1,_.value=oo.ImplementoIdade,h.value=!1,D.value=!0,u.value=Ze.DeficienciaLeve,v.value=null,k.value=Vo.Art70CRegulamento,m.value=!1}return{numeroProcesso:e,citacao:o,ajuizamento:a,autor:t,reu:n,sexo:i,nascimento:l,nb:c,especie:s,der:r,rural:g,deficiente:x,marcoCarencia:_,permitirConversaoAposEc103:h,carenciaNecessariaAposEc103:D,grauPreponderanteDeficiencia:u,inicioPrimeiraDeficiencia:v,requisitoB41Deficiencia:k,converterPeriodosB41Deficiente:m,temDadosCarregados:E,reiniciar:O}},{persist:{serializer:{deserialize:e=>JSON.parse(e,Qo),serialize:JSON.stringify}}});function pa(){function e(){return[{rotulo:"Masculino",valor:p.Masculino},{rotulo:"Feminino",valor:p.Feminino}]}function o(){return[{rotulo:"Deficiência Grave",valor:Ze.DeficienciaGrave},{rotulo:"Deficiência Moderada",valor:Ze.DeficienciaModerada},{rotulo:"Deficiência Leve",valor:Ze.DeficienciaLeve}]}return{obterOpcoesSexo:e,obterOpcoesGrauDeficiencia:o}}function yi(){const e=Do(),{numeroProcesso:o,citacao:a,ajuizamento:t,autor:n,reu:i,sexo:l,nascimento:c,nb:s,especie:r,der:g,rural:x,deficiente:_,marcoCarencia:h,permitirConversaoAposEc103:D,carenciaNecessariaAposEc103:u,grauPreponderanteDeficiencia:v,inicioPrimeiraDeficiencia:k,requisitoB41Deficiencia:m,converterPeriodosB41Deficiente:y}=Ea(e),{obterOpcoesSexo:E}=pa(),{obterOpcoesEspecieBeneficio:O}=ft(),{obterOpcoesMarcoCarencia:T}=Ci(),{obterOpcoesRequisitoB41Deficiente:N}=No(),{obterOpcoesGrauDeficiencia:Y}=pa(),B=E(),G=O(),se=T(),Ce=Y(),$e=N(),he={tipo:ne.Entrada,ref:o,parametros:{tipoEntrada:ce.NumeroProcesso,nome:"numero-processo",rotulo:"Processo",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},we={tipo:ne.Entrada,ref:a,parametros:{tipoEntrada:ce.Data,nome:"data-citacao",rotulo:"Citação",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Se={tipo:ne.Entrada,ref:t,parametros:{tipoEntrada:ce.Data,nome:"data-ajuizamento",rotulo:"Ajuizamento",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},A={tipo:ne.Entrada,ref:n,parametros:{tipoEntrada:ce.Texto,nome:"nome-autor",rotulo:"Autor",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},J={tipo:ne.Entrada,ref:i,parametros:{tipoEntrada:ce.Texto,nome:"nome-reu",rotulo:"Réu",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},ue={tipo:ne.Selecao,ref:l,parametros:{nome:"sexo-autor",rotulo:"Sexo",opcoes:B,obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Ie={tipo:ne.Entrada,ref:c,parametros:{tipoEntrada:ce.Data,nome:"data-nascimento",rotulo:"Nascimento",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Le={tipo:ne.Entrada,ref:s,parametros:{tipoEntrada:ce.Texto,nome:"nb",rotulo:"NB",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Oe={tipo:ne.Selecao,ref:r,parametros:{nome:"especie",rotulo:"Espécie",opcoes:G,obrigatorio:!0,classes:"col-xs-12 col-sm-12 col-md-6 col-lg-6"}},Je={tipo:ne.Entrada,ref:g,parametros:{tipoEntrada:ce.Data,nome:"der",rotulo:"DER",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},je={tipo:ne.Opcao,ref:x,parametros:{nome:"beneficio-rural",rotulo:"Benefício rural?",classes:"q-pa-md"}},De={tipo:ne.Opcao,ref:_,parametros:{nome:"beneficio-deficiente",rotulo:"Benefício para pessoa com deficiência?",classes:"q-pa-md"}},Ue={tipo:ne.Selecao,ref:h,parametros:{nome:"marco-carencia",rotulo:"Marco carência",opcoes:se,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},Me={tipo:ne.Opcao,ref:D,parametros:{nome:"conveter-apos-ec-103",rotulo:"Converter tempo especial após EC 103?",classes:"q-pa-md"}},io={tipo:ne.Opcao,ref:u,parametros:{nome:"carencia-apos-ec-103",rotulo:"Carência necessária após EC 103?",classes:"q-pa-md"}},Be={tipo:ne.Selecao,ref:v,parametros:{nome:"grau-deficiencia",rotulo:"Grau de Deficiência Preponderante",opcoes:Ce,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},f={tipo:ne.Entrada,ref:k,parametros:{tipoEntrada:ce.Data,nome:"data-inicio-deficiencia",rotulo:"Data de início da primeira deficiência",classes:"col-xs-12 col-sm-6 col-md-4 col-lg-3"}},F={tipo:ne.Selecao,ref:m,parametros:{nome:"requisito-b41-deficiente",rotulo:"Requisito B41 Deficiente",opcoes:$e,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},P={tipo:ne.Opcao,ref:y,parametros:{nome:"converter-periodos-b41-deficiente",rotulo:"Converter Tempo Especial B41 Deficiente?",classes:"q-pa-md"}};return{esquemaFormularioBasico:{titulo:"Cálculo TC - Campos Básicos",secoes:[{titulo:"Dados Básicos do Segurado",cor:"bg-blue-3",linhas:[[ue,Ie]]},{titulo:"Dados Básicos do Benefício",cor:"bg-blue-3",linhas:[[Je,Oe]]}]},esquemaFormularioGeral:{titulo:"Parâmetros Avançados",secoes:[{titulo:"Dados do Processo",cor:"bg-blue-3",linhas:[[he,Se,we],[A,J]]},{titulo:"Dados do Benefício",cor:"bg-blue-3",linhas:[[Le,je,De]]},{titulo:"Opções Contagem",cor:"bg-blue-3",linhas:[[Ue],[Me],[io]]},{titulo:"Benefício da Pessoa com Deficiência",cor:"bg-blue-3",linhas:[[],[Be,f],[F,P]]}]}}}const xi={class:"q-pa-md"},$i={class:"q-pa-md"},Di={class:"q-py-md"},Ai=le({__name:"TcParametros",setup(e){const{esquemaFormularioBasico:o,esquemaFormularioGeral:a}=yi();return(t,n)=>{const i=bi,l=Mn;return I(),L(me,null,[S("div",xi,[M(i,{esquema:C(o)},null,8,["esquema"])]),S("div",$i,[M(l,{label:"Parâmetros Opcionais","header-class":"bg-blue-3 text-bold rounded-borders"},{default:X(()=>[S("div",Di,[M(i,{esquema:C(a)},null,8,["esquema"])])]),_:1})])],64)}}}),Ii=le({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:a}){const t=V(!1);return no(()=>{t.value=!0}),n=>{var s;if(t.value)return(s=o.default)==null?void 0:s.call(o);const i=o.fallback||o.placeholder;if(i)return i();const l=n.fallback||n.placeholder||"",c=n.fallbackTag||n.placeholderTag||"span";return L(c,a,l)}}});function qa(){function e(i){return Te(i)&&/(^\d+$)|(^\d+\.?(\d+)?$)|(^\d+,?(\d+)?$)/.test(i)}function o(i){return Te(i)&&/^\d+$/.test(i)}function a(i){return Te(i)&&/^(\d{1,2}[/.-])?(\d{1,2}[/.-])(\d{4})$/.test(i.trim())}function t(i){try{return new Ne(i).dataValida()}catch{return!1}}function n(i,l){return new Ne(i).antesDeOuIgualA(l)}return{inputValorNumerico:e,inputNumeroInteiro:o,inputDataLocal:a,data:t,periodo:n}}const uo=Sa("periodos-store",()=>{const e=qa(),o=V({}),a=Q(()=>Object.entries(o.value).map(([h,D])=>({id:h,...D})).sort((h,D)=>h.dataInicial.valueOf()-D.dataInicial.valueOf()));function t(h){if(!e.periodo(h.dataInicial,h.dataFinal))return;const D=h.descricao||"",u=h.fonte||"";o.value[Yn()]={...h,descricao:D,fonte:u}}function n(h,D){e.periodo(D.dataInicial,D.dataFinal)&&(h in o.value?Object.assign(o.value[h],D):o.value[h]=D)}function i(h){Object.assign(o.value,h)}function l(h){delete o.value[h]}const c=Q(()=>{const h=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf())[0];return ve(h)?new Ne(h).competencia():void 0}),s=Q(()=>{const h=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf()).slice(-1)[0];return ve(h)?new Ne(h).competencia():void 0});function r(h){return o.value[h]}function g(h,D){const u=r(h);u&&n(h,{...u,excluido:D===!0})}function x(){return!pt(o.value)}function _(){o.value={}}return{registros:o,lista:a,competenciaInicial:c,competenciaFinal:s,atualizar:n,atualizarTodos:i,adicionar:t,remover:l,obterPorId:r,alterarStatusExcluido:g,temDadosCarregados:x,reiniciar:_}},{persist:{paths:["registros"],serializer:{deserialize:e=>JSON.parse(e,Qo),serialize:JSON.stringify}}}),Fi={class:"cecalc-planilha-celula-booleana"},wi=["checked"],Si=le({__name:"CecalcPlanilhaCelulaBooleana",props:{modelValue:{type:Boolean,default:!1},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){function a(t){const n=t.target.checked;o("valorAtualizado",n)}return(t,n)=>(I(),L("td",dn(mn(t.$attrs)),[S("div",Fi,[S("input",{type:"checkbox",checked:t.modelValue,onChange:a},null,40,wi)])],16))}});const Ei=He(Si,[["__scopeId","data-v-ed1c78bf"]]),ki=["onKeydown"],Ti=["onClick","onKeydown"],Vi=le({__name:"CecalcPlanilhaCelulaOpcoes",props:{modelValue:{default:void 0},opcoes:{default:()=>[]},incluirOpcaoVazia:{type:Boolean,default:!0},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){const a=e,t=V(),n=V(),i=V([]),l=V(!1),c=V(0);qe(()=>a.modelValue,async()=>{await de(),s()}),no(()=>{window.addEventListener("click",r),s()}),Uo(()=>window.removeEventListener("click",r));function s(){const v=a.opcoes.findIndex(k=>k.valor===a.modelValue);v>=0?c.value=v:c.value=0}function r(v){if(!n.value||!t.value)return;const k=v.target,m=k===n.value||n.value.contains(k),y=v.target===t.value||t.value.contains(k);!m&&!y&&h()}function g(){if(t.value&&n.value){const v=i.value.reduce((he,we)=>{const{width:Se}=we.firstElementChild.getBoundingClientRect();return Math.max(he,Se)},0),k=Math.min(i.value.length,5),{width:m,height:y,top:E,left:O}=t.value.getBoundingClientRect(),T=E+y/2,N=O+m/2,Y=document.documentElement.clientWidth,B=document.documentElement.clientHeight,G=y*k,se=Math.max(v+50),Ce=Math.min(T-G/2,B-G),$e=Math.min(N-se/2,Y-se);n.value.style.height=`${G}px`,n.value.style.maxWidth=`${se}px`,n.value.style.top=`${Ce}px`,n.value.style.left=`${$e}px`,i.value.forEach(he=>{he.style.height=`${y}px`})}}async function x(){await de();const v=i.value[c.value];v&&(v.scrollIntoView(),await de(),v.focus())}async function _(){a.desabilitar||(l.value=!0,await de(),g(),await de(),x())}function h(){t.value&&t.value.focus(),l.value=!1}function D(v){v<0&&(v=a.opcoes.length-1),v>a.opcoes.length-1&&(v=0),c.value=v,x(),o("valorAtualizado",a.opcoes[c.value].valor),h()}function u(v){if(!v.target)return;const m=v.key;if(m==="Escape"&&(v.preventDefault(),s(),h()),m==="Tab"||m==="Enter"){v.preventDefault(),D(c.value);return}if(m==="ArrowDown"){v.preventDefault(),c.value++,c.value>=a.opcoes.length&&(c.value=0),x();return}m==="ArrowUp"&&(v.preventDefault(),c.value--,c.value<0&&(c.value=a.opcoes.length-1),x())}return(v,k)=>(I(),L(me,null,[S("td",fn({ref_key:"celula",ref:t},v.$attrs,{onKeydown:pn(ke(_,["stop"]),["f2"])}),[S("div",{class:"cecalc-planilha-celula-opcoes-selecionada",onDblclick:_},[S("span",{class:ee({placeholder:!Array.isArray(v.opcoes)||!v.opcoes[C(c)].rotulo})},xe(Array.isArray(v.opcoes)?v.opcoes[C(c)].rotulo:void 0),3),v.desabilitar?eo("",!0):(I(),L("span",{key:0,class:"icone-editar",onClick:_}))],32)],16,ki),C(l)?(I(),re(vn,{key:0,to:"table"},[S("div",{ref_key:"opcoesContainer",ref:n,class:"cecalc-planilha-celula-opcoes-menu",onBlur:h},[S("ul",null,[(I(!0),L(me,null,Fe(v.opcoes,(m,y)=>(I(),L("li",{ref_for:!0,ref_key:"opcoesLinhas",ref:i,key:m.valor,tabindex:"1",class:ee({placeholder:!m.rotulo}),onClick:ke(E=>D(y),["prevent"]),onKeydown:ke(u,["self"])},[S("span",null,xe(m.rotulo),1)],42,Ti))),128))])],544)])):eo("",!0)],64))}});const Oi=He(Vi,[["__scopeId","data-v-949729a9"]]),Pi={class:"cecalc-input-container"},qi=["name","value"],Mi={key:0,class:"cecalc-mensagem-erro"},zi=le({__name:"CecalcPlanilhaInput",props:{nome:{default:""},modelValue:{default:""},mensagemErro:{default:""}},emits:["update:model-value","blur"],setup(e,{emit:o}){const a=V();no(()=>{var n;(n=a.value)==null||n.focus()});function t(n){if(n.key==="Enter"||n.key==="Tab"){const i=n.target;o("update:model-value",i.value)}(n.key.startsWith("Arrow")||n.key==="Delete"||n.key==="Backspace")&&n.stopPropagation()}return(n,i)=>(I(),L("div",Pi,[S("input",{ref_key:"input",ref:a,name:n.nome,value:n.modelValue,type:"text",class:ee(["cecalc-input",n.mensagemErro?"erro":""]),onFocus:i[0]||(i[0]=l=>{l.target.select()}),onBlur:i[1]||(i[1]=l=>o("blur")),onKeydown:t},null,42,qi),n.mensagemErro?(I(),L("div",Mi,xe(n.mensagemErro),1)):eo("",!0)]))}});const Ni=He(zi,[["__scopeId","data-v-b09450ae"]]),Li=["title"],Bi={key:1},Ri={key:2},ji=le({__name:"CecalcPlanilhaCelulaEditavel",props:{editando:{type:Boolean,default:!1},nome:{default:""},modelValue:{default:""},placeholder:{default:""},tipo:{default:"texto"},desabilitar:{type:Boolean,default:!1}},emits:["blur","edicaoConcluida","valorAtualizado"],setup(e,{emit:o}){const a=e,t=V(!1),n=V(""),i=qa();function l(r){return r?a.tipo==="data"?i.inputDataLocal(r)?"":"dd/mm/aaaa":a.tipo==="competencia"?i.inputDataLocal(r)?"":"mm/aaaa":a.tipo==="texto"?"":a.tipo==="inteiro"||a.tipo==="sequencial"?i.inputNumeroInteiro(r)?"":"número inteiro":i.inputValorNumerico(r)?"":"valor numérico":""}function c(r){n.value=l(r),t.value=n.value.length>0,t.value?o("edicaoConcluida"):o("valorAtualizado",r)}function s(r){(r.key==="Delete"||r.key==="Backspace")&&r.stopPropagation()}return(r,g)=>{const x=Ni;return I(),L("td",{class:ee({erro:C(t)&&!r.editando,editando:r.editando}),title:C(n),onBlur:g[2]||(g[2]=_=>o("blur"))},[!r.desabilitar&&r.editando?(I(),re(x,{key:0,nome:r.nome,"model-value":r.modelValue,"mensagem-erro":C(n),"onUpdate:modelValue":g[0]||(g[0]=_=>c(_)),onBlur:g[1]||(g[1]=_=>o("edicaoConcluida")),onKeydown:ke(s,["self"])},null,8,["nome","model-value","mensagem-erro","onKeydown"])):!r.desabilitar&&C(t)?(I(),L("div",Bi," # ERRO ")):(I(),L("div",Ri,xe(r.modelValue||r.placeholder),1))],42,Li)}}});const Ui=He(ji,[["__scopeId","data-v-d5401a62"]]),Ye=e=>(ka("data-v-ee2a66df"),e=e(),Ta(),e),Qi=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Copiar ",-1)),Ki=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Recortar ",-1)),Hi=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Colar ",-1)),Gi=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Desfazer ",-1)),Yi=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Refazer ",-1)),Ji=Ye(()=>S("span",{class:"text-caption q-ml-sm"}," Copiar com cabeçalhos ",-1)),Wi=Ye(()=>S("span",{class:"text-caption q-ml-sm"},' Baixar arquivo ".csv" ',-1)),Xi=le({__name:"CecalcPlanilhaMenuContextual",props:{modelValue:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!1}},emits:["update:model-value","copiar","recortar","colar","desfazer","refazer","copiarComCabecalhos","gerarCsv"],setup(e,{emit:o}){return(a,t)=>{const n=bo,i=Oo,l=Co,c=$a,s=vt;return I(),re(c,{square:"","model-value":a.modelValue,class:"bg-grey-2","no-parent-event":"","onUpdate:modelValue":t[7]||(t[7]=r=>o("update:model-value",r))},{default:X(()=>[M(l,{flat:"",square:""},{default:X(()=>[Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[0]||(t[0]=r=>a.$emit("copiar"))},[M(n,{name:C(na)},null,8,["name"]),Qi])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[1]||(t[1]=r=>a.$emit("recortar"))},[M(n,{name:C(gn)},null,8,["name"]),Ki])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[2]||(t[2]=r=>a.$emit("colar"))},[M(n,{name:C(hn)},null,8,["name"]),Hi])),[[s]]),a.habilitarDesfazerRefazer?(I(),L(me,{key:0},[M(i),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[3]||(t[3]=r=>a.$emit("desfazer"))},[M(n,{name:C(bn)},null,8,["name"]),Gi])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[4]||(t[4]=r=>a.$emit("refazer"))},[M(n,{name:C(_n)},null,8,["name"]),Yi])),[[s]])],64)):eo("",!0),M(i),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[5]||(t[5]=r=>a.$emit("copiarComCabecalhos"))},[M(n,{name:C(na)},null,8,["name"]),Ji])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[6]||(t[6]=r=>a.$emit("gerarCsv"))},[M(n,{name:C(Cn)},null,8,["name"]),Wi])),[[s]])]),_:1})]),_:1},8,["model-value"])}}});const Zi=He(Xi,[["__scopeId","data-v-ee2a66df"]]),ge={Coluna:{Fixa:"cecalc-planilha-coluna-fixa",Editavel:"cecalc-planilha-coluna-editavel",Calculada:"cecalc-planilha-coluna-calculada"},Celula:{Desabilitada:"cecalc-planilha-celula-desabilitada",Desconsiderada:"cecalc-planilha-celula-desconsiderada",NaoEditavel:"cecalc-planilha-celula-nao-editavel",ValorIncluidoPeloUsuario:"cecalc-planilha-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-planilha-celula-valor-modificado",Atencao:"cecalc-planilha-celula-atencao",Verificada:"cecalc-planilha-celula-verificada",ValorElevado:"cecalc-planilha-celula-valor-elevado",ValorLimitado:"cecalc-planilha-celula-valor-limitado",IncluirIcone:"incluir-icone"},Selecao:{Caixa:"cecalc-caixa-selecao",Mascara:"cecalc-mascara-celula-ativa",Alca:"cecalc-alca-caixa-selecao",CopiaAtiva:"copia-ativa"}};function Po(e){const o=e.offsetTop,a=e.offsetLeft,t=e.offsetWidth,n=e.offsetHeight;return{top:o,left:a,width:t,height:n}}function er(e,o,a){return a==="topleft"?`polygon(0% ${e-5}px, 0% 100%, 100% 100%, 100% 0%, ${o-4}px 0%, ${o-4}px ${e-5}px)`:a==="topright"?`polygon(0% 0%, 0% 100%, 100% 100%, 100% ${e-5}px, calc(100% - ${o-5}px) ${e-5}px, calc(100% - ${o-5}px) 0%)`:a==="bottomleft"?`polygon(0% 0%, 0% calc(100% - ${e-5}px), ${o-4}px calc(100% - ${e-5}px), ${o-4}px 100%, 100% 100%, 100% 0%, 0% 0%`:a==="bottomright"?`polygon(0% 0%, 0% 100%, calc(100% - ${o-5}px) 100%, calc(100% - ${o-5}px) calc(100% - ${e-5}px), 100% calc(100% - ${e-5}px), 100% 0%, 0% 0%`:""}function or(e,o){const{width:a,height:t,top:n,left:i}=Po(e);if(e.isSameNode(o))return{width:a,height:t,top:n,left:i,mask:{width:a,height:t,position:"topleft"}};const{width:l,height:c,top:s,left:r}=Po(o);return n<=s&&i<=r?{top:n,left:i,width:r+l-i,height:s+c-n,mask:{width:a,height:t,position:"topleft"}}:n<=s&&i>r?{top:n,left:r,width:i+a-r,height:s+c-n,mask:{width:a,height:t,position:"topright"}}:n>s&&i<=r?{top:s,left:i,width:r+l-i,height:n+t-s,mask:{width:a,height:t,position:"bottomleft"}}:{top:s,left:r,width:i+a-r,height:n+t-s,mask:{width:a,height:t,position:"bottomright"}}}function ar(e){const o=document.createElement("div");o.classList.add(ge.Selecao.Caixa);const a=document.createElement("div");a.classList.add(ge.Selecao.Mascara),o.appendChild(a);const t=document.createElement("div");return t.classList.add(ge.Selecao.Alca),t.draggable=!0,o.appendChild(t),e.appendChild(o),{caixa:o,mascara:a,alca:t}}function so(e){let o=e.target;if(!o||o.tagName==="TD")return o;let a=0;for(;a<4;){if(!o||o.tagName==="TD")return o;o=o.parentElement,a++}return null}function _e(e){if(!e||!e.parentElement||e.parentElement.tagName!=="TR")return;const o=e.cellIndex,a=e.parentElement.rowIndex;return{col:o,lin:a}}function tr({container:e,habilitarAlcaDeArrasto:o,callbackAlcaDeArrasto:a}){Ge().info("Executando useSelecao");let n;const i=()=>n?n.querySelector("tr td:first-of-type"):null,l=()=>n?n.querySelector("tr:last-of-type td:last-of-type"):null;function c(){const f=i(),F=l();if(!f||!F)return;const P=_e(f),R=_e(F);if(!(!P||!R))return[P,R]}const s=V(),r=V(),g=V([]);let x,_,h;const D=new Image;let u=!1;no(async()=>{if(await de(),e.value&&(n=e.value.querySelector("tbody"),n)){const f=ar(e.value);x=f.caixa,_=f.mascara,h=f.alca,o||(h.style.display="none"),Be(),i()?N():T()}});function v(f){const F=i();if(!F)return;const P=_e(F);if(P)return{col:f.col-P.col,lin:f.lin-P.lin}}function k(f){const F=i();if(!F)return;const P=_e(F);if(P)return{col:f.col+P.col,lin:f.lin+P.lin}}function m(f){var W,K;if(!n)return null;const F=n.parentElement;if(!F||F.tagName!=="TABLE"||!F.rows.length||!((W=F.rows.item(0))!=null&&W.cells.length))return null;const{col:P,lin:R}=f;return((K=n.parentElement.rows.item(R))==null?void 0:K.cells.item(P))||null}function y(){x.style.display="none",_.style.display="none",h.style.display="none"}function E(){x.style.display="block",_.style.display="block",o&&(h.style.display="block")}function O(){var ro,lo;if(!s.value||!r.value||!x||!_)return;const f=-1,F=0,P=2,R=1;if(s.value.isSameNode(r.value)){const{top:mo,left:fo,width:Ao,height:Io}=Po(s.value);x.style.top=`${mo+f}px`,x.style.left=`${fo+F}px`,x.style.width=`${Ao+P}px`,x.style.height=`${Io+R}px`,_.style.height="0px",_.style.width="0px";return}const{top:W,left:K,width:oe,height:te,mask:fe}=or(s.value,r.value);x.style.top=`${W+f}px`,x.style.left=`${K+F}px`,x.style.width=`${oe+P}px`,x.style.height=`${te+R}px`,_.style.height=`${te-10}px`,_.style.width=`${oe-9}px`,_.style.clipPath=er(((ro=s.value)==null?void 0:ro.offsetHeight)||0,((lo=s.value)==null?void 0:lo.offsetWidth)||0,fe.position)}function T(){y()}function N(f){if(f=f||i()||void 0,f){const F=_e(f);F&&(s.value=f,r.value=f,g.value=[F,F],f.focus(),O(),E())}}function Y(f){r.value=f,g.value[1]=_e(f),O(),E()}function B(f){var te,fe;const F=he();if(!F)return;const P=c();if(!P)return;const[R,W]=P,K=Math.max(Math.min(W.lin,F.lin+f),R.lin),oe=m({lin:K,col:F.col});oe&&N(oe),K===R.lin?(te=e.value)==null||te.scrollTo({top:0}):K===W.lin&&((fe=e.value)==null||fe.scrollBy(0,100))}function G(f){var te,fe;const F=he();if(!F)return;const P=c();if(!P)return;const[R,W]=P,K=Math.max(Math.min(W.col,F.col+f),R.col),oe=m({lin:F.lin,col:K});oe&&N(oe),K===R.col?(te=e.value)==null||te.scrollTo({left:0}):K===W.col&&((fe=e.value)==null||fe.scrollBy(100,0))}function se(f,F){const P=r.value||so(f);if(!P)return;const R=_e(P);if(!R)return;const W=c();if(!W)return;const[K,oe]=W,te=Math.max(Math.min(oe.lin,R.lin+F),K.lin),fe=m({lin:te,col:R.col});fe&&(fe.focus(),r.value=fe,g.value[1]=_e(fe),O())}function Ce(f,F){const P=r.value||so(f);if(!P)return;const R=_e(P);if(!R)return;const W=c();if(!W)return;const[K,oe]=W,te=Math.max(Math.min(oe.col,R.col+F),K.col),fe=m({lin:R.lin,col:te});fe&&(fe.focus(),r.value=fe,g.value[1]=_e(fe),O())}function $e(){return!g.value||g.value.length===0?[]:[{col:Math.min(g.value[0].col,g.value[1].col),lin:Math.min(g.value[0].lin,g.value[1].lin)},{col:Math.max(g.value[0].col,g.value[1].col),lin:Math.max(g.value[0].lin,g.value[1].lin)}]}function he(){if(!(!g.value||g.value.length===0||!g.value[0]))return g.value[0]}function we(){if(!(!g.value||g.value.length===0))return g.value[1]}function Se(f){const F=$e();if(F.length===0)return;const P=_e(f);return P?P.col<=F[1].col&&P.col>=F[0].col&&P.lin<=F[1].lin&&P.lin>=F[0].lin:!1}function A(f,F){const P=m(f),R=m(F);P&&N(P),R&&Y(R)}function J(f){const F=_e(f);if(!F)return;const P=c();if(!P)return;const[R,W]=P,{col:K}=F;if(K<R.col||K>W.col)return;const oe=m({lin:R.lin,col:K}),te=m({lin:W.lin,col:K});oe&&te&&(N(oe),r.value=te,g.value=[{lin:R.lin,col:K},{lin:W.lin,col:K}],O())}function ue(f){const F=_e(f);if(!F)return;const P=c();if(!P)return;const[R,W]=P,{lin:K}=F;if(K<R.lin||K>W.lin)return;const oe=m({lin:K,col:R.col}),te=m({lin:K,col:W.col});oe&&te&&(N(oe),r.value=te,g.value=[{lin:K,col:R.col},{lin:K,col:W.col}],O())}function Ie(){const f=i(),F=l();if(f&&F){N(f),r.value=F;const P=_e(f),R=_e(F);P&&R&&(g.value=[P,R],O())}}function Le(f){!s.value||!r.value||(f.dataTransfer.effectAllowed="move",f.dataTransfer.setDragImage(D,0,0),s.value.isSameNode(r.value)||(s.value=r.value,O()),u=!0)}function Oe(f){if(!u||!s.value||!r.value)return;f.preventDefault(),f.dataTransfer&&(f.dataTransfer.dropEffect="move");const F=so(f);if(F){if(F.isSameNode(r.value))return;const P=_e(F);if(P){const R=c();if(!R)return;const[W,K]=R,oe=m({lin:Math.min(K.lin,P.lin),col:s.value.cellIndex});oe&&(r.value=oe,g.value[1]=_e(oe),O())}}}function Je(f){f.preventDefault(),u=!1,la(a)&&a(f)}function je(f=2e3){x&&(x.classList.add(ge.Selecao.CopiaAtiva),setTimeout(()=>{x.classList.remove(ge.Selecao.CopiaAtiva)},f))}const De={ArrowUp:f=>f.shiftKey?se(f,f.ctrlKey?Number.NEGATIVE_INFINITY:-1):B(f.ctrlKey?Number.NEGATIVE_INFINITY:-1),ArrowDown:f=>f.shiftKey?se(f,f.ctrlKey?Number.POSITIVE_INFINITY:1):B(f.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowRight:f=>f.shiftKey?Ce(f,f.ctrlKey?Number.POSITIVE_INFINITY:1):G(f.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowLeft:f=>f.shiftKey?Ce(f,f.ctrlKey?Number.NEGATIVE_INFINITY:-1):G(f.ctrlKey?Number.NEGATIVE_INFINITY:-1),PageUp:f=>f.shiftKey?se(f,-20):B(-20),PageDown:f=>f.shiftKey?se(f,20):B(20),Home:f=>f.shiftKey?se(f,Number.NEGATIVE_INFINITY):B(Number.NEGATIVE_INFINITY),End:f=>f.shiftKey?se(f,Number.POSITIVE_INFINITY):B(Number.POSITIVE_INFINITY),Tab:f=>De.ArrowRight(f),Enter:f=>De.ArrowDown(f)};function Ue(f){if(u||!e.value||!n)return;const F=f.key;F in De&&(f.preventDefault(),De[F](f))}function Me(f){if(!(u||!e.value||!n)){if(f.type==="click"||f.type==="mousedown"){const F=so(f),P=i();F&&P&&F.cellIndex>=P.cellIndex&&(f.buttons!==2||!Se(F))&&(s.value&&F.isSameNode(s.value)||N(F))}if(f.type==="mouseover"&&f.buttons===1){const F=so(f),P=i();F&&P&&F.cellIndex>=P.cellIndex&&Y(F)}}}function io(f){if(f.buttons!==1)return;const F=f.currentTarget,{height:P,width:R,top:W,left:K}=F.getBoundingClientRect(),oe=f.clientX>=R+K-150?50:f.clientX<=K+80?-50:0,te=f.clientY>=P+W-80?50:f.clientY<=W+50?-30:0;F.scrollBy(oe,te)}function Be(){e.value&&ze(e.value,"mouseover",io),n&&(ze(n,"dragover",Oe),ze(n,"dragenter",Oe),ze(n,"drop",Je)),h&&o&&(ze(h,"dragstart",Le),ze(h,"dragend",Je),ze(h,"dragover",Oe),ze(h,"dragenter",Oe),ze(h,"dblclick",la(a)?a:()=>{}))}return{obterCelula:m,desativar:T,ativarCelula:N,selecionarArea:A,redefinirCaixaSelecao:O,celulaAtiva:s,celulaOposta:r,areaSelecionada:g,obterPACelulaAtiva:he,obterPACelulaOposta:we,obterSelecaoOrdenada:$e,converterPosicaoAR:v,converterPosicaoRA:k,selecionarColuna:J,selecionarLinha:ue,selecionarTudo:Ie,dispararEfeitoCopia:je,plugarMouse:Me,plugarTeclado:Ue}}function nr(e){Ge().info("Executando useUltimaLinha");let a,t=[];const n=V();no(async()=>{await de(),e.value&&(a=e.value.querySelector("tfoot"),a&&(t=l(),t.length&&s(0)))});function i(D){let u=D.target;if(u===null||u.tagName==="TD")return u;let v=0;for(;v<4;){if(u===null||u.tagName==="TD")return u;u=u.parentElement,v++}return null}function l(){return a?Array.from(a.querySelectorAll(`tr td.${ge.Coluna.Editavel}`)):[]}function c(D){return D?(t.length||(t=l()),t.findIndex(u=>u.isSameNode(D))):-1}function s(D){if(!t.length)return;n.value&&n.value.classList.remove("ativa"),D<0&&(D=t.length-1),D>=t.length&&(D=0),n.value=t[D],n.value.classList.add("ativa"),n.value.focus();const u=n.value.querySelector("input");u&&u.focus()}function r(){n.value&&s(c(n.value)+1)}function g(){n.value&&s(c(n.value)-1)}const x={ArrowRight:r,ArrowLeft:g,Tab:r,Enter:r};function _(D){if(!e.value||!a)return;const u=D.key;u in x&&(D.preventDefault(),x[u]())}function h(D){if(!(!e.value||!a)&&D.type==="click"){const u=i(D);if(u){const v=c(u);v>=0&&s(v)}}}return{ativarCelula:s,celulaAtiva:n,plugarMouse:h,plugarTeclado:_}}function Ma(){const e=Ge(),{confirmacao:o}=Lo();function a(i,l,c){Un(l,i,c)}function t(i,l){a(i,l,"application/json")}async function n(i,l=!0){try{const c=await i.text(),s=JSON.parse(c,Qo);if(e.console.log(s),s.dados)return l&&!await o("Atenção","O carregamento do arquivo apagará todos os dados atuais. Confirma?","Confirmar","Cancelar")?void 0:s}catch(c){e.erro(c)}}return{exportar:a,salvar:t,abrir:n}}function ir(){const e=Ge();let o=[],a=-1;function t(s,r){e.console.log("Iniciando registro"),e.console.log(o),e.console.log(a),s(),a<o.length-1&&(o=o.slice(0,a+1)),o.push({acaoDesfazer:r,acaoFazer:s}),a++,e.console.log("registro concluído"),e.console.log(o),e.console.log(a)}function n(){return o.length&&a>=0}function i(){return o.length&&a<o.length-1}function l(){if(e.console.log("desfazendo"),!n())return;e.console.log(o),e.console.log(a);const s=o[a].acaoDesfazer;s(),a--}function c(){if(e.console.log("refazendo"),!i())return;e.console.log(o),e.console.log(a),a++;const s=o[a].acaoFazer;s()}return{registrarAcao:t,desfazer:l,refazer:c}}function rr(e,o){const a=e.map(n=>n.rotulo).map(n=>ca(`${n}`)),t=o.filter(n=>!n.desabilitada).map(n=>e.map(i=>{const l=i.nome,c=n.celulas[l].valorFormatado??"";return ca(`"${c}"`)}).join(";"));return t.unshift(a.join(";")),t.join(`
`)}function za(e){return e.filter(o=>o.tipo==="texto").length}function lr(e){const o=za(e);return o>0?100/o:0}function Na(e,o){const a={};return a.userSelect="none",e.tipo==="sequencial"?(a.width="50px",a.textAlign="right"):e.tipo==="texto"?(a.width=o,a.textAlign="left"):e.tipo==="data"||e.tipo==="competencia"||e.tipo==="opcoes"?(a.width="100px",a.minWidth="100px",a.textAlign="center"):e.tipo==="booleano"?(a.width="50px",a.minWidth="50px",a.textAlign="center"):(a.width="100px",a.textAlign="right"),a}function sr(e,o){const a=Na(e,o);return a.fontWeight="bold",a.textAlign="center",a}function La(e,o=!1){const a=[];return o?a.push(ge.Coluna.Fixa):e.editavel?a.push(ge.Coluna.Editavel):e.calculada&&a.push(ge.Coluna.Calculada),a.join(" ").trim()}function cr(e,o=!1){return La(e,o)}function ur(e,o=0,a=[]){const t=`${lr(e)}%`;return e.map((n,i)=>{const l=i+1<=o;return{...n,fixa:l,ocultar:a.length>0?!a.includes(n.nome):!1,estilos:Na(n,t),estilosCabecalho:sr(n,t),classes:La(n,l),classesCabecalho:cr(n,l)}})}function go(e){return za(e)>0?{width:"50px"}:{width:"100%"}}const dr={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},mr={style:{"min-width":"20px"}},fr=["colspan"],pr=S("div",null,[S("span",null," Utilize a linha abaixo para adicionar novos registros ")],-1),vr=[pr],gr={key:1},hr=["colspan"],br=le({__name:"CecalcPlanilha",props:{configColunas:{default:()=>[]},linhas:{default:()=>[]},colunasVisiveis:{default:()=>[]},congelarColunas:{default:0},altura:{default:"calc(100vh - 270px)"},novaLinha:{},nomeArquivoCsv:{},habilitarAlcaDeArrasto:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!0},teclaDelRemoveLinha:{type:Boolean,default:!1}},emits:["atualizarCelula","removerCelula","atualizarSelecao","removerSelecao","novaLinha","removerLinha","repetir","adicionar","click","dblclick"],setup(e,{expose:o,emit:a}){const t=e,n=Q(()=>ur(t.configColunas,t.congelarColunas,t.colunasVisiveis).filter(d=>!d.ocultar)),i=V(null),l=V(!1),c=V(),s=V({col:-1,lin:-1}),{obterCelula:r,desativar:g,ativarCelula:x,selecionarArea:_,redefinirCaixaSelecao:h,celulaAtiva:D,obterPACelulaAtiva:u,obterPACelulaOposta:v,obterSelecaoOrdenada:k,converterPosicaoAR:m,converterPosicaoRA:y,selecionarColuna:E,selecionarLinha:O,selecionarTudo:T,dispararEfeitoCopia:N,plugarMouse:Y,plugarTeclado:B}=tr({container:i,habilitarAlcaDeArrasto:t.habilitarAlcaDeArrasto,callbackAlcaDeArrasto:Za}),G=nr(i),{copy:se,copied:Ce,isSupported:$e}=yn({read:!0,source:"",copiedDuring:1500,legacy:!0}),{exportar:he}=Ma(),{confirmacao:we,aviso:Se}=Lo(),A=ir();qe(()=>t.linhas.length,async d=>{await de(),d!==void 0&&(d===0?g():D.value?h():x())});function J(){Se("Operação não permitida",`A operação não pode ser realizada. O uso da área de transferência foi bloqueado pelo seu navegador.
Habilite a funcionalidade e tente de novo.`)}function ue(){return we("Confirmação","Os dados que você está tentando colar não são do mesmo tamanho de sua seleção. Deseja colar mesmo assim?")}function Ie(){D.value&&x(D.value)}async function Le(){const d=u();if(d){const b=m(d);if(b){const{col:w,lin:z}=b;s.value.col=w,s.value.lin=z}await de(),h()}}async function Oe(){s.value.lin=-1,s.value.col=-1,D.value&&D.value.focus(),await de(),h()}function Je(d){return Ve(d)&&d>=0&&d<t.linhas.length}function je(d){return Ve(d)&&d>=0&&d<n.value.length}function De(d){return n.value[d].nome}function Ue(d){const b=m(d);if(!b)return;const{lin:w,col:z}=b;if(!Je(w)||!je(z))return;const j=t.linhas[w],U=De(z);return{linha:j,nomeColuna:U}}function Me(d){const b=Ue(d);if(!b)return;const{linha:w,nomeColuna:z}=b;return w.celulas[z].valorFormatado}function io(d,b){if(!je(d)||!je(b))return Array.from({length:Math.max(d,b)-Math.min(d,b)+1}).fill("");const w=[];for(let z=Math.min(d,b);z<=Math.max(d,b);z++)w.push(n.value[z].rotulo);return w}function Be(d){const b=[],[w,z]=d;for(let j=w.lin;j<=z.lin;j++){const U=[];for(let H=w.col;H<=z.col;H++)U.push(Me({col:H,lin:j})||"");b.push(U)}return b}function f(d=!1){const b=k();if(Array.isArray(b)&&b.length){const w=Be(b);if(d){const[z,j]=b,U=m(z),H=m(j);if(U&&H){const $=io(U.col,H.col);w.unshift($)}}return w}return[]}async function F(){let d=await navigator.clipboard.readText();return d=d.replace(/\r/g,"").trim(),!d||!d.split(`
`).length?[]:d.split(`
`).map(b=>b.trim().split("	").map(z=>z.trim()))}function P(d,b,w){const z=t.linhas[b],j=De(w),U=y({col:w,lin:b});if(!U)return;const H=Me(U)||"",$=async()=>{a("atualizarCelula",{linha:z,coluna:j,valor:d}),await de();const q=r(U);q&&x(q)},Z=async()=>{H?a("atualizarCelula",{linha:z,coluna:j,valor:H}):a("removerCelula",{linha:z,coluna:j}),await de();const q=r(U);q&&x(q)};A.registrarAcao($,Z),Oe()}function R(){const d=u();if(!d)return;const b=m(d);if(!b)return;const{lin:w}=b,z=t.linhas[w],j=async()=>{a("removerLinha",{linha:z}),await de();const H=r(d);H&&x(H)},U=async()=>{a("novaLinha",{linha:z}),await de();const H=r(d);H&&x(H)};A.registrarAcao(j,U)}function W(d){const b=m(d);if(!b)return;const{lin:w,col:z}=b,j=t.linhas[w],U=De(z),H=Me(d)||"",$=async()=>{a("removerCelula",{linha:j,coluna:U}),await de();const q=r(d);q&&x(q)},Z=async()=>{a("atualizarCelula",{linha:j,coluna:U,valor:H}),await de();const q=r(d);q&&x(q)};A.registrarAcao($,Z)}function K(d,b){const w=Be(b),[z,j]=b,[U,H]=[m(z),m(j)];if(!U||!H)return;const $=[];for(let pe=U.col;pe<=H.col;pe++){const Pe=De(pe);$.push(Pe)}const Z=[],q=[];for(let pe=U.lin;pe<=H.lin;pe++){const Pe=t.linhas[pe],We={},po={};$.forEach((Zo,ea)=>{We[Zo]=d[pe-U.lin][ea],po[Zo]=w[pe-U.lin][ea]}),Z.push({linha:Pe,valores:We}),q.push({linha:Pe,valores:po})}const Ee=()=>{a("atualizarSelecao",{itens:Z}),_(z,j)},be=()=>{a("atualizarSelecao",{itens:q}),_(z,j)};A.registrarAcao(Ee,be)}function oe(d){const b=Be(d),[w,z]=d,[j,U]=[m(w),m(z)];if(!j||!U)return;const H=[];for(let be=j.col;be<=U.col;be++){const pe=De(be);H.push(pe)}const $=[],Z=[];for(let be=j.lin;be<=U.lin;be++){const pe=t.linhas[be];$.push(pe);const Pe={};H.forEach((We,po)=>{Pe[We]=b[be-j.lin][po]}),Z.push({linha:pe,valores:Pe})}const q=()=>{a("removerSelecao",{linhas:$,colunas:H}),_(w,z)},Ee=()=>{a("atualizarSelecao",{itens:Z}),_(w,z)};A.registrarAcao(q,Ee)}async function te(d=!1){if(!$e)return J();const w=f(d).map(z=>z.join("	")).join(`
`);await se(w),Ce.value&&N()}function fe(){te(!0)}async function ro(){if(!$e)return J();await te(),Ce.value&&mo()}async function lo(){if(!$e)return J();const d=k();if(Array.isArray(d)&&d[0]&&d[1]){const b=await F();if(!b.length)return;const[w,z]=d,j=z.lin-w.lin+1,U=z.col-w.col+1;if(b.length!==j||b[0].length!==U){if((j>1||U>1)&&!await ue())return;z.lin=w.lin+b.length-1,z.col=w.col+b[0].length-1}K(b,[w,z])}}function mo(){const d=k(),[b,w]=d;b&&w&&(b.lin===w.lin&&b.col===w.col?W(b):oe([b,w]))}function fo(d,b){const[w,z]=b,[j,U]=[m(w),m(z)];if(!j||!U)return;const H=Be(b),$=De(j.col),Z=[],q=[];for(let pe=j.lin;pe<=U.lin;pe++){const Pe=t.linhas[pe];q.push(Pe);const We=H[pe-j.lin][j.col];Z.push({linha:Pe,valores:{[$]:We}})}const Ee=()=>{a("repetir",{valor:d,coluna:$,linhas:q}),_(w,z)},be=()=>{a("atualizarSelecao",{itens:Z}),_(w,z)};A.registrarAcao(Ee,be)}function Ao(d){const{col:b,lin:w}=d,z=t.linhas.length-1;if(w===z)return{lin:w,col:b};const j=De(b);let U=w;for(let H=w+1;H<=z;H++){const $=t.linhas[H].celulas[j].valor,Z=t.linhas[H].desabilitada;if($!=null&&$!==""||Z)break;U=H}return{lin:U,col:b}}function Io(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const b=Me(d);if(!b)return;const w=v();if(!w||w.lin===d.lin)return;const z=[{lin:Math.min(d.lin+1,w.lin),col:d.col},{lin:Math.max(d.lin+1,w.lin),col:d.col}];fo(b,z)}function Xa(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const b=Me(d);if(!b)return;const w=m(d);if(!w)return;const z=Ao(w),j=y(z);if(!j)return;const U=[{lin:Math.min(d.lin+1,j.lin),col:d.col},{lin:Math.max(d.lin+1,j.lin),col:d.col}];fo(b,U)}function Jo(){t.habilitarDesfazerRefazer&&A.refazer()}function Wo(){t.habilitarDesfazerRefazer&&A.desfazer()}function Xo(){const d=rr(t.configColunas,t.linhas),b=`${t.nomeArquivoCsv||"dados"}.csv`;he(d,b,"text/csv")}function Za(d){d.type==="drop"&&Io(),d.type==="dblclick"&&Xa()}function et(d){const b=d.key,w=d.ctrlKey,z=/^[\dA-Za-z]$/.test(b);if(b==="Escape"){d.stopPropagation(),Oe();return}if(b==="Delete"||b==="Backspace"){if(d.stopPropagation(),t.teclaDelRemoveLinha)return R();mo();return}w&&(b==="c"||b==="C")&&te(),w&&(b==="v"||b==="V")&&lo(),w&&(b==="x"||b==="X")&&ro(),w&&(b==="y"||b==="Y")&&Jo(),w&&(b==="z"||b==="Z")&&Wo(),!w&&(z||b==="F2")&&D.value&&Le(),B(d)}function Fo(d){if(d.type==="contextmenu"){d.preventDefault(),c.value=d.target||void 0,l.value=!0,Y(d);return}if(d.type==="click"){Y(d);const b=u();if(b){const w=Ue(b);if(!w)return;a("click",w),h()}return}if(d.type==="dblclick"){Y(d),Le();const b=u();if(b){const w=Ue(b);if(!w)return;a("dblclick",w)}}}o({gerarArquivoCsv:Xo});async function wo(d,b){a("adicionar",{valor:d,nomeColuna:b}),await de(),Ie()}return(d,b)=>{const w=gt,z=Ei,j=Oi,U=Ui,H=Zi;return I(),L("div",{ref_key:"container",ref:i,class:"cecalc-planilha-container",style:ie({height:d.altura})},[S("table",null,[S("thead",null,[S("tr",null,[M(w,{onResize:Ie}),S("th",{class:ee(C(ge).Coluna.Fixa),onClick:b[0]||(b[0]=ke((...$)=>C(T)&&C(T)(...$),["self"]))},[_o(d.$slots,"acoes-canto-superior")],2),(I(!0),L(me,null,Fe(C(n),$=>(I(),L("th",{key:`cab-${$.nome}`,class:ee($.classesCabecalho),style:ie($.estilosCabecalho),onClick:b[1]||(b[1]=ke(Z=>C(E)(Z.target),["self"]))},xe($.rotulo),7))),128))])]),S("tbody",{onMousedown:b[4]||(b[4]=(...$)=>C(Y)&&C(Y)(...$)),onClick:Fo,onDblclick:Fo,onMouseover:b[5]||(b[5]=(...$)=>C(Y)&&C(Y)(...$)),onContextmenu:Fo,onKeydown:et},[(I(!0),L(me,null,Fe(d.linhas,($,Z)=>(I(),L("tr",{key:`lin-${Z}`,class:ee({desabilitada:$.desabilitada})},[S("th",{class:ee(C(ge).Coluna.Fixa),style:ie(C(go)(d.configColunas)),onClick:b[2]||(b[2]=ke(q=>C(O)(q.target),["self"]))},[S("div",dr,[S("div",mr,xe(Z+1),1),_o(d.$slots,"acoes-primeira-coluna",{linha:$,indexLinha:Z,selecionarLinha:C(O)})])],6),(I(!0),L(me,null,Fe(C(n),(q,Ee)=>(I(),L(me,{key:`cel-${Z}-${Ee}`},[q.editavel&&q.tipo==="booleano"?(I(),re(z,{key:0,tabindex:"0","model-value":$.celulas[q.nome].valor,desabilitar:$.desabilitada,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):q.editavel&&q.tipo==="opcoes"?(I(),re(j,{key:1,tabindex:"0","model-value":$.celulas[q.nome].valor,opcoes:q.opcoes,desabilitar:$.desabilitada,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):q.editavel&&q.tipo!=="opcoes"&&q.tipo!=="booleano"?(I(),re(U,{key:2,nome:`${q.nome}-${Z}`,tabindex:"0","model-value":$.celulas[q.nome].valorFormatado,placeholder:q.placeholder,tipo:q.tipo,desabilitar:$.desabilitada,editando:C(s).col===Ee&&C(s).lin===Z,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onEdicaoConcluida:Oe,onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["nome","model-value","placeholder","tipo","desabilitar","editando","class","style","onValorAtualizado"])):(I(),L("td",{key:3,tabindex:"0",class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos))},xe($.celulas[q.nome].valorFormatado||q.placeholder),7))],64))),128))],2))),128)),M(H,{modelValue:C(l),"onUpdate:modelValue":b[3]||(b[3]=$=>Ke(l)?l.value=$:null),"habilitar-desfazer-refazer":d.habilitarDesfazerRefazer,target:C(c),offset:[-30,10],onCopiar:te,onRecortar:ro,onColar:lo,onDesfazer:Wo,onRefazer:Jo,onCopiarComCabecalhos:fe,onGerarCsv:Xo},null,8,["modelValue","habilitar-desfazer-refazer","target"])],32),S("tfoot",{onClick:b[6]||(b[6]=(...$)=>C(G).plugarMouse&&C(G).plugarMouse(...$)),onKeydown:b[7]||(b[7]=(...$)=>C(G).plugarTeclado&&C(G).plugarTeclado(...$))},[d.novaLinha&&d.novaLinha.celulas?(I(),L(me,{key:0},[S("tr",null,[S("th",{class:ee(C(ge).Coluna.Fixa),style:ie(C(go)(d.configColunas))},"   ",6),S("td",{colspan:C(n).length},vr,8,fr)]),S("tr",null,[S("th",{class:ee(C(ge).Coluna.Fixa),style:ie(C(go)(d.configColunas))},"   ",6),(I(!0),L(me,null,Fe(C(n),($,Z)=>(I(),L(me,{key:`nova-linha-col-${Z}`},[($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo==="booleano"?(I(),re(z,{key:0,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valor,desabilitar:d.novaLinha.desabilitada,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo==="opcoes"?(I(),re(j,{key:1,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valor,opcoes:$.opcoes,"incluir-opcao-vazia":!0,desabilitar:d.novaLinha.desabilitada,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo!=="opcoes"&&$.tipo!=="booleano"?(I(),re(U,{key:2,nome:`${$.nome}-nova-linha`,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valorFormatado,placeholder:$.placeholder,tipo:$.tipo,desabilitar:d.novaLinha.desabilitada,editando:!0,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["nome","model-value","placeholder","tipo","desabilitar","class","style","onValorAtualizado"])):(I(),L("td",{key:3,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos))},xe(d.novaLinha.celulas[$.nome].valorFormatado||$.placeholder),7))],64))),128))])],64)):d.linhas.length?eo("",!0):(I(),L("tr",gr,[S("th",{class:ee(C(ge).Coluna.Fixa),style:ie(C(go)(d.configColunas))},"   ",6),S("td",{colspan:C(n).length}," Nenhum dado disponível. ",8,hr)]))],32)])],4)}}});const _r={[ye.NaoComputar]:{[p.Masculino]:0,[p.Feminino]:0},[ye.Comum]:{[p.Masculino]:1,[p.Feminino]:1},[ye.Especial25]:{[p.Masculino]:4,[p.Feminino]:3},[ye.Especial20]:{[p.Masculino]:5,[p.Feminino]:5},[ye.Especial15]:{[p.Masculino]:6,[p.Feminino]:6},[ye.DeficienciaGrave]:{[p.Masculino]:4,[p.Feminino]:5},[ye.DeficienciaModerada]:{[p.Masculino]:3,[p.Feminino]:4},[ye.DeficienciaLeve]:{[p.Masculino]:2,[p.Feminino]:2}};function Cr(e,o){if(!ve(e.dataInicial))throw new Error(`Período ${o+1}: data inicial inválida.`);if(!ve(e.dataFinal))throw new Error(`Período ${o+1}: data final inválida.`);if(e.dataFinal.valueOf()<e.dataInicial.valueOf())throw new Error(`Período ${o+1}: data final anterior à data inicial.`);return e}function va(e){return{...e,dataInicial:new Date(e.dataInicial.valueOf()),dataFinal:new Date(e.dataFinal.valueOf())}}function ga(e,o){return _r[e.formaContagem][o]}function qo(e){return new Ne(e).adicionar(1,Bo.Dias).nativo()}function yr(e){return new Ne(e).adicionar(-1,Bo.Dias).nativo()}function Mo(e,o){const a=e.dataInicial.valueOf()<=o.dataInicial.valueOf(),t=a?e:o,n=a?o:e;return t.dataInicial.valueOf()<=n.dataFinal.valueOf()&&n.dataInicial.valueOf()<=t.dataFinal.valueOf()}function ha(e,o){return e.dataInicial.valueOf()>=o.dataInicial.valueOf()&&e.dataFinal.valueOf()<=o.dataFinal.valueOf()}function Ba(e,o){if(Array.isArray(o)&&o.length>1){const a=o[e];return o.some((t,n)=>n!==e?Mo(a,t):!1)}return!1}function xr(e,o){const a=Ge();if(!Array.isArray(e)||!e.length)return[];if(e.length===1)return e[0].excluido?[]:e;if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const t=e.filter(i=>!i.excluido).map(Cr),n=[];for(let i=0;i<t.length;i++){let l=va(t[i]);if(a.console.log(">>> atual",l),n.length){const s=n[n.length-1];if(Mo(s,l)){if(ha(l,s)){a.console.log(">>> descartado desde logo, por concomitância com",s);continue}l.dataInicial=qo(s.dataFinal),a.console.log(">>> ajustado",l)}}const c=ga(l,o);a.console.log(">>> peso",c);for(let s=i+1;s<t.length;s++){const r=t[s];if(Mo(l,r)&&(l.prioritario<r.prioritario||c<ga(r,o))){if(a.console.log(">>> são concomitantes"),ha(l,r)){a.console.log(">>> continência"),l=null;break}if(l.dataInicial.valueOf()<r.dataInicial.valueOf()){a.console.log(">>> sobra anterior");const g=va(l);g.dataFinal=yr(r.dataInicial),n.push(g)}if(l.dataFinal.valueOf()>r.dataFinal.valueOf())a.console.log(">>> sobra posterior"),l.dataInicial=qo(r.dataFinal);else{a.console.log(">>> descarta-se"),l=null;break}}}l!==null&&n.push(l)}return n.sort((i,l)=>i.dataInicial.valueOf()-l.dataInicial.valueOf())}const $r=["id","dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],Dr=["ID","Início","Término","Descrição","Forma de Contagem","Prioritário","Contar Carência","Fonte","Concomitância"],Ar=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],Ir=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte"],{obterOpcoesFormaDeContagem:Fr}=No(),wr=Fr();function Sr(e){return e==="dataInicial"||e==="dataFinal"?"data":e==="prioritario"||e==="contarCarencia"?"booleano":e==="formaContagem"?"opcoes":"texto"}function Er(e,o,a){return o.nome==="concomitancia"?e===!0?"SIM":"":o.nome==="descricao"||o.nome==="fonte"||o.nome==="id"?e:o.nome==="dataInicial"||o.nome==="dataFinal"?a.data(e):o.nome==="formaContagem"||o.nome==="prioritario"||o.nome==="contarCarencia"?e:`${e}`}function kr(e,o,a){return o.excluido?ge.Celula.Desabilitada:o.formaContagem===ye.NaoComputar||e.nome==="contarCarencia"&&!o.contarCarencia?ge.Celula.Desconsiderada:e.nome==="formaContagem"&&o.formaContagem!==ye.Comum?ge.Celula.ValorIncluidoPeloUsuario:e.nome==="concomitancia"&&a===!0?"text-center bg-red-1 text-red-10":""}function Tr(e){const o={};return e==="formaContagem"&&(o.width="200px"),e==="concomitancia"&&(o.textAlign="center"),o}function Vr(){return $r.map((e,o)=>{const a=e==="formaContagem"?wr:void 0;return{nome:e,rotulo:Dr[o],tipo:Sr(e),editavel:Ir.includes(e),calculada:e==="concomitancia",placeholder:"",opcoes:a}})}function Or(){return Ar}function Pr(e,o,a){return o.map((t,n)=>{const i=t.excluido,l=e.reduce((c,s)=>{const r=s.nome,g=s.nome==="concomitancia"?Ba(n,o):t[r],x=Er(g,s,a),_=i?ge.Celula.Desabilitada:kr(s,t,g),h=Tr(s.nome);return c[s.nome]={valor:g,valorFormatado:x,classes:_,estilos:h},c},{});return{desabilitada:i,celulas:l}})}function ba(e){return{desabilitada:!1,celulas:e.reduce((a,t)=>{const i="",l="",c={};return a[t.nome]={valor:void 0,valorFormatado:i,classes:l,estilos:c},a},{})}}function _a(e,o){return o==="dataInicial"||o==="dataFinal"?new Ne(e).nativo():o==="formaContagem"||o==="prioritario"||o==="contarCarencia"?e:`${e}`}function Ca(){return{dataInicial:void 0,dataFinal:void 0,descricao:"",formaContagem:ye.Comum,contarCarencia:!0,fonte:"",excluido:!1,prioritario:!1}}const qr={class:"q-pl-sm"},Mr=le({__name:"TcPeriodos",setup(e){const o=V(),a=Ge(),t=Ro(),n=uo(),i=Vr(),l=Or(),c=Q(()=>Pr(i,n.lista,t));let s=V(ba(i)),r=Ca();function g(y,E,O){const T=n.obterPorId(y);if(!T)return;let N;try{N=_a(O,E)}catch(Y){a.erro(Y)}if(N!==void 0){if(E==="dataInicial"&&N.valueOf()>T.dataFinal.valueOf()||E==="dataFinal"&&N.valueOf()<T.dataInicial.valueOf())return;n.atualizar(y,{...T,[E]:N})}}function x({linha:y,coluna:E,valor:O}){const T=y.celulas.id.valor;g(T,E,O)}function _({itens:y}){y.forEach(E=>{const{linha:O,valores:T}=E,N=O.celulas.id.valor;Object.entries(T).forEach(([Y,B])=>{g(N,Y,B)})})}function h({linha:y}){n.remover(y.celulas.id.valor)}function D({linha:y}){const E={dataInicial:y.celulas.dataInicial.valor,dataFinal:y.celulas.dataFinal.valor,descricao:y.celulas.descricao.valor,contarCarencia:y.celulas.contarCarencia.valor,excluido:y.celulas.excluido.valor,fonte:y.celulas.fonte.valor,formaContagem:y.celulas.formaContagem.valor,prioritario:y.celulas.prioritario.valor};n.adicionar(E)}function u({linhas:y}){y.forEach(E=>{n.remover(E.celulas.id.valor)})}async function v({valor:y,nomeColuna:E}){const O=E==="fonte";let T;try{ht(y)&&(T=_a(y,E))}catch(N){a.erro(N)}if(T!==void 0?(s.value.celulas[E].valorFormatado=y,r[E]=T):(s.value.celulas[E].valorFormatado="",r[E]=void 0),await de(),O&&r.dataInicial&&r.dataFinal&&r.descricao){if(r.dataInicial.valueOf()>r.dataFinal.valueOf()){const N=r.dataInicial;r.dataInicial=r.dataFinal,r.dataFinal=N}s=V(ba(i)),n.adicionar({...r}),r=Ca()}}function k(y){n.alterarStatusExcluido(y.celulas.id.valor,!0)}function m(y){n.alterarStatusExcluido(y.celulas.id.valor,!1)}return(y,E)=>{const O=yo;return I(),re(br,{ref_key:"planilha",ref:o,"config-colunas":C(i),linhas:C(c),"colunas-visiveis":C(l),"congelar-colunas":0,"nome-arquivo-csv":"VinculosRVT",altura:"auto","tecla-del-remove-linha":!0,"nova-linha":C(s),onAtualizarCelula:x,onAtualizarSelecao:_,onRemoverSelecao:u,onAdicionar:v,onRemoverLinha:h,onNovaLinha:D},{"acoes-primeira-coluna":X(({linha:T})=>[S("div",qr,[T.desabilitada?(I(),re(O,{key:0,round:"",flat:"",icon:"mdiRefresh"in y?y.mdiRefresh:C(xn),size:"sm",title:"Restabelecer vínculo",onClick:N=>m(T)},null,8,["icon","onClick"])):(I(),re(O,{key:1,round:"",flat:"",icon:"mdiCloseThick"in y?y.mdiCloseThick:C($n),size:"sm",color:"red-8",title:"Excluir vínculo",onClick:N=>k(T)},null,8,["icon","onClick"]))])]),_:1},8,["config-colunas","linhas","colunas-visiveis","nova-linha"])}}}),Ra=e=>(ka("data-v-17b9653d"),e=e(),Ta(),e),zr={class:"row justify-between items-center content-center q-mb-sm"},Nr=Ra(()=>S("span",{class:"text-subtitle1 text-bold text-grey-8",style:{"vertical-align":"middle"}},"Área de Transferência",-1)),Lr=Ra(()=>S("div",null,"Cole abaixo o conteúdo copiado (Ctrl-C)",-1)),Br=le({__name:"CecalcImportador",props:{nome:{},rotulo:{},aceitos:{},plugins:{},carregando:{type:Boolean}},emits:["arquivoLido","textoLido","erroTipo","erroOutro"],setup(e,{emit:o}){const a=V(null),t=V(!1);function n(){var r,g;(r=a.value)==null||r.resetValidation(),(g=a.value)==null||g.pickFiles()}async function i(r){if(r=r.replace(/\r\n/g,`
`),typeof r=="string"&&r.length)try{return o("textoLido",r)}catch{o("erroOutro")}}async function l(){i(await window.navigator.clipboard.readText())}function c(r){const x=r.target.value;t.value=!1,i(x)}function s(r){if(r[0].failedPropValidation==="accept")return o("erroTipo");o("erroOutro")}return(r,g)=>{const x=bo,_=yo,h=Co,D=jn,u=bt;return I(),re(u,{class:"column full-width"},{default:X(()=>[M(C(Bn),{ref_key:"picker",ref:a,"model-value":null,class:"col",label:r.rotulo,accept:r.aceitos,square:"",outlined:"","no-error-icon":"","hide-bottom-space":!0,loading:r.carregando,disable:r.carregando,color:"grey-9","bg-color":"grey-1","label-color":"grey-9",title:"Clique para importar um arquivo",onRejected:s,"onUpdate:modelValue":g[2]||(g[2]=v=>o("arquivoLido",v))},{prepend:X(()=>[M(x,{name:"mdiFolderOpen"in r?r.mdiFolderOpen:C(Dn),color:"grey-7 cursor-pointer",title:"Clique para importar um arquivo",onClick:ke(n,["stop","prevent"])},null,8,["name","onClick"])]),append:X(()=>[S("div",null,[M(_,{icon:C(An),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:r.carregando,title:"Abrir caixa de texto"},{default:X(()=>[M(D,{modelValue:C(t),"onUpdate:modelValue":g[1]||(g[1]=v=>Ke(t)?t.value=v:null),class:"q-pa-md"},{default:X(()=>[S("div",zr,[S("div",null,[M(x,{name:C(ia),size:"22px",class:"q-mr-sm",color:"grey-8"},null,8,["name"]),Nr]),M(_,{round:"",flat:"",dense:"",size:"sm",icon:C(In),color:"grey-8",onClick:g[0]||(g[0]=v=>t.value=!1)},null,8,["icon"])]),M(h,{flat:""},{default:X(()=>[Lr,S("textarea",{class:"caixa-colagem",onInput:c},null,32)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"]),M(_,{icon:C(ia),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:r.carregando,title:"Clique para colar da área de transferência",onClick:l},null,8,["icon","disable"])])]),_:1},8,["label","accept","loading","disable"])]),_:1})}}});const Rr=He(Br,[["__scopeId","data-v-17b9653d"]]);function jr(e){const o=new Xn(e);return Fn({script:[{src:_t,onload:()=>{window&&"pdfjsLib"in window&&o.leitorDeArquivo.carregarPdfjs(window.pdfjsLib,Ct)}}]},{mode:"client"}),o}const Ur={class:"row"},Qr={style:{width:"350px"},class:"col"},Kr=le({__name:"TcImportar",props:{modelValue:Boolean},setup(e){const o=Ge(),a=[yt,xt,$t,Dt,At],t=jr(a),{erro:n,confirmacao:i}=Lo(),l=uo(),c=Do(),s=V(!1);function r(u){const{processo:v,citacao:k,ajuizamento:m,autor:y,reu:E}=u;Va(v)&&c.$patch(O=>O.numeroProcesso=v),ve(k)&&c.$patch(O=>O.citacao=k),ve(m)&&c.$patch(O=>O.ajuizamento=m),Te(y)&&c.$patch(O=>O.autor=y),Te(E)&&c.$patch(O=>O.reu=E)}function g(u){u.vinculos.forEach(v=>{const{seq:k,dataInicial:m,dataFinal:y,entidade:E}=v;l.adicionar({dataInicial:m,dataFinal:y??m,descricao:E||"-- não foi possível identificar --",formaContagem:ye.Comum,contarCarencia:!0,fonte:`CNIS (seq. ${k})`,excluido:!1,prioritario:!1})})}function x(u){u.forEach(v=>{const{dataInicial:k,dataFinal:m,descricao:y}=v;l.adicionar({dataInicial:k,dataFinal:m??k,descricao:y,formaContagem:ye.Comum,contarCarencia:!0,fonte:"usuário",excluido:!1,prioritario:!1})})}async function _(u){s.value=!0;let v;try{v=await t.ler(u)}catch(k){return s.value=!1,o.erro(k),n("Erro",k.message)}if(s.value=!1,v&&v.identificado&&Array.isArray(v.quadroResumo)){const k=`Dados identificados: ${v.nome}`,m=v.quadroResumo.map(E=>`${E[0]} <b>${E[1]}</b>`).join("<br>");if(await i(k,m,"Importar")){if(v.nome==="Dados do PJe")return r(v.dadosEstruturados);if(v.nome==="CNIS Completo"||v.nome==="CNIS Vínculos"||v.nome==="Meu INSS")return g(v.dadosEstruturados);if(v.nome==="Tempo de Contribuição (Simples)")return x(v.dadosEstruturados);n("Erro de leitura",`
        Os dados foram reconhecidos, mas não o tipo de documento.
        <br>
        Favor reportar este erro à CECALC, enviando, se possível, uma amostra do documento utilizado.
      `)}}else n("Dados não reconhecidos",`
      Neste site, os dados aceitos são apenas os seguintes:<br>
      <ul>
        <li>capa do processo do PJe;</li>
        <li>CNIS (Meu INSS, PrevJud e vínculos);</li>
        <li>períodos de contribuição simples</li>
      </ul>
    `)}function h(){n("Erro de arquivo",'Somente são permitidos arquivos "pdf" e "txt".')}function D(){n("Falha de leitura","Arquivo/documento inválido.")}return(u,v)=>{const k=Rr;return I(),L("div",Ur,[S("div",Qr,[M(k,{nome:"importar-dados-tc",class:"q-pa-xs",rotulo:"Importar Dados",aceitos:"application/pdf,text/plain",plugins:a,carregando:C(s),onArquivoLido:v[0]||(v[0]=m=>_(m)),onTextoLido:v[1]||(v[1]=m=>_(m)),onErroTipo:v[2]||(v[2]=m=>h()),"onErro:outro":v[3]||(v[3]=m=>D())},null,8,["carregando"])])])}}}),Hr=""+new URL("logo_jfsp_preto.e40a70d5.png",import.meta.url).href;const Gr={},Yr={class:"cecalc-relatorio-logo-container"},Jr=S("div",{class:"cecalc-relatorio-logo-esquerda"},[S("img",{src:Hr,alt:"logo jfsp"}),S("div",{class:"cecalc-relatorio-titulo-logo-texto"},[S("span",null,"Central Unificada de Cálculos Judiciais - CECALC"),S("span",null,"Seção Judiciária de São Paulo")])],-1);function Wr(e,o){return I(),L("div",Yr,[Jr,S("div",null,[_o(e.$slots,"info")])])}const ja=He(Gr,[["render",Wr]]),Xr={class:"cecalc-relatorio-titulo-container"},Zr={class:"cecalc-relatorio-titulo-nome"},Ua=le({__name:"CecalcRelatorioTitulo",props:{titulo:{default:""}},setup(e){return(o,a)=>(I(),L("div",Xr,[S("div",Zr,xe(o.titulo),1)]))}});const el={class:"cecalc-relatorio-subtitulo"},ol=le({__name:"CecalcRelatorioSubtitulo",props:{subtitulo:{default:""}},setup(e){return(o,a)=>(I(),L("div",el,xe(o.subtitulo),1))}});const al={class:"cecalc-relatorio-tabela"},Qa=le({__name:"CecalcRelatorioTabela",props:{titulo:{default:"Demonstrativo"},colunas:{default:()=>[]},linhas:{default:()=>[]}},setup(e){return(o,a)=>{const t=ol;return I(),L(me,null,[M(t,{subtitulo:o.titulo},null,8,["subtitulo"]),S("table",al,[S("thead",null,[S("tr",null,[(I(!0),L(me,null,Fe(o.colunas,n=>(I(),L("th",{key:`coluna-${n.nome}`,class:ee(n.classes),style:ie(n.estilos)},xe(n.rotulo),7))),128))])]),S("tbody",null,[(I(!0),L(me,null,Fe(o.linhas,(n,i)=>(I(),L("tr",{key:`linha-${i}`},[(I(!0),L(me,null,Fe(o.colunas,l=>(I(),L("td",{key:`celula-${i}-${l.nome}`,class:ee(n[l.nome].classes),style:ie(n[l.nome].estilos)},xe(n[l.nome].valor),7))),128))]))),128))])])],64)}}});const tl={class:"cecalc-demonstrativo-pagina-botao-container"},Ka=le({__name:"CecalcRelatorioPagina",props:{paisagem:{type:Boolean}},setup(e){const o=e,a=Da(),t=V();function n(l){Array.from(document.styleSheets).forEach(c=>{if(c.cssRules){const s=document.createElement("style");Array.from(c.cssRules).forEach(r=>{s.append(document.createTextNode(r.cssText))}),l.head.append(s)}else if(c.href){const s=document.createElement("link");s.rel="stylesheet",s.href=c.href,l.head.append(s)}})}function i(){if(!t.value)return;const l=`
  <!DOCTYPE html>
  <html lang="pt-BR">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Demonstrativo ${a.nome}</title>
      <style>
        @page {
          size: a4 ${o.paisagem?"landscape":"portrait"};
        }
      </style>
    </head>
    <body>
      ${t.value.outerHTML}
    </body>
  </html>
  `,c=window.open(" ","_blank");c&&(c.document.write(l),n(c.document),setTimeout(()=>{c.print(),c.close()},50))}return(l,c)=>(I(),L("div",{class:ee(["cecalc-demonstrativo-pagina-container",{paisagem:l.paisagem}])},[S("div",{ref_key:"areaImpressao",ref:t,class:"cecalc-demonstrativo-pagina"},[S("div",tl,[M(C(yo),{"fab-mini":"",dense:"","no-caps":"",icon:"mdiPrinter"in l?l.mdiPrinter:C(wn),color:"white",class:"text-red-10",title:"Imprimir/Salvar em PDF",onClick:i},null,8,["icon"])]),_o(l.$slots,"default")],512)],2))}});function Ha(e,o){return It(e,qo(o),Ft.USNasd)}function zo(e){e=Math.trunc(e);const o=Math.trunc(e/360),a=Math.trunc((e-o*360)/30),t=e-360*o-30*a;return{anos:o,meses:a,dias:t}}function nl(e,o){const a=o[e];return!a.contarCarencia||e===0?!1:o.slice(0,e).some(n=>n.contarCarencia&&wt(a.dataInicial,n.dataFinal))}function il(e,o,a){const t=St(e,o,Bo.Meses);return Math.max(0,t+1-Number(a))}function rl(e,o){if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const{obterFatorConversao:a}=No();return e.map((t,n)=>{const i={...t,fatorConversao:1,sAnos:0,sMeses:0,sDias:0,cAnos:0,cMeses:0,cDias:0,carencia:0};if(!i.excluido&&i.formaContagem!==ye.NaoComputar){const c=Ha(i.dataInicial,i.dataFinal),s=zo(c);i.sAnos=s.anos,i.sMeses=s.meses,i.sDias=s.dias,i.carencia=i.contarCarencia?il(i.dataInicial,i.dataFinal,nl(n,e)):0,i.fatorConversao=a(i.formaContagem,o);const r=zo(c*i.fatorConversao);i.cAnos=r.anos,i.cMeses=r.meses,i.cDias=r.dias}return i})}function ya(e,o){let{anos:a,meses:t,dias:n}=e;return n+=o.dias,t+=o.meses,a+=o.anos,n>=30&&(t+=Math.trunc(n/30),n%=30),t>=12&&(a+=Math.trunc(t/12),t%=12),{anos:a,meses:t,dias:n}}function ko(e,o=!0,a){return e.reduce((t,n)=>{if(a&&n.dataInicial.valueOf()>a.valueOf())return t;if(a&&a.valueOf()>=n.dataInicial.valueOf()&&a.valueOf()<=n.dataFinal.valueOf()){const l=zo(Ha(n.dataInicial,a));return ya(t,l)}const i=o?{anos:n.sAnos,meses:n.sMeses,dias:n.sDias}:{anos:n.cAnos,meses:n.cMeses,dias:n.cDias};return ya(t,i)},{anos:0,meses:0,dias:0})}function ll(){const e=Do(),{sexo:o}=Ea(e),a=uo(),t=Q(()=>xr(a.lista,o.value)),n=Q(()=>rl(t.value,o.value)),i=Q(()=>ko(n.value)),l=Q(()=>ko(n.value,!1)),c=Q(()=>ko(n.value,!0,new Date("1999-06-13")));return{periodosProcessados:t,periodosCalculados:n,tempoComum:i,tempoEspecial:l,tempoComumAte99:c}}const To={Tabela:{Celula:{Desabilitada:"cecalc-relatorio-tabela-celula-desabilitada",Desconsiderada:"cecalc-relatorio-tabela-celula-desconsiderada",ValorIncluidoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-modificado",Atencao:"cecalc-relatorio-tabela-celula-atencao",Verificada:"cecalc-relatorio-tabela-celula-verificada",ValorElevado:"cecalc-relatorio-tabela-celula-valor-elevado",ValorLimitado:"cecalc-relatorio-tabela-celula-valor-limitado"}}},sl=["dataInicial","dataFinal","descricao","formaContagem","fonte","concomitancia"],cl=["Início","Término","Descrição","Forma de Contagem","Fonte","Concomitância"],Ho=["dataInicial","dataFinal"],Go=["sAnos","sMeses","sDias"],Yo=["cAnos","cMeses","cDias"],xa=["Anos","Meses","Dias"],ul=["dataInicial","dataFinal","descricao","formaContagem",...Go,"fatorConversao",...Yo,"carencia","fonte"],dl=["Início","Término","Descrição","Forma de Contagem",...xa,"Fator Conv.",...xa,"Carência","Fonte"];function Ga(e){return Ho.includes(e)||e==="concomitancia"?{width:"70px"}:e==="descricao"||e==="fonte"?{width:"100%"}:e==="formaContagem"?{width:"100px"}:e==="fatorConversao"||Go.includes(e)||Yo.includes(e)?{width:"50px"}:{}}function Ya(e){return Ho.includes(e)||e==="fonte"||e==="concomitancia"?{width:"70px",textAlign:"center"}:e==="descricao"||e==="fonte"?{width:"100%",textAlign:"left"}:e==="formaContagem"?{width:"100px",textAlign:"center"}:e==="fatorConversao"?{width:"50px",textAlign:"center"}:e==="carencia"||Go.includes(e)||Yo.includes(e)?{width:"50px",textAlign:"right"}:{}}function Ja(e,o,a=!1){return e.nome==="concomitancia"&&a?To.Tabela.Celula.Atencao:o.formaContagem===ye.NaoComputar||o.excluido?To.Tabela.Celula.Desabilitada:o.formaContagem!==ye.Comum?To.Tabela.Celula.ValorIncluidoPeloUsuario:""}function Wa(e,o,a,t){return Ho.includes(o.nome)?t.data(e):o.nome==="formaContagem"?t.formaContagem(e):o.nome==="fatorConversao"?t.numero(e,2):`${e??""}`}function ml(){return sl.map((e,o)=>({nome:e,rotulo:cl[o],classes:"",estilos:Ga(e)}))}function fl(e,o,a){return o.map((t,n)=>{const i=Ba(n,o);return e.reduce((l,c)=>{const s=c.nome,r=c.nome==="concomitancia"?i?"Sim":"":Wa(t[s],c,t,a),g=Ja(c,t,i),x=Ya(c.nome);return l[c.nome]={valor:r,classes:g,estilos:x},l},{})})}function pl(){return ul.map((e,o)=>({nome:e,rotulo:dl[o],classes:"",estilos:Ga(e)}))}function vl(e,o,a){return o.map(t=>e.reduce((n,i)=>{const l=i.nome,c=Wa(t[l],i,t,a),s=Ja(i,t),r=Ya(i.nome);return n[i.nome]={valor:c,classes:s,estilos:r},n},{}))}const gl={style:{width:"100%",display:"flex","flex-direction":"column","align-items":"flex-end"}},hl=S("div",null,"Tempo Comum",-1),bl=S("div",null,"Tempo Especial",-1),_l=S("div",null,"Tempo Comum Até 1999",-1),Cl=le({__name:"TcDemonstrativo",setup(e){const o=ll(),a=Ro(),t=V(""),n=pl(),i=Q(()=>{try{return t.value="",vl(n,o.periodosCalculados.value,a)}catch(l){return t.value=l.message,[]}});return(l,c)=>{const s=ja,r=Ua,g=Qa,x=Ka;return I(),L("div",null,[M(x,{paisagem:!0},{default:X(()=>[M(s),M(r,{titulo:"Cálculo de Tempo de Contribuição"}),M(g,{titulo:"Períodos Calculados",colunas:C(n),linhas:C(i)},null,8,["colunas","linhas"]),S("div",gl,[hl,S("div",null,xe(C(a).tempoDeContribuicao(C(o).tempoComum.value)),1),bl,S("div",null,xe(C(a).tempoDeContribuicao(C(o).tempoEspecial.value)),1),_l,S("div",null,xe(C(a).tempoDeContribuicao(C(o).tempoComumAte99.value)),1)])]),_:1})])}}}),yl=le({__name:"TcEspelho",setup(e){const o=uo(),a=Ro(),t=ml(),n=Q(()=>fl(t,o.lista,a));return(i,l)=>{const c=ja,s=Ua,r=Qa,g=Ka;return I(),L("div",null,[M(g,{paisagem:!1},{default:X(()=>[M(c),M(s,{titulo:"Tempo de Contribuição Informado (Espelho)"}),M(r,{titulo:"Períodos Informados",colunas:C(t),linhas:C(n)},null,8,["colunas","linhas"])]),_:1})])}}}),xl={class:"row items-center q-pa-md"},$l={class:"row items-center col-xl-10 col-lg-10 col-md-9 col-sm-9 col-xs-12"},Dl={class:"row col-xl-2 col-lg-2 col-md-3 col-sm-3 col-xs-12"},Al={class:"q-px-sm"},Il=le({__name:"TcPrincipal",setup(e){const o=V(),a=V(),t=V(),n=V(),i=V(!1),l=Q(()=>i.value?"auto":"calc(100vh - 350px)"),c=V("parametros"),s=Sn();function r(){o.value&&o.value.$el&&(i.value=!i.value,s.fullscreen.toggle(o.value.$el))}async function g(x){await de(),x==="espelho"?t.value&&t.value.$el&&t.value.$el.focus():n.value&&n.value.$el&&n.value.$el.focus()}return(x,_)=>{const h=Et,D=yo,u=kt,v=Tt,k=Vt,m=Ai,y=Ii,E=Ot,O=Mr,T=Pt;return I(),re(C(Co),{ref_key:"container",ref:o,flat:"",bordered:"",square:"",class:"scroll overflow-auto"},{default:X(()=>[S("div",xl,[S("div",$l,[M(Kr,{ref_key:"importador",ref:a},null,512)]),S("div",Dl,[M(h),S("div",null,[M(D,{color:"grey-4","text-color":"grey-8",round:"",flat:"",icon:C(i)?C(En):C(kn),title:C(i)?"Clique para retornar ao tamanho normal":"Clique para expandir a planilha",onClick:r},null,8,["icon","title"])])])]),S("div",Al,[M(k,null,{default:X(()=>[M(v,{modelValue:C(c),"onUpdate:modelValue":_[2]||(_[2]=N=>Ke(c)?c.value=N:null),dense:"","no-caps":"",align:"left","indicator-color":"blue-10","active-color":"blue-10","active-bg-color":"blue-1",class:"q-mx-md","left-icon":C(Tn),"right-icon":C(Vn)},{default:X(()=>[M(u,{name:"parametros",label:"Parâmetros",ripple:!1}),M(u,{name:"periodos",label:"Períodos",ripple:!1}),M(u,{name:"espelho",label:"Espelho",ripple:!1,onClick:_[0]||(_[0]=N=>g("espelho"))}),M(u,{name:"demonstrativo",label:"Demonstrativo",ripple:!1,onClick:_[1]||(_[1]=N=>g("demonstrativo"))})]),_:1},8,["modelValue","left-icon","right-icon"])]),_:1}),M(T,{modelValue:C(c),"onUpdate:modelValue":_[3]||(_[3]=N=>Ke(c)?c.value=N:null),"keep-alive":""},{default:X(()=>[M(E,{name:"parametros",style:ie({height:C(l)})},{default:X(()=>[M(y,null,{default:X(()=>[M(m)]),_:1})]),_:1},8,["style"]),M(E,{name:"periodos",style:ie({height:C(l)})},{default:X(()=>[M(y,null,{default:X(()=>[M(O)]),_:1})]),_:1},8,["style"]),M(E,{name:"espelho",style:ie({height:C(l)})},{default:X(()=>[M(y,null,{default:X(()=>[M(yl,{ref_key:"espelho",ref:t,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"]),M(E,{name:"demonstrativo",style:ie({height:C(l)})},{default:X(()=>[M(y,null,{default:X(()=>[M(Cl,{ref_key:"demonstrativo",ref:n,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])])]),_:1},512)}}});function Fl(){const e=Da(),o=Ma(),a=uo(),t=Do();function n(){return a.temDadosCarregados()||t.temDadosCarregados()}function i(){a.reiniciar(),t.reiniciar(),t.numeroProcesso=""}function l(){const s={calculo:e.nome,versao:e.versao,timestamp:new Date().toISOString(),dados:{periodos:a.registros,parametros:{numeroProcesso:t.numeroProcesso,citacao:t.citacao,ajuizamento:t.ajuizamento,autor:t.autor,reu:t.reu,sexo:t.sexo,nascimento:t.nascimento,nb:t.nb,especie:t.especie,der:t.der,rural:t.rural,deficiente:t.deficiente,marcoCarencia:t.marcoCarencia,permitirConversaoAposEc103:t.permitirConversaoAposEc103,carenciaNecessariaAposEc103:t.carenciaNecessariaAposEc103,grauPreponderanteDeficiencia:t.grauPreponderanteDeficiencia,inicioPrimeiraDeficiencia:t.inicioPrimeiraDeficiencia,requisitoB41Deficiencia:t.requisitoB41Deficiencia,converterPeriodosB41Deficiencia:t.converterPeriodosB41Deficiente}}},r=JSON.stringify(s),g=(t.numeroProcesso||t.autor||"n_id").replace(/[\s.-]/g,"_");o.salvar(r,`TC_${g}.cecalc`)}async function c(s){const r=await o.abrir(s,n());if(r&&r.dados&&(i(),r.dados.periodos&&a.atualizarTodos(r.dados.periodos),r.dados.parametros)){const{numeroProcesso:g,citacao:x,ajuizamento:_,autor:h,reu:D,sexo:u,nascimento:v,nb:k,especie:m,der:y,rural:E,deficiente:O,marcoCarencia:T,permitirConversaoAposEc103:N,carenciaNecessariaAposEc103:Y,grauPreponderanteDeficiencia:B,inicioPrimeiraDeficiencia:G,requisitoB41Deficiencia:se,converterPeriodosB41Deficiente:Ce}=r.dados.parametros;t.numeroProcesso=g||"",t.citacao=x||null,t.ajuizamento=_||null,t.autor=h||"",t.reu=D||"",t.sexo=u||p.Feminino,t.nascimento=v||null,t.nb=k||"",t.especie=m||ho.AposentadoriaPorTempoDeContribuicao,t.der=y||null,t.rural=E||!1,t.deficiente=O||!1,t.marcoCarencia=T||oo.ImplementoIdade,t.permitirConversaoAposEc103=N??!1,t.carenciaNecessariaAposEc103=Y??!1,t.grauPreponderanteDeficiencia=B??Ze.DeficienciaLeve,t.inicioPrimeiraDeficiencia=G||null,t.requisitoB41Deficiencia=se||Vo.Art70CRegulamento,t.converterPeriodosB41Deficiente=Ce??!0}}return{temDadosCarregados:n,limparDados:i,salvar:l,abrir:c}}const kl=le({__name:"index",setup(e){const o=Fl();function a(){return o.temDadosCarregados()}function t(){o.limparDados()}function n(){o.salvar()}function i(l){o.abrir(l)}return(l,c)=>{const s=Il,r=qt;return I(),re(r,{"cb-tem-dados-carregados":a,"cb-novo-calculo":t,"cb-salvar-calculo":n,"cb-recuperar-calculo":i},{calculo:X(()=>[M(s)]),_:1})}}});export{kl as default};
