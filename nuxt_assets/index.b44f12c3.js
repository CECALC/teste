var Za=Object.defineProperty;var et=(e,o,a)=>o in e?Za(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var So=(e,o,a)=>(et(e,typeof o!="symbol"?o+"":o,a),a);import{a as ot,b as Xo,c as Eo,h as at,d as tt,u as nt,e as it,f as xa,t as rt,g as Ve,i as Te,L as lt,A as st,j as ct,k as ve,C as Ne,v as ut,E as ho,S as p,G as Ze,F as To,l as dt,m as qo,o as mt,n as ft,p as Mo,q as pt,r as ye,D as zo,s as vt,w as No,x as gt,y as ht,z as bt,P as _t,M as Ct,B as yt,H as xt,T as $t,I as $a,J as Dt,K as At,N as Zo,O as It,Q as Ft,R as wt,U as St,V as Et,W as kt,X as Tt,_ as Vt}from"./CecalcPrincipal.vue.380c7b9a.js";import{A as ao,B as Da,C as to,D as Aa,c as H,e as ae,E as Lo,b as Bo,T as Ot,F as Pt,G as Ia,H as qt,I as Mt,r as T,J as ea,K as zt,L as qe,M as Vo,N as Re,O as Nt,P as bo,Q as co,R as Lt,S as Bt,U as Rt,V as jt,W as Ut,X as Qt,Y as Kt,Z as Ht,$ as oa,a0 as Fa,a1 as Gt,a2 as Yt,a3 as Jt,a4 as Wt,a5 as Xt,a6 as Zt,o as no,a7 as en,a8 as de,a9 as on,aa as an,d as le,k as I,z as re,ab as x,ac as Ke,ad as ie,ae as ee,l as L,af as me,ag as Fe,ah as tn,q as M,ai as nn,aj as rn,s as X,m as V,t as Ae,ak as eo,al as ln,am as Co,an as wa,ao as Sa,ap as sn,aq as cn,_ as He,ar as un,as as dn,at as ke,au as mn,av as aa,aw as fn,ax as pn,ay as vn,az as gn,aA as hn,x as Ea,y as ka,aB as Ge,aC as ze,aD as bn,aE as _o,aF as _n,aG as Cn,aH as yo,aI as yn,aJ as xn,aK as ta,aL as $n,j as Dn,aM as An,aN as In,aO as Fn,aP as wn,aQ as Sn,aR as En}from"./entry.0ec536da.js";const kn=ao({name:"QBar",props:{...Da,dense:Boolean},setup(e,{slots:o}){const{proxy:{$q:a}}=to(),t=Aa(e,a),n=H(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${t.value===!0?"dark":"light"}`);return()=>ae("div",{class:n.value,role:"toolbar"},Lo(o.default))}}),Tn=ao({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:a}){let t=!1,n,i,l=null,c=null,s,r;function g(){n&&n(),n=null,t=!1,l!==null&&(clearTimeout(l),l=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",s),s=null}function y(u,v,E){v!==void 0&&(u.style.height=`${v}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,n=E}function _(u,v){u.style.overflowY=null,u.style.height=null,u.style.transition=null,g(),v!==r&&a(v)}function h(u,v){let E=0;i=u,t===!0?(g(),E=u.offsetHeight===u.scrollHeight?0:void 0):(r="hide",u.style.overflowY="hidden"),y(u,E,v),l=setTimeout(()=>{l=null,u.style.height=`${u.scrollHeight}px`,s=m=>{c=null,(Object(m)!==m||m.target===u)&&_(u,"show")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}function D(u,v){let E;i=u,t===!0?g():(r="show",u.style.overflowY="hidden",E=u.scrollHeight),y(u,E,v),l=setTimeout(()=>{l=null,u.style.height=0,s=m=>{c=null,(Object(m)!==m||m.target===u)&&_(u,"hide")},u.addEventListener("transitionend",s),c=setTimeout(s,e.duration*1.1)},100)}return Bo(()=>{t===!0&&g()}),()=>ae(Ot,{css:!1,appear:e.appear,onEnter:h,onLeave:D},o.default)}}),Qe=Pt({}),Vn=Object.keys(Ia),On=ao({name:"QExpansionItem",props:{...Ia,...qt,...Da,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Mt,"click","afterShow","afterHide"],setup(e,{slots:o,emit:a}){const{proxy:{$q:t}}=to(),n=Aa(e,t),i=T(e.modelValue!==null?e.modelValue:e.defaultOpened),l=T(null),c=ea(),{show:s,hide:r,toggle:g}=zt({showing:i});let y,_;const h=H(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),D=H(()=>e.contentInsetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),u=H(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),v=H(()=>{const A={};return Vn.forEach(J=>{A[J]=e[J]}),A}),E=H(()=>u.value===!0||e.expandIconToggle!==!0),m=H(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||t.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),C=H(()=>e.disable!==!0&&(u.value===!0||e.expandIconToggle===!0)),S=H(()=>({expanded:i.value===!0,detailsId:e.targetUid,toggle:g,show:s,hide:r})),O=H(()=>{const A=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:t.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c,"aria-label":A}});qe(()=>e.group,A=>{_!==void 0&&_(),A!==void 0&&se()});function k(A){u.value!==!0&&g(A),a("click",A)}function N(A){A.keyCode===13&&Y(A,!0)}function Y(A,J){J!==!0&&l.value!==null&&l.value.focus(),g(A),co(A)}function B(){a("afterShow")}function G(){a("afterHide")}function se(){y===void 0&&(y=ea()),i.value===!0&&(Qe[e.group]=y);const A=qe(i,ue=>{ue===!0?Qe[e.group]=y:Qe[e.group]===y&&delete Qe[e.group]}),J=qe(()=>Qe[e.group],(ue,Ie)=>{Ie===y&&ue!==void 0&&ue!==y&&r()});_=()=>{A(),J(),Qe[e.group]===y&&delete Qe[e.group],_=void 0}}function Ce(){const A={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},J=[ae(bo,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:m.value})];return C.value===!0&&(Object.assign(A,{tabindex:0,...O.value,onClick:Y,onKeyup:N}),J.unshift(ae("div",{ref:l,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ae(Eo,A,()=>J)}function xe(){let A;return o.header!==void 0?A=[].concat(o.header(S.value)):(A=[ae(Eo,()=>[ae(Xo,{lines:e.labelLines},()=>e.label||""),e.caption?ae(Xo,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&A[e.switchToggleSide===!0?"push":"unshift"](ae(Eo,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>ae(bo,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&A[e.switchToggleSide===!0?"unshift":"push"](Ce()),A}function he(){const A={ref:"item",style:e.headerStyle,class:e.headerClass,dark:n.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return E.value===!0&&(A.clickable=!0,A.onClick=k,Object.assign(A,u.value===!0?v.value:O.value)),ae(ot,A,xe)}function we(){return Re(ae("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:D.value,id:c},Lo(o.default)),[[Nt,i.value]])}function Se(){const A=[he(),ae(Tn,{duration:e.duration,onShow:B,onHide:G},we)];return e.expandSeparator===!0&&A.push(ae(Vo,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:n.value}),ae(Vo,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:n.value})),A}return e.group!==void 0&&se(),Bo(()=>{_!==void 0&&_()}),()=>ae("div",{class:h.value},[ae("div",{class:"q-expansion-item__container relative-position"},Se())])}});function Xe(e,o,a,t){const n=[];return e.forEach(i=>{t(i)===!0?n.push(i):o.push({failedPropValidation:a,file:i})}),n}function vo(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),co(e)}const Pn={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},qn=["rejected"];function Mn({editable:e,dnd:o,getFileInput:a,addFilesToQueue:t}){const{props:n,emit:i,proxy:l}=to(),c=T(null),s=H(()=>n.accept!==void 0?n.accept.split(",").map(m=>(m=m.trim(),m==="*"?"*/":(m.endsWith("/*")&&(m=m.slice(0,m.length-1)),m.toUpperCase()))):null),r=H(()=>parseInt(n.maxFiles,10)),g=H(()=>parseInt(n.maxTotalSize,10));function y(m){if(e.value)if(m!==Object(m)&&(m={target:null}),m.target!==null&&m.target.matches('input[type="file"]')===!0)m.clientX===0&&m.clientY===0&&Lt(m);else{const C=a();C&&C!==m.target&&C.click(m)}}function _(m){e.value&&m&&t(null,m)}function h(m,C,S,O){let k=Array.from(C||m.target.files);const N=[],Y=()=>{N.length!==0&&i("rejected",N)};if(n.accept!==void 0&&s.value.indexOf("*/")===-1&&(k=Xe(k,N,"accept",B=>s.value.some(G=>B.type.toUpperCase().startsWith(G)||B.name.toUpperCase().endsWith(G))),k.length===0))return Y();if(n.maxFileSize!==void 0){const B=parseInt(n.maxFileSize,10);if(k=Xe(k,N,"max-file-size",G=>G.size<=B),k.length===0)return Y()}if(n.multiple!==!0&&k.length!==0&&(k=[k[0]]),k.forEach(B=>{B.__key=B.webkitRelativePath+B.lastModified+B.name+B.size}),O===!0){const B=S.map(G=>G.__key);k=Xe(k,N,"duplicate",G=>B.includes(G.__key)===!1)}if(k.length===0)return Y();if(n.maxTotalSize!==void 0){let B=O===!0?S.reduce((G,se)=>G+se.size,0):0;if(k=Xe(k,N,"max-total-size",G=>(B+=G.size,B<=g.value)),k.length===0)return Y()}if(typeof n.filter=="function"){const B=n.filter(k);k=Xe(k,N,"filter",G=>B.includes(G))}if(n.maxFiles!==void 0){let B=O===!0?S.length:0;if(k=Xe(k,N,"max-files",()=>(B++,B<=r.value)),k.length===0)return Y()}if(Y(),k.length!==0)return k}function D(m){vo(m),o.value!==!0&&(o.value=!0)}function u(m){co(m),(m.relatedTarget!==null||Bt.is.safari!==!0?m.relatedTarget!==c.value:document.elementsFromPoint(m.clientX,m.clientY).includes(c.value)===!1)===!0&&(o.value=!1)}function v(m){vo(m);const C=m.dataTransfer.files;C.length!==0&&t(null,C),o.value=!1}function E(m){if(o.value===!0)return ae("div",{ref:c,class:`q-${m}__dnd absolute-full`,onDragenter:vo,onDragover:vo,onDragleave:u,onDrop:v})}return Object.assign(l,{pickFiles:y,addFiles:_}),{pickFiles:y,addFiles:_,onDragover:D,onDragleave:u,processFiles:h,getDndNode:E,maxFilesNumber:r,maxTotalSizeNumber:g}}const zn=ao({name:"QFile",inheritAttrs:!1,props:{...Rt,...jt,...Pn,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ut,...qn],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=to(),i=Qt(),l=T(null),c=T(!1),s=Kt(e),{pickFiles:r,onDragover:g,onDragleave:y,processFiles:_,getDndNode:h}=Mn({editable:i.editable,dnd:c,getFileInput:Ce,addFilesToQueue:xe}),D=Ht(e),u=H(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),v=H(()=>oa(u.value)),E=H(()=>u.value.map(A=>A.name).join(", ")),m=H(()=>at(u.value.reduce((A,J)=>A+J.size,0))),C=H(()=>({totalSize:m.value,filesNumber:u.value.length,maxFiles:e.maxFiles})),S=H(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...t,id:i.targetUid.value,disabled:i.editable.value!==!0})),O=H(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),k=H(()=>e.multiple===!0&&e.append===!0);function N(A){const J=u.value.slice();J.splice(A,1),B(J)}function Y(A){const J=u.value.indexOf(A);J>-1&&N(J)}function B(A){a("update:modelValue",e.multiple===!0?A:A[0])}function G(A){A.keyCode===13&&Yt(A)}function se(A){(A.keyCode===13||A.keyCode===32)&&r(A)}function Ce(){return l.value}function xe(A,J){const ue=_(A,J,u.value,k.value),Ie=Ce();Ie!=null&&(Ie.value=""),ue!==void 0&&((e.multiple===!0?e.modelValue&&ue.every(Le=>u.value.includes(Le)):e.modelValue===ue[0])||B(k.value===!0?u.value.concat(ue):ue))}function he(){return[ae("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function we(){if(o.file!==void 0)return u.value.length===0?he():u.value.map((J,ue)=>o.file({index:ue,file:J,ref:this}));if(o.selected!==void 0)return u.value.length===0?he():o.selected({files:u.value,ref:this});if(e.useChips===!0)return u.value.length===0?he():u.value.map((J,ue)=>ae(tt,{key:"file-"+ue,removable:i.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{N(ue)}},()=>ae("span",{class:"ellipsis",textContent:J.name})));const A=e.displayValue!==void 0?e.displayValue:E.value;return A.length!==0?[ae("div",{class:e.inputClass,style:e.inputStyle,textContent:A})]:he()}function Se(){const A={ref:l,...S.value,...D.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:xe};return e.multiple===!0&&(A.multiple=!0),ae("input",A)}return Object.assign(i,{fieldClass:O,emitValue:B,hasValue:v,inputRef:l,innerValue:u,floatingLabel:H(()=>v.value===!0||oa(e.displayValue)),computedCounter:H(()=>{if(e.counterLabel!==void 0)return e.counterLabel(C.value);const A=e.maxFiles;return`${u.value.length}${A!==void 0?" / "+A:""} (${m.value})`}),getControlChild:()=>h("file"),getControl:()=>{const A={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return i.editable.value===!0&&Object.assign(A,{onDragover:g,onDragleave:y,onKeydown:G,onKeyup:se}),ae("div",A,[Se()].concat(we()))}}),Object.assign(n,{removeAtIndex:N,removeFile:Y,getNativeElement:()=>l.value}),Fa(n,"nativeEl",()=>l.value),Gt(i)}}),Nn=ao({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const t=to(),n=T(null);let i=0;const l=[];function c(h){const D=typeof h=="boolean"?h:e.noErrorFocus!==!0,u=++i,v=(C,S)=>{a("validation"+(C===!0?"Success":"Error"),S)},E=C=>{const S=C.validate();return typeof S.then=="function"?S.then(O=>({valid:O,comp:C}),O=>({valid:!1,comp:C,err:O})):Promise.resolve({valid:S,comp:C})};return(e.greedy===!0?Promise.all(l.map(E)).then(C=>C.filter(S=>S.valid!==!0)):l.reduce((C,S)=>C.then(()=>E(S).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(C=>[C])).then(C=>{if(C===void 0||C.length===0)return u===i&&v(!0),!0;if(u===i){const{comp:S,err:O}=C[0];if(O!==void 0&&console.error(O),v(!1,S),D===!0){const k=C.find(({comp:N})=>typeof N.focus=="function"&&en(N.$)===!1);k!==void 0&&k.comp.focus()}}return!1})}function s(){i++,l.forEach(h=>{typeof h.resetValidation=="function"&&h.resetValidation()})}function r(h){h!==void 0&&co(h);const D=i+1;c().then(u=>{D===i&&u===!0&&(e.onSubmit!==void 0?a("submit",h):h!==void 0&&h.target!==void 0&&typeof h.target.submit=="function"&&h.target.submit())})}function g(h){h!==void 0&&co(h),a("reset"),de(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){on(()=>{if(n.value===null)return;const h=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),D=>D.tabIndex>-1);h!=null&&h.focus({preventScroll:!0})})}Jt(Wt,{bindComponent(h){l.push(h)},unbindComponent(h){const D=l.indexOf(h);D>-1&&l.splice(D,1)}});let _=!1;return Xt(()=>{_=!0}),Zt(()=>{_===!0&&e.autofocus===!0&&y()}),no(()=>{e.autofocus===!0&&y()}),Object.assign(t.proxy,{validate:c,resetValidation:s,submit:r,reset:g,focus:y,getValidationComponents:()=>l}),()=>ae("form",{class:"q-form",ref:n,onSubmit:r,onReset:g},Lo(o.default))}}),Ln=ao({name:"QPopupProxy",props:{...nt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:o,emit:a,attrs:t}){const{proxy:n}=to(),{$q:i}=n,l=T(!1),c=T(null),s=H(()=>parseInt(e.breakpoint,10)),{canShow:r}=it({showing:l});function g(){return i.screen.width<s.value||i.screen.height<s.value?"dialog":"menu"}const y=T(g()),_=H(()=>y.value==="menu"?{maxHeight:"99vh"}:{});qe(()=>g(),u=>{l.value!==!0&&(y.value=u)});function h(u){l.value=!0,a("show",u)}function D(u){l.value=!1,y.value=g(),a("hide",u)}return Object.assign(n,{show(u){r(u)===!0&&c.value.show(u)},hide(u){c.value.hide(u)},toggle(u){c.value.toggle(u)}}),Fa(n,"currentComponent",()=>({type:y.value,ref:c.value})),()=>{const u={ref:c,..._.value,...t,onShow:h,onHide:D};let v;return y.value==="dialog"?v=an:(v=xa,Object.assign(u,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),ae(v,u,o.default)}}});function na(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Bn(e,o,a={}){const{mimeType:t,byteOrderMark:n,encoding:i}=typeof a=="string"?{mimeType:a}:a,l=i!==void 0?new TextEncoder(i).encode([o]):o,c=n!==void 0?[n,l]:[l],s=new Blob(c,{type:t||"application/octet-stream"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.setAttribute("download",e),typeof r.download>"u"&&r.setAttribute("target","_blank"),r.classList.add("hidden"),r.style.position="fixed",document.body.appendChild(r);try{return r.click(),na(r),!0}catch(g){return na(r),g}}function ia(e){return rt(e)==="function"}function Ta(e){const o=e.replace(/[.-]/g,"");if(o.length<20)return!1;const a=o.slice(0,7),t=o.slice(7,9),n=o.slice(9,13),i=o.slice(13,14),l=o.slice(14,16),c=o.slice(16,20),g=+`${+`${Number(a)%97}${n}${i}${l}`%97}${c}00`%97;return Number(t)===98-g}function Va(e,o="cpf"){const a=Rn(e,o);if(Array.isArray(a)){const t=jn(a.length);if(Array.isArray(t)){const n=a.slice(0,-2),[i,l]=a.slice(-2);return ra(n,t.slice(1))===i&&ra(n.concat(i),t)===l}return!1}return!1}function Rn(e,o){if(Ve(e)&&(e=e.toString()),!Te(e))return!1;e=e.replace(/[^\d]+/g,"");const a=o==="cnpj"?14:11;return e.length!==a||[...Array(a-1).keys()].map(n=>String(n).repeat(a)).includes(e)?!1:e.split("").map(Number)}function jn(e){const o={cpf:[11,10,9,8,7,6,5,4,3,2],cnpj:[6,5,4,3,2,9,8,7,6,5,4,3,2]};return e===11?o.cpf:e===14?o.cnpj:!1}function ra(e,o){return e.map((n,i)=>n*o[i]).reduce((n,i)=>n+=i,0)*10%11%10}function Un(e){return Va(e,"cnpj")}function Qn(e){return Va(e,"cpf")}function Kn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}const Hn=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;function Ro(e,o){return typeof o=="string"&&Hn.test(o)?new Date(o):o}function Gn(e,o=0){const a=e.toString(),[t,n]=a.split(".");if(!Number(n)||n.length===o||o<0)return e;if(o===0&&Number(t)===0)return 0;if(o===0)return Number(t);const i=(n+Array(o).join("0")).slice(0,o);return+`${t}.${i}`}function la(e){if(!Te(e))throw new Error("A função aceita somente strings!");return e.replace(/[áàãâä]/g,"a").replace(/[ÁÀÃÂÄ]/g,"A").replace(/[éèêë]/g,"e").replace(/[ÉÈÊË]/g,"E").replace(/[íìîï]/g,"i").replace(/[ÍÌÎÏ]/g,"I").replace(/[óòôõö]/g,"o").replace(/[ÓÒÔÖÕ]/g,"O").replace(/[úùüû]/g,"u").replace(/[ÚÙÜÛ]/g,"U").replace(/[ýÿ]/g,"y").replace(/[Ý]/g,"Y").replace(/[ñ]/g,"n").replace(/[Ñ]/g,"N").replace(/[ç]/g,"c").replace(/[Ç]/g,"C")}class Yn{constructor(o){So(this,"_analisador");So(this,"_leitorDeArquivo");this._leitorDeArquivo=new lt,this._analisador=new st(o)}get leitorDeArquivo(){return this._leitorDeArquivo}async ler(o){this._analisador.reiniciar();let a;if(o instanceof File){if(!this.leitorDeArquivo.ativo)throw new Error("O leitor de arquivos não está carregado.");const t=await this.leitorDeArquivo.ler(o);if(!t)throw new Error("Falha ao ler o arquivo.");a=t.texto}else a=o||"";return this._analisador.analisar(a),{identificado:this._analisador.identificado,nome:this._analisador.nome,quadroResumo:this._analisador.quadroResumo,dadosEstruturados:this._analisador.dadosEstruturados,texto:a}}}var oo=(e=>(e[e.ImplementoIdade=0]="ImplementoIdade",e[e.DerDda=1]="DerDda",e))(oo||{});const Jn=le({__name:"CecalcSelecao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=T(a.modelValue),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo;return qe(()=>a.modelValue,i=>{t.value=i}),(i,l)=>{const c=ct;return I(),re(c,{modelValue:x(t),"onUpdate:modelValue":[l[0]||(l[0]=s=>Ke(t)?t.value=s:null),l[1]||(l[1]=s=>o("update:model-value",s))],options:i.parametros.opcoes,name:i.parametros.nome,for:i.parametros.nome,label:x(n),readonly:i.parametros.somenteLeitura===!0,disable:i.parametros.desabilitado===!0,style:ie(i.parametros.estilos),class:ee(i.parametros.classes),"label-color":i.parametros.obrigatorio===!0?"orange-10":"","bg-color":i.parametros.obrigatorio===!0?"orange-1":"",color:i.parametros.obrigatorio===!0?"orange-10":"",outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":"","option-label":"rotulo","option-value":"valor","emit-value":"","map-options":"","item-aligned":""},null,8,["modelValue","options","name","for","label","readonly","disable","style","class","label-color","bg-color","color"])}}}),Wn={class:"q-gutter-sm"},Xn=le({__name:"CecalcRadio",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=T(a.modelValue);return qe(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const l=tn;return I(),L("div",Wn,[(I(!0),L(me,null,Fe(n.parametros.opcoes,c=>(I(),re(l,{key:`${c.value}`,modelValue:x(t),"onUpdate:modelValue":[i[0]||(i[0]=s=>Ke(t)?t.value=s:null),i[1]||(i[1]=s=>o("update:model-value",s))],name:n.parametros.nome,for:n.parametros.nome,val:c.value,label:c.label,disable:n.parametros.desabilitado===!0,style:ie(n.parametros.estilos),class:ee(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","val","label","disable","style","class"]))),128))])}}}),Zn={class:"q-gutter-sm"},ei=le({__name:"CecalcOpcao",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=T(a.modelValue);return qe(()=>a.modelValue,n=>{t.value=n}),(n,i)=>{const l=nn;return I(),L("div",Zn,[M(l,{modelValue:x(t),"onUpdate:modelValue":[i[0]||(i[0]=c=>Ke(t)?t.value=c:null),i[1]||(i[1]=c=>o("update:model-value",c))],name:n.parametros.nome,for:n.parametros.nome,label:n.parametros.rotulo,disable:n.parametros.desabilitado===!0,style:ie(n.parametros.estilos),class:ee(n.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","hide-bottom-space":""},null,8,["modelValue","name","for","label","disable","style","class"])])}}});var ne=(e=>(e[e.Entrada=0]="Entrada",e[e.Selecao=1]="Selecao",e[e.Radio=2]="Radio",e[e.Opcao=3]="Opcao",e))(ne||{}),ce=(e=>(e[e.Data=0]="Data",e[e.Competencia=1]="Competencia",e[e.Texto=2]="Texto",e[e.Numero=3]="Numero",e[e.Percentual=4]="Percentual",e[e.Moeda=5]="Moeda",e[e.NumeroProcesso=6]="NumeroProcesso",e[e.Cpf=7]="Cpf",e))(ce||{});function xo(e,o){return Ve(e)&&Ve(o)?e>=o:!1}function $o(e,o){return Ve(e)&&Ve(o)?e<=o:!1}function jo(e,o,a){return xo(e,o)&&$o(e,a)}function oi(e,o){return Te(e)&&Ve(o)?xo(e.length,o):!1}function ai(e,o){return Te(e)&&Ve(o)?$o(e.length,o):!1}function ti(e,o,a){return Te(e)&&Ve(o)&&Ve(a)?jo(e.length,o,a):!1}function ni(e,o){return ve(e)&&ve(o)?xo(e.valueOf(),o.valueOf()):!1}function ii(e,o){return ve(e)&&ve(o)?$o(e.valueOf(),o.valueOf()):!1}function ri(e,o,a){return ve(e)&&ve(o)&&ve(a)?jo(e.valueOf(),o.valueOf(),a.valueOf()):!1}function li(e){return new Ne(e).dataValida()}const De=e=>e===""||e===void 0||e===null,sa={obrigatorio(e){return o=>!!o||e||"Campo obrigatório"},regex(e,o){return a=>De(a)||e.test(a)||o||"Formato inválido"},dataValida(e){return o=>De(o)||li(o)||e||"Data inválida"},numeroEntre(e,o,a){return t=>De(t)||jo(t,e,o)||a||`Deve estar entre ${e} e ${o}`},numeroMaiorOuIgual(e,o){return a=>De(a)||xo(a,e)||o||`Deve ser maior ou igual a ${e}`},numeroMenorOuIgual(e,o){return a=>De(a)||$o(a,e)||o||`Deve ser menor ou igual a ${e}`},tamanhoEntre(e,o,a){return t=>De(t)||ti(t,e,o)||a||`Deve estar entre ${e} e ${o}`},tamanhoMaiorOuIgual(e,o){return a=>De(a)||oi(a,e)||o||`Deve ser maior ou igual a ${e}`},tamanhoMenorOuIgual(e,o){return a=>De(a)||ai(a,e)||o||`Deve ser menor ou igual a ${e}`},dataEntre(e,o,a){return t=>De(t)||ri(t,e,o)||a||`Deve estar entre ${e.toLocaleDateString()} e ${o.toLocaleDateString()}`},dataMaiorOuIgual(e,o){return a=>De(a)||ni(a,e)||o||`Deve ser maior ou igual a ${e.toLocaleDateString()}`},dataMenorOuIgual(e,o){return a=>De(a)||ii(a,e)||o||`Deve ser menor ou igual a ${e.toLocaleDateString()}`},processo(e){return o=>De(o)||Ta(o)||e||"Número do processo inválido"},cpf(e){return o=>De(o)||Qn(o)||e||"CPF inválido"},cnpj(e){return o=>De(o)||Un(o)||e||"CNPJ inválido"}};function si(e){return e.filter(o=>o.nome in sa).map(o=>sa[o.nome](...o.args))}function ci(e,o){const a=[];return o&&a.push({nome:"obrigatorio",args:["Campo obrigatório"]}),e===ce.Data&&a.push({nome:"regex",args:[/\d{2}\/\d{2}\/\d{4}/,"Formato: dd/mm/aaaa"]}),e===ce.Competencia&&a.push({nome:"regex",args:[/\d{2}\/\d{4}/,"Formato: mm/aaaa"]}),e===ce.NumeroProcesso&&a.push({nome:"processo",args:[]}),e===ce.Cpf&&a.push({nome:"cpf",args:[]}),a}function ca(e){const o=new Ne(e);return o.dataValida()?o.nativo():null}function Oa(e){const o=Number(e);return ut(o)?o:null}function ui(e){const o=Oa(e);return o===null?null:Number(Gn(o/100,2))}function ua(e,o){return o===ce.Data?ca(e):o===ce.Competencia?ca(`01/${e}`):o===ce.Numero||o===ce.Moeda?Oa(e):o===ce.Percentual?ui(e):e}function da(e){return e==null?"":ve(e)?e.toLocaleDateString():`${e}`}function di(e){return e===ce.Data?"##/##/####":e===ce.Competencia?"##/####":e===ce.NumeroProcesso?"#######-##.####.#.##.####":e===ce.Cpf?"###.###.###-##":""}const mi=le({__name:"CecalcEntrada",props:{modelValue:{},parametros:{}},emits:["update:model-value"],setup(e,{emit:o}){const a=e,t=T(),n=a.parametros.obrigatorio===!0?`${a.parametros.rotulo}*`:a.parametros.rotulo,i=a.parametros.mascara?a.parametros.mascara:di(a.parametros.tipoEntrada),l=H(()=>{const _=ci(a.parametros.tipoEntrada,a.parametros.obrigatorio===!0);return si(Array.prototype.concat(_,a.parametros.regras||[]))}),c=T(da(a.modelValue));qe(()=>a.modelValue,_=>c.value=da(_));function s(){return t.value?t.value.validate():!1}async function r(_){if(c.value=_,await de(),s()||!c.value)return o("update:model-value",ua(c.value,a.parametros.tipoEntrada))}async function g(_){await r(_)}function y(){if(s())return o("update:model-value",ua(c.value,a.parametros.tipoEntrada))}return(_,h)=>(I(),re(x(rn),{ref_key:"input",ref:t,"model-value":x(c),type:"text",name:_.parametros.nome,for:_.parametros.nome,label:x(n),"label-color":_.parametros.obrigatorio===!0?"orange-10":"","bg-color":_.parametros.obrigatorio===!0?"orange-1":"",color:_.parametros.obrigatorio===!0?"orange-10":"",prefix:_.parametros.prefixo,suffix:_.parametros.sufixo,readonly:_.parametros.obrigatorio!==!0&&_.parametros.somenteLeitura===!0,mask:x(i),hint:_.parametros.dica,rules:x(l),"lazy-rules":"ondemand",disabled:_.parametros.desabilitado,style:ie(_.parametros.estilos),class:ee(_.parametros.classes),outlined:"",dense:"","stack-label":"","no-error-icon":"","item-aligned":"","onUpdate:modelValue":h[0]||(h[0]=D=>g(D||"")),onBlur:y},null,8,["model-value","name","for","label","label-color","bg-color","color","prefix","suffix","readonly","mask","hint","rules","disabled","style","class"]))}}),fi={class:"column q-gutter-md"},pi={class:"text-bold"},vi=le({__name:"CecalcFormularioDinamico",props:{esquema:{}},setup(e){const o=T();function a(){o.value&&o.value.resetValidation()}return(t,n)=>{const i=kn,l=Jn,c=Xn,s=ei,r=mi,g=ln,y=Co;return I(),re(x(Nn),{ref_key:"formulario",ref:o,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",onSubmit:n[0]||(n[0]=()=>{})},{default:X(()=>[V("div",fi,[(I(!0),L(me,null,Fe(t.esquema.secoes,_=>(I(),re(y,{key:`secao-${_.titulo}`,flat:"",bordered:""},{default:X(()=>[M(i,{class:ee(_.cor),dense:""},{default:X(()=>[V("div",pi,Ae(_.titulo),1)]),_:2},1032,["class"]),M(g,null,{default:X(()=>[(I(!0),L(me,null,Fe(_.linhas,(h,D)=>(I(),L("div",{key:`secao-${_.titulo}-linha-${D}`,class:"row"},[(I(!0),L(me,null,Fe(h,(u,v)=>(I(),L(me,{key:`secao-${_.titulo}-linha-${D}-item-${v}`},[u.tipo===x(ne).Selecao?(I(),re(l,{key:0,modelValue:u.ref.value,"onUpdate:modelValue":[E=>u.ref.value=E,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===x(ne).Radio?(I(),re(c,{key:1,modelValue:u.ref.value,"onUpdate:modelValue":[E=>u.ref.value=E,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===x(ne).Opcao?(I(),re(s,{key:2,modelValue:u.ref.value,"onUpdate:modelValue":[E=>u.ref.value=E,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):u.tipo===x(ne).Entrada?(I(),re(r,{key:3,modelValue:u.ref.value,"onUpdate:modelValue":[E=>u.ref.value=E,a],parametros:u.parametros},null,8,["modelValue","onUpdate:modelValue","parametros"])):eo("",!0)],64))),128))]))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},512)}}}),gi={1991:60,1992:60,1993:66,1994:72,1995:78,1996:90,1997:96,1998:102,1999:108,2e3:114,2001:120,2002:126,2003:132,2004:138,2005:144,2006:150,2007:156,2008:162,2009:168,2010:174,2011:180};function hi(){function e(a,t){return a===ho.AposentadoriaPorIdade&&gi[t.getFullYear()]||180}function o(){return[{rotulo:"Implemento da Idade",valor:oo.ImplementoIdade},{rotulo:"DER/DDA",valor:oo.DerDda}]}return{obterCarenciaMinima:e,obterOpcoesMarcoCarencia:o}}p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"",p.Masculino+"",p.Feminino+"";const Do=wa("parametros-store",()=>{const e=T(""),o=T(null),a=T(null),t=T(""),n=T(""),i=T(),l=T(null),c=T(""),s=T(ho.AposentadoriaPorTempoDeContribuicao),r=T(null),g=T(!1),y=T(!1),_=T(oo.ImplementoIdade),h=T(!1),D=T(!1),u=T(Ze.DeficienciaLeve),v=T(null),E=T(To.Art70CRegulamento),m=T(!1);function C(k){return Te(k)&&k.length>0}function S(){return C(e.value)||ve(o.value)||ve(a.value)||C(t.value)||C(n.value)||ve(l.value)||C(c.value)||ve(r.value)||ve(v.value)}function O(){e.value="",o.value=null,a.value=null,t.value="",n.value="",i.value=void 0,l.value=null,c.value="",s.value=ho.AposentadoriaPorTempoDeContribuicao,r.value=null,g.value=!1,y.value=!1,_.value=oo.ImplementoIdade,h.value=!1,D.value=!0,u.value=Ze.DeficienciaLeve,v.value=null,E.value=To.Art70CRegulamento,m.value=!1}return{numeroProcesso:e,citacao:o,ajuizamento:a,autor:t,reu:n,sexo:i,nascimento:l,nb:c,especie:s,der:r,rural:g,deficiente:y,marcoCarencia:_,permitirConversaoAposEc103:h,carenciaNecessariaAposEc103:D,grauPreponderanteDeficiencia:u,inicioPrimeiraDeficiencia:v,requisitoB41Deficiencia:E,converterPeriodosB41Deficiente:m,temDadosCarregados:S,reiniciar:O}},{persist:{serializer:{deserialize:e=>JSON.parse(e,Ro),serialize:JSON.stringify}}});function ma(){function e(){return[{rotulo:"Masculino",valor:p.Masculino},{rotulo:"Feminino",valor:p.Feminino}]}function o(){return[{rotulo:"Deficiência Grave",valor:Ze.DeficienciaGrave},{rotulo:"Deficiência Moderada",valor:Ze.DeficienciaModerada},{rotulo:"Deficiência Leve",valor:Ze.DeficienciaLeve}]}return{obterOpcoesSexo:e,obterOpcoesGrauDeficiencia:o}}function bi(){const e=Do(),{numeroProcesso:o,citacao:a,ajuizamento:t,autor:n,reu:i,sexo:l,nascimento:c,nb:s,especie:r,der:g,rural:y,deficiente:_,marcoCarencia:h,permitirConversaoAposEc103:D,carenciaNecessariaAposEc103:u,grauPreponderanteDeficiencia:v,inicioPrimeiraDeficiencia:E,requisitoB41Deficiencia:m,converterPeriodosB41Deficiente:C}=Sa(e),{obterOpcoesSexo:S}=ma(),{obterOpcoesEspecieBeneficio:O}=dt(),{obterOpcoesMarcoCarencia:k}=hi(),{obterOpcoesRequisitoB41Deficiente:N}=qo(),{obterOpcoesGrauDeficiencia:Y}=ma(),B=S(),G=O(),se=k(),Ce=Y(),xe=N(),he={tipo:ne.Entrada,ref:o,parametros:{tipoEntrada:ce.NumeroProcesso,nome:"numero-processo",rotulo:"Processo",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},we={tipo:ne.Entrada,ref:a,parametros:{tipoEntrada:ce.Data,nome:"data-citacao",rotulo:"Citação",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Se={tipo:ne.Entrada,ref:t,parametros:{tipoEntrada:ce.Data,nome:"data-ajuizamento",rotulo:"Ajuizamento",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},A={tipo:ne.Entrada,ref:n,parametros:{tipoEntrada:ce.Texto,nome:"nome-autor",rotulo:"Autor",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},J={tipo:ne.Entrada,ref:i,parametros:{tipoEntrada:ce.Texto,nome:"nome-reu",rotulo:"Réu",obrigatorio:!1,classes:"col-xs-12 col-sm-12 col-md-5 col-lg-4"}},ue={tipo:ne.Selecao,ref:l,parametros:{nome:"sexo-autor",rotulo:"Sexo",opcoes:B,obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Ie={tipo:ne.Entrada,ref:c,parametros:{tipoEntrada:ce.Data,nome:"data-nascimento",rotulo:"Nascimento",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Le={tipo:ne.Entrada,ref:s,parametros:{tipoEntrada:ce.Texto,nome:"nb",rotulo:"NB",obrigatorio:!1,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},Oe={tipo:ne.Selecao,ref:r,parametros:{nome:"especie",rotulo:"Espécie",opcoes:G,obrigatorio:!0,classes:"col-xs-12 col-sm-12 col-md-6 col-lg-6"}},Je={tipo:ne.Entrada,ref:g,parametros:{tipoEntrada:ce.Data,nome:"der",rotulo:"DER",obrigatorio:!0,classes:"col-xs-6 col-sm-4 col-md-3 col-lg-2"}},je={tipo:ne.Opcao,ref:y,parametros:{nome:"beneficio-rural",rotulo:"Benefício rural?",classes:"q-pa-md"}},$e={tipo:ne.Opcao,ref:_,parametros:{nome:"beneficio-deficiente",rotulo:"Benefício para pessoa com deficiência?",classes:"q-pa-md"}},Ue={tipo:ne.Selecao,ref:h,parametros:{nome:"marco-carencia",rotulo:"Marco carência",opcoes:se,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},Me={tipo:ne.Opcao,ref:D,parametros:{nome:"conveter-apos-ec-103",rotulo:"Converter tempo especial após EC 103?",classes:"q-pa-md"}},io={tipo:ne.Opcao,ref:u,parametros:{nome:"carencia-apos-ec-103",rotulo:"Carência necessária após EC 103?",classes:"q-pa-md"}},Be={tipo:ne.Selecao,ref:v,parametros:{nome:"grau-deficiencia",rotulo:"Grau de Deficiência Preponderante",opcoes:Ce,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},f={tipo:ne.Entrada,ref:E,parametros:{tipoEntrada:ce.Data,nome:"data-inicio-deficiencia",rotulo:"Data de início da primeira deficiência",classes:"col-xs-12 col-sm-6 col-md-4 col-lg-3"}},F={tipo:ne.Selecao,ref:m,parametros:{nome:"requisito-b41-deficiente",rotulo:"Requisito B41 Deficiente",opcoes:xe,classes:"col-xs-10 col-sm-8 col-md-6 col-lg-4"}},P={tipo:ne.Opcao,ref:C,parametros:{nome:"converter-periodos-b41-deficiente",rotulo:"Converter Tempo Especial B41 Deficiente?",classes:"q-pa-md"}};return{esquemaFormularioBasico:{titulo:"Cálculo TC - Campos Básicos",secoes:[{titulo:"Dados Básicos do Segurado",cor:"bg-blue-3",linhas:[[ue,Ie]]},{titulo:"Dados Básicos do Benefício",cor:"bg-blue-3",linhas:[[Je,Oe]]}]},esquemaFormularioGeral:{titulo:"Parâmetros Avançados",secoes:[{titulo:"Dados do Processo",cor:"bg-blue-3",linhas:[[he,Se,we],[A,J]]},{titulo:"Dados do Benefício",cor:"bg-blue-3",linhas:[[Le,je,$e]]},{titulo:"Opções Contagem",cor:"bg-blue-3",linhas:[[Ue],[Me],[io]]},{titulo:"Benefício da Pessoa com Deficiência",cor:"bg-blue-3",linhas:[[],[Be,f],[F,P]]}]}}}const _i={class:"q-pa-md"},Ci={class:"q-pa-md"},yi={class:"q-py-md"},xi=le({__name:"TcParametrosBasicos",setup(e){const{esquemaFormularioBasico:o,esquemaFormularioGeral:a}=bi();return(t,n)=>{const i=vi,l=On;return I(),L(me,null,[V("div",_i,[M(i,{esquema:x(o)},null,8,["esquema"])]),V("div",Ci,[M(l,{label:"Opcões Avançadas","header-class":"bg-blue-3 text-bold rounded-borders"},{default:X(()=>[V("div",yi,[M(i,{esquema:x(a)},null,8,["esquema"])])]),_:1})])],64)}}}),$i=le({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:a}){const t=T(!1);return no(()=>{t.value=!0}),n=>{var s;if(t.value)return(s=o.default)==null?void 0:s.call(o);const i=o.fallback||o.placeholder;if(i)return i();const l=n.fallback||n.placeholder||"",c=n.fallbackTag||n.placeholderTag||"span";return L(c,a,l)}}});function Pa(){function e(i){return Te(i)&&/(^\d+$)|(^\d+\.?(\d+)?$)|(^\d+,?(\d+)?$)/.test(i)}function o(i){return Te(i)&&/^\d+$/.test(i)}function a(i){return Te(i)&&/^(\d{1,2}[/.-])?(\d{1,2}[/.-])(\d{4})$/.test(i.trim())}function t(i){try{return new Ne(i).dataValida()}catch{return!1}}function n(i,l){return new Ne(i).antesDeOuIgualA(l)}return{inputValorNumerico:e,inputNumeroInteiro:o,inputDataLocal:a,data:t,periodo:n}}const uo=wa("periodos-store",()=>{const e=Pa(),o=T({}),a=H(()=>Object.entries(o.value).map(([h,D])=>({id:h,...D})).sort((h,D)=>h.dataInicial.valueOf()-D.dataInicial.valueOf()));function t(h){e.periodo(h.dataInicial,h.dataFinal)&&h.descricao&&(o.value[Kn()]={...h})}function n(h,D){e.periodo(D.dataInicial,D.dataFinal)&&(h in o.value?Object.assign(o.value[h],D):o.value[h]=D)}function i(h){Object.assign(o.value,h)}function l(h){delete o.value[h]}const c=H(()=>{const h=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf())[0];return ve(h)?new Ne(h).competencia():void 0}),s=H(()=>{const h=Object.values(o.value).map(D=>D.dataInicial).sort((D,u)=>D.valueOf()-u.valueOf()).slice(-1)[0];return ve(h)?new Ne(h).competencia():void 0});function r(h){return o.value[h]}function g(h,D){const u=r(h);u&&n(h,{...u,excluido:D===!0})}function y(){return!mt(o.value)}function _(){o.value={}}return{registros:o,lista:a,competenciaInicial:c,competenciaFinal:s,atualizar:n,atualizarTodos:i,adicionar:t,remover:l,obterPorId:r,alterarStatusExcluido:g,temDadosCarregados:y,reiniciar:_}},{persist:{paths:["registros"],serializer:{deserialize:e=>JSON.parse(e,Ro),serialize:JSON.stringify}}}),Di={class:"cecalc-planilha-celula-booleana"},Ai=["checked"],Ii=le({__name:"CecalcPlanilhaCelulaBooleana",props:{modelValue:{type:Boolean,default:!1},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){function a(t){const n=t.target.checked;o("valorAtualizado",n)}return(t,n)=>(I(),L("td",sn(cn(t.$attrs)),[V("div",Di,[V("input",{type:"checkbox",checked:t.modelValue,onChange:a},null,40,Ai)])],16))}});const Fi=He(Ii,[["__scopeId","data-v-ed1c78bf"]]),wi=["onKeydown"],Si=["onClick","onKeydown"],Ei=le({__name:"CecalcPlanilhaCelulaOpcoes",props:{modelValue:{default:void 0},opcoes:{default:()=>[]},incluirOpcaoVazia:{type:Boolean,default:!0},desabilitar:{type:Boolean,default:!1}},emits:["valorAtualizado"],setup(e,{emit:o}){const a=e,t=T(),n=T(),i=T([]),l=T(!1),c=T(0);qe(()=>a.modelValue,async()=>{await de(),s()}),no(()=>{window.addEventListener("click",r),s()}),Bo(()=>window.removeEventListener("click",r));function s(){const v=a.opcoes.findIndex(E=>E.valor===a.modelValue);v>=0?c.value=v:c.value=0}function r(v){if(!n.value||!t.value)return;const E=v.target,m=E===n.value||n.value.contains(E),C=v.target===t.value||t.value.contains(E);!m&&!C&&h()}function g(){if(t.value&&n.value){const v=i.value.reduce((he,we)=>{const{width:Se}=we.firstElementChild.getBoundingClientRect();return Math.max(he,Se)},0),E=Math.min(i.value.length,5),{width:m,height:C,top:S,left:O}=t.value.getBoundingClientRect(),k=S+C/2,N=O+m/2,Y=document.documentElement.clientWidth,B=document.documentElement.clientHeight,G=C*E,se=Math.max(v+50),Ce=Math.min(k-G/2,B-G),xe=Math.min(N-se/2,Y-se);n.value.style.height=`${G}px`,n.value.style.maxWidth=`${se}px`,n.value.style.top=`${Ce}px`,n.value.style.left=`${xe}px`,i.value.forEach(he=>{he.style.height=`${C}px`})}}async function y(){await de();const v=i.value[c.value];v&&(v.scrollIntoView(),await de(),v.focus())}async function _(){a.desabilitar||(l.value=!0,await de(),g(),await de(),y())}function h(){t.value&&t.value.focus(),l.value=!1}function D(v){v<0&&(v=a.opcoes.length-1),v>a.opcoes.length-1&&(v=0),c.value=v,y(),o("valorAtualizado",a.opcoes[c.value].valor),h()}function u(v){if(!v.target)return;const m=v.key;if(m==="Escape"&&(v.preventDefault(),s(),h()),m==="Tab"||m==="Enter"){v.preventDefault(),D(c.value);return}if(m==="ArrowDown"){v.preventDefault(),c.value++,c.value>=a.opcoes.length&&(c.value=0),y();return}m==="ArrowUp"&&(v.preventDefault(),c.value--,c.value<0&&(c.value=a.opcoes.length-1),y())}return(v,E)=>(I(),L(me,null,[V("td",un({ref_key:"celula",ref:t},v.$attrs,{onKeydown:dn(ke(_,["stop"]),["f2"])}),[V("div",{class:"cecalc-planilha-celula-opcoes-selecionada",onDblclick:_},[V("span",{class:ee({placeholder:!Array.isArray(v.opcoes)||!v.opcoes[x(c)].rotulo})},Ae(Array.isArray(v.opcoes)?v.opcoes[x(c)].rotulo:void 0),3),v.desabilitar?eo("",!0):(I(),L("span",{key:0,class:"icone-editar",onClick:_}))],32)],16,wi),x(l)?(I(),re(mn,{key:0,to:"table"},[V("div",{ref_key:"opcoesContainer",ref:n,class:"cecalc-planilha-celula-opcoes-menu",onBlur:h},[V("ul",null,[(I(!0),L(me,null,Fe(v.opcoes,(m,C)=>(I(),L("li",{ref_for:!0,ref_key:"opcoesLinhas",ref:i,key:m.valor,tabindex:"1",class:ee({placeholder:!m.rotulo}),onClick:ke(S=>D(C),["prevent"]),onKeydown:ke(u,["self"])},[V("span",null,Ae(m.rotulo),1)],42,Si))),128))])],544)])):eo("",!0)],64))}});const ki=He(Ei,[["__scopeId","data-v-949729a9"]]),Ti={class:"cecalc-input-container"},Vi=["name","value"],Oi={key:0,class:"cecalc-mensagem-erro"},Pi=le({__name:"CecalcPlanilhaInput",props:{nome:{default:""},modelValue:{default:""},mensagemErro:{default:""}},emits:["update:model-value","blur"],setup(e,{emit:o}){const a=T();no(()=>{var n;(n=a.value)==null||n.focus()});function t(n){if(n.key==="Enter"||n.key==="Tab"){const i=n.target;o("update:model-value",i.value)}(n.key.startsWith("Arrow")||n.key==="Delete"||n.key==="Backspace")&&n.stopPropagation()}return(n,i)=>(I(),L("div",Ti,[V("input",{ref_key:"input",ref:a,name:n.nome,value:n.modelValue,type:"text",class:ee(["cecalc-input",n.mensagemErro?"erro":""]),onFocus:i[0]||(i[0]=l=>{l.target.select()}),onBlur:i[1]||(i[1]=l=>o("blur")),onKeydown:t},null,42,Vi),n.mensagemErro?(I(),L("div",Oi,Ae(n.mensagemErro),1)):eo("",!0)]))}});const qi=He(Pi,[["__scopeId","data-v-b09450ae"]]),Mi=["title"],zi={key:1},Ni={key:2},Li=le({__name:"CecalcPlanilhaCelulaEditavel",props:{editando:{type:Boolean,default:!1},nome:{default:""},modelValue:{default:""},placeholder:{default:""},tipo:{default:"texto"},desabilitar:{type:Boolean,default:!1}},emits:["blur","edicaoConcluida","valorAtualizado"],setup(e,{emit:o}){const a=e,t=T(!1),n=T(""),i=Pa();function l(r){return r?a.tipo==="data"?i.inputDataLocal(r)?"":"dd/mm/aaaa":a.tipo==="competencia"?i.inputDataLocal(r)?"":"mm/aaaa":a.tipo==="texto"?"":a.tipo==="inteiro"||a.tipo==="sequencial"?i.inputNumeroInteiro(r)?"":"número inteiro":i.inputValorNumerico(r)?"":"valor numérico":""}function c(r){n.value=l(r),t.value=n.value.length>0,t.value?o("edicaoConcluida"):o("valorAtualizado",r)}function s(r){(r.key==="Delete"||r.key==="Backspace")&&r.stopPropagation()}return(r,g)=>{const y=qi;return I(),L("td",{class:ee({erro:x(t)&&!r.editando,editando:r.editando}),title:x(n),onBlur:g[2]||(g[2]=_=>o("blur"))},[!r.desabilitar&&r.editando?(I(),re(y,{key:0,nome:r.nome,"model-value":r.modelValue,"mensagem-erro":x(n),"onUpdate:modelValue":g[0]||(g[0]=_=>c(_)),onBlur:g[1]||(g[1]=_=>o("edicaoConcluida")),onKeydown:ke(s,["self"])},null,8,["nome","model-value","mensagem-erro","onKeydown"])):!r.desabilitar&&x(t)?(I(),L("div",zi," # ERRO ")):(I(),L("div",Ni,Ae(r.modelValue||r.placeholder),1))],42,Mi)}}});const Bi=He(Li,[["__scopeId","data-v-d5401a62"]]),Ye=e=>(Ea("data-v-ee2a66df"),e=e(),ka(),e),Ri=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Copiar ",-1)),ji=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Recortar ",-1)),Ui=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Colar ",-1)),Qi=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Desfazer ",-1)),Ki=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Refazer ",-1)),Hi=Ye(()=>V("span",{class:"text-caption q-ml-sm"}," Copiar com cabeçalhos ",-1)),Gi=Ye(()=>V("span",{class:"text-caption q-ml-sm"},' Baixar arquivo ".csv" ',-1)),Yi=le({__name:"CecalcPlanilhaMenuContextual",props:{modelValue:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!1}},emits:["update:model-value","copiar","recortar","colar","desfazer","refazer","copiarComCabecalhos","gerarCsv"],setup(e,{emit:o}){return(a,t)=>{const n=bo,i=Vo,l=Co,c=xa,s=ft;return I(),re(c,{square:"","model-value":a.modelValue,class:"bg-grey-2","no-parent-event":"","onUpdate:modelValue":t[7]||(t[7]=r=>o("update:model-value",r))},{default:X(()=>[M(l,{flat:"",square:""},{default:X(()=>[Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[0]||(t[0]=r=>a.$emit("copiar"))},[M(n,{name:x(aa)},null,8,["name"]),Ri])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[1]||(t[1]=r=>a.$emit("recortar"))},[M(n,{name:x(fn)},null,8,["name"]),ji])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[2]||(t[2]=r=>a.$emit("colar"))},[M(n,{name:x(pn)},null,8,["name"]),Ui])),[[s]]),a.habilitarDesfazerRefazer?(I(),L(me,{key:0},[M(i),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[3]||(t[3]=r=>a.$emit("desfazer"))},[M(n,{name:x(vn)},null,8,["name"]),Qi])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[4]||(t[4]=r=>a.$emit("refazer"))},[M(n,{name:x(gn)},null,8,["name"]),Ki])),[[s]])],64)):eo("",!0),M(i),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[5]||(t[5]=r=>a.$emit("copiarComCabecalhos"))},[M(n,{name:x(aa)},null,8,["name"]),Hi])),[[s]]),Re((I(),L("div",{clickable:"",class:"q-py-xs q-px-md cursor-pointer item-menu",onClick:t[6]||(t[6]=r=>a.$emit("gerarCsv"))},[M(n,{name:x(hn)},null,8,["name"]),Gi])),[[s]])]),_:1})]),_:1},8,["model-value"])}}});const Ji=He(Yi,[["__scopeId","data-v-ee2a66df"]]),ge={Coluna:{Fixa:"cecalc-planilha-coluna-fixa",Editavel:"cecalc-planilha-coluna-editavel",Calculada:"cecalc-planilha-coluna-calculada"},Celula:{Desabilitada:"cecalc-planilha-celula-desabilitada",Desconsiderada:"cecalc-planilha-celula-desconsiderada",NaoEditavel:"cecalc-planilha-celula-nao-editavel",ValorIncluidoPeloUsuario:"cecalc-planilha-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-planilha-celula-valor-modificado",Atencao:"cecalc-planilha-celula-atencao",Verificada:"cecalc-planilha-celula-verificada",ValorElevado:"cecalc-planilha-celula-valor-elevado",ValorLimitado:"cecalc-planilha-celula-valor-limitado",IncluirIcone:"incluir-icone"},Selecao:{Caixa:"cecalc-caixa-selecao",Mascara:"cecalc-mascara-celula-ativa",Alca:"cecalc-alca-caixa-selecao",CopiaAtiva:"copia-ativa"}};function Oo(e){const o=e.offsetTop,a=e.offsetLeft,t=e.offsetWidth,n=e.offsetHeight;return{top:o,left:a,width:t,height:n}}function Wi(e,o,a){return a==="topleft"?`polygon(0% ${e-5}px, 0% 100%, 100% 100%, 100% 0%, ${o-4}px 0%, ${o-4}px ${e-5}px)`:a==="topright"?`polygon(0% 0%, 0% 100%, 100% 100%, 100% ${e-5}px, calc(100% - ${o-5}px) ${e-5}px, calc(100% - ${o-5}px) 0%)`:a==="bottomleft"?`polygon(0% 0%, 0% calc(100% - ${e-5}px), ${o-4}px calc(100% - ${e-5}px), ${o-4}px 100%, 100% 100%, 100% 0%, 0% 0%`:a==="bottomright"?`polygon(0% 0%, 0% 100%, calc(100% - ${o-5}px) 100%, calc(100% - ${o-5}px) calc(100% - ${e-5}px), 100% calc(100% - ${e-5}px), 100% 0%, 0% 0%`:""}function Xi(e,o){const{width:a,height:t,top:n,left:i}=Oo(e);if(e.isSameNode(o))return{width:a,height:t,top:n,left:i,mask:{width:a,height:t,position:"topleft"}};const{width:l,height:c,top:s,left:r}=Oo(o);return n<=s&&i<=r?{top:n,left:i,width:r+l-i,height:s+c-n,mask:{width:a,height:t,position:"topleft"}}:n<=s&&i>r?{top:n,left:r,width:i+a-r,height:s+c-n,mask:{width:a,height:t,position:"topright"}}:n>s&&i<=r?{top:s,left:i,width:r+l-i,height:n+t-s,mask:{width:a,height:t,position:"bottomleft"}}:{top:s,left:r,width:i+a-r,height:n+t-s,mask:{width:a,height:t,position:"bottomright"}}}function Zi(e){const o=document.createElement("div");o.classList.add(ge.Selecao.Caixa);const a=document.createElement("div");a.classList.add(ge.Selecao.Mascara),o.appendChild(a);const t=document.createElement("div");return t.classList.add(ge.Selecao.Alca),t.draggable=!0,o.appendChild(t),e.appendChild(o),{caixa:o,mascara:a,alca:t}}function so(e){let o=e.target;if(!o||o.tagName==="TD")return o;let a=0;for(;a<4;){if(!o||o.tagName==="TD")return o;o=o.parentElement,a++}return null}function _e(e){if(!e||!e.parentElement||e.parentElement.tagName!=="TR")return;const o=e.cellIndex,a=e.parentElement.rowIndex;return{col:o,lin:a}}function er({container:e,habilitarAlcaDeArrasto:o,callbackAlcaDeArrasto:a}){Ge().info("Executando useSelecao");let n;const i=()=>n?n.querySelector("tr td:first-of-type"):null,l=()=>n?n.querySelector("tr:last-of-type td:last-of-type"):null;function c(){const f=i(),F=l();if(!f||!F)return;const P=_e(f),R=_e(F);if(!(!P||!R))return[P,R]}const s=T(),r=T(),g=T([]);let y,_,h;const D=new Image;let u=!1;no(async()=>{if(await de(),e.value&&(n=e.value.querySelector("tbody"),n)){const f=Zi(e.value);y=f.caixa,_=f.mascara,h=f.alca,o||(h.style.display="none"),Be(),i()?N():k()}});function v(f){const F=i();if(!F)return;const P=_e(F);if(P)return{col:f.col-P.col,lin:f.lin-P.lin}}function E(f){const F=i();if(!F)return;const P=_e(F);if(P)return{col:f.col+P.col,lin:f.lin+P.lin}}function m(f){var W,Q;if(!n)return null;const F=n.parentElement;if(!F||F.tagName!=="TABLE"||!F.rows.length||!((W=F.rows.item(0))!=null&&W.cells.length))return null;const{col:P,lin:R}=f;return((Q=n.parentElement.rows.item(R))==null?void 0:Q.cells.item(P))||null}function C(){y.style.display="none",_.style.display="none",h.style.display="none"}function S(){y.style.display="block",_.style.display="block",o&&(h.style.display="block")}function O(){var ro,lo;if(!s.value||!r.value||!y||!_)return;const f=-1,F=0,P=2,R=1;if(s.value.isSameNode(r.value)){const{top:mo,left:fo,width:Ao,height:Io}=Oo(s.value);y.style.top=`${mo+f}px`,y.style.left=`${fo+F}px`,y.style.width=`${Ao+P}px`,y.style.height=`${Io+R}px`,_.style.height="0px",_.style.width="0px";return}const{top:W,left:Q,width:oe,height:te,mask:fe}=Xi(s.value,r.value);y.style.top=`${W+f}px`,y.style.left=`${Q+F}px`,y.style.width=`${oe+P}px`,y.style.height=`${te+R}px`,_.style.height=`${te-10}px`,_.style.width=`${oe-9}px`,_.style.clipPath=Wi(((ro=s.value)==null?void 0:ro.offsetHeight)||0,((lo=s.value)==null?void 0:lo.offsetWidth)||0,fe.position)}function k(){C()}function N(f){if(f=f||i()||void 0,f){const F=_e(f);F&&(s.value=f,r.value=f,g.value=[F,F],f.focus(),O(),S())}}function Y(f){r.value=f,g.value[1]=_e(f),O(),S()}function B(f){var te,fe;const F=he();if(!F)return;const P=c();if(!P)return;const[R,W]=P,Q=Math.max(Math.min(W.lin,F.lin+f),R.lin),oe=m({lin:Q,col:F.col});oe&&N(oe),Q===R.lin?(te=e.value)==null||te.scrollTo({top:0}):Q===W.lin&&((fe=e.value)==null||fe.scrollBy(0,100))}function G(f){var te,fe;const F=he();if(!F)return;const P=c();if(!P)return;const[R,W]=P,Q=Math.max(Math.min(W.col,F.col+f),R.col),oe=m({lin:F.lin,col:Q});oe&&N(oe),Q===R.col?(te=e.value)==null||te.scrollTo({left:0}):Q===W.col&&((fe=e.value)==null||fe.scrollBy(100,0))}function se(f,F){const P=r.value||so(f);if(!P)return;const R=_e(P);if(!R)return;const W=c();if(!W)return;const[Q,oe]=W,te=Math.max(Math.min(oe.lin,R.lin+F),Q.lin),fe=m({lin:te,col:R.col});fe&&(fe.focus(),r.value=fe,g.value[1]=_e(fe),O())}function Ce(f,F){const P=r.value||so(f);if(!P)return;const R=_e(P);if(!R)return;const W=c();if(!W)return;const[Q,oe]=W,te=Math.max(Math.min(oe.col,R.col+F),Q.col),fe=m({lin:R.lin,col:te});fe&&(fe.focus(),r.value=fe,g.value[1]=_e(fe),O())}function xe(){return!g.value||g.value.length===0?[]:[{col:Math.min(g.value[0].col,g.value[1].col),lin:Math.min(g.value[0].lin,g.value[1].lin)},{col:Math.max(g.value[0].col,g.value[1].col),lin:Math.max(g.value[0].lin,g.value[1].lin)}]}function he(){if(!(!g.value||g.value.length===0||!g.value[0]))return g.value[0]}function we(){if(!(!g.value||g.value.length===0))return g.value[1]}function Se(f){const F=xe();if(F.length===0)return;const P=_e(f);return P?P.col<=F[1].col&&P.col>=F[0].col&&P.lin<=F[1].lin&&P.lin>=F[0].lin:!1}function A(f,F){const P=m(f),R=m(F);P&&N(P),R&&Y(R)}function J(f){const F=_e(f);if(!F)return;const P=c();if(!P)return;const[R,W]=P,{col:Q}=F;if(Q<R.col||Q>W.col)return;const oe=m({lin:R.lin,col:Q}),te=m({lin:W.lin,col:Q});oe&&te&&(N(oe),r.value=te,g.value=[{lin:R.lin,col:Q},{lin:W.lin,col:Q}],O())}function ue(f){const F=_e(f);if(!F)return;const P=c();if(!P)return;const[R,W]=P,{lin:Q}=F;if(Q<R.lin||Q>W.lin)return;const oe=m({lin:Q,col:R.col}),te=m({lin:Q,col:W.col});oe&&te&&(N(oe),r.value=te,g.value=[{lin:Q,col:R.col},{lin:Q,col:W.col}],O())}function Ie(){const f=i(),F=l();if(f&&F){N(f),r.value=F;const P=_e(f),R=_e(F);P&&R&&(g.value=[P,R],O())}}function Le(f){!s.value||!r.value||(f.dataTransfer.effectAllowed="move",f.dataTransfer.setDragImage(D,0,0),s.value.isSameNode(r.value)||(s.value=r.value,O()),u=!0)}function Oe(f){if(!u||!s.value||!r.value)return;f.preventDefault(),f.dataTransfer&&(f.dataTransfer.dropEffect="move");const F=so(f);if(F){if(F.isSameNode(r.value))return;const P=_e(F);if(P){const R=c();if(!R)return;const[W,Q]=R,oe=m({lin:Math.min(Q.lin,P.lin),col:s.value.cellIndex});oe&&(r.value=oe,g.value[1]=_e(oe),O())}}}function Je(f){f.preventDefault(),u=!1,ia(a)&&a(f)}function je(f=2e3){y&&(y.classList.add(ge.Selecao.CopiaAtiva),setTimeout(()=>{y.classList.remove(ge.Selecao.CopiaAtiva)},f))}const $e={ArrowUp:f=>f.shiftKey?se(f,f.ctrlKey?Number.NEGATIVE_INFINITY:-1):B(f.ctrlKey?Number.NEGATIVE_INFINITY:-1),ArrowDown:f=>f.shiftKey?se(f,f.ctrlKey?Number.POSITIVE_INFINITY:1):B(f.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowRight:f=>f.shiftKey?Ce(f,f.ctrlKey?Number.POSITIVE_INFINITY:1):G(f.ctrlKey?Number.POSITIVE_INFINITY:1),ArrowLeft:f=>f.shiftKey?Ce(f,f.ctrlKey?Number.NEGATIVE_INFINITY:-1):G(f.ctrlKey?Number.NEGATIVE_INFINITY:-1),PageUp:f=>f.shiftKey?se(f,-20):B(-20),PageDown:f=>f.shiftKey?se(f,20):B(20),Home:f=>f.shiftKey?se(f,Number.NEGATIVE_INFINITY):B(Number.NEGATIVE_INFINITY),End:f=>f.shiftKey?se(f,Number.POSITIVE_INFINITY):B(Number.POSITIVE_INFINITY),Tab:f=>$e.ArrowRight(f),Enter:f=>$e.ArrowDown(f)};function Ue(f){if(u||!e.value||!n)return;const F=f.key;F in $e&&(f.preventDefault(),$e[F](f))}function Me(f){if(!(u||!e.value||!n)){if(f.type==="click"||f.type==="mousedown"){const F=so(f),P=i();F&&P&&F.cellIndex>=P.cellIndex&&(f.buttons!==2||!Se(F))&&(s.value&&F.isSameNode(s.value)||N(F))}if(f.type==="mouseover"&&f.buttons===1){const F=so(f),P=i();F&&P&&F.cellIndex>=P.cellIndex&&Y(F)}}}function io(f){if(f.buttons!==1)return;const F=f.currentTarget,{height:P,width:R,top:W,left:Q}=F.getBoundingClientRect(),oe=f.clientX>=R+Q-150?50:f.clientX<=Q+80?-50:0,te=f.clientY>=P+W-80?50:f.clientY<=W+50?-30:0;F.scrollBy(oe,te)}function Be(){e.value&&ze(e.value,"mouseover",io),n&&(ze(n,"dragover",Oe),ze(n,"dragenter",Oe),ze(n,"drop",Je)),h&&o&&(ze(h,"dragstart",Le),ze(h,"dragend",Je),ze(h,"dragover",Oe),ze(h,"dragenter",Oe),ze(h,"dblclick",ia(a)?a:()=>{}))}return{obterCelula:m,desativar:k,ativarCelula:N,selecionarArea:A,redefinirCaixaSelecao:O,celulaAtiva:s,celulaOposta:r,areaSelecionada:g,obterPACelulaAtiva:he,obterPACelulaOposta:we,obterSelecaoOrdenada:xe,converterPosicaoAR:v,converterPosicaoRA:E,selecionarColuna:J,selecionarLinha:ue,selecionarTudo:Ie,dispararEfeitoCopia:je,plugarMouse:Me,plugarTeclado:Ue}}function or(e){Ge().info("Executando useUltimaLinha");let a,t=[];const n=T();no(async()=>{await de(),e.value&&(a=e.value.querySelector("tfoot"),a&&(t=l(),t.length&&s(0)))});function i(D){let u=D.target;if(u===null||u.tagName==="TD")return u;let v=0;for(;v<4;){if(u===null||u.tagName==="TD")return u;u=u.parentElement,v++}return null}function l(){return a?Array.from(a.querySelectorAll(`tr td.${ge.Coluna.Editavel}`)):[]}function c(D){return D?(t.length||(t=l()),t.findIndex(u=>u.isSameNode(D))):-1}function s(D){if(!t.length)return;n.value&&n.value.classList.remove("ativa"),D<0&&(D=t.length-1),D>=t.length&&(D=0),n.value=t[D],n.value.classList.add("ativa"),n.value.focus();const u=n.value.querySelector("input");u&&u.focus()}function r(){n.value&&s(c(n.value)+1)}function g(){n.value&&s(c(n.value)-1)}const y={ArrowRight:r,ArrowLeft:g,Tab:r,Enter:r};function _(D){if(!e.value||!a)return;const u=D.key;u in y&&(D.preventDefault(),y[u]())}function h(D){if(!(!e.value||!a)&&D.type==="click"){const u=i(D);if(u){const v=c(u);v>=0&&s(v)}}}return{ativarCelula:s,celulaAtiva:n,plugarMouse:h,plugarTeclado:_}}function qa(){const e=Ge(),{confirmacao:o}=Mo();function a(i,l,c){Bn(l,i,c)}function t(i,l){a(i,l,"application/json")}async function n(i,l=!0){try{const c=await i.text(),s=JSON.parse(c,Ro);if(e.console.log(s),s.dados)return l&&!await o("Atenção","O carregamento do arquivo apagará todos os dados atuais. Confirma?","Confirmar","Cancelar")?void 0:s}catch(c){e.erro(c)}}return{exportar:a,salvar:t,abrir:n}}function ar(){const e=Ge();let o=[],a=-1;function t(s,r){e.console.log("Iniciando registro"),e.console.log(o),e.console.log(a),s(),a<o.length-1&&(o=o.slice(0,a+1)),o.push({acaoDesfazer:r,acaoFazer:s}),a++,e.console.log("registro concluído"),e.console.log(o),e.console.log(a)}function n(){return o.length&&a>=0}function i(){return o.length&&a<o.length-1}function l(){if(e.console.log("desfazendo"),!n())return;e.console.log(o),e.console.log(a);const s=o[a].acaoDesfazer;s(),a--}function c(){if(e.console.log("refazendo"),!i())return;e.console.log(o),e.console.log(a),a++;const s=o[a].acaoFazer;s()}return{registrarAcao:t,desfazer:l,refazer:c}}function tr(e,o){const a=e.map(n=>n.rotulo).map(n=>la(`${n}`)),t=o.filter(n=>!n.desabilitada).map(n=>e.map(i=>{const l=i.nome,c=n.celulas[l].valorFormatado??"";return la(`"${c}"`)}).join(";"));return t.unshift(a.join(";")),t.join(`
`)}function Ma(e){return e.filter(o=>o.tipo==="texto").length}function nr(e){const o=Ma(e);return o>0?100/o:0}function za(e,o){const a={};return a.userSelect="none",e.tipo==="sequencial"?(a.width="50px",a.textAlign="right"):e.tipo==="texto"?(a.width=o,a.textAlign="left"):e.tipo==="data"||e.tipo==="competencia"||e.tipo==="opcoes"?(a.width="100px",a.minWidth="100px",a.textAlign="center"):e.tipo==="booleano"?(a.width="50px",a.minWidth="50px",a.textAlign="center"):(a.width="100px",a.textAlign="right"),a}function ir(e,o){const a=za(e,o);return a.fontWeight="bold",a.textAlign="center",a}function Na(e,o=!1){const a=[];return o?a.push(ge.Coluna.Fixa):e.editavel?a.push(ge.Coluna.Editavel):e.calculada&&a.push(ge.Coluna.Calculada),a.join(" ").trim()}function rr(e,o=!1){return Na(e,o)}function lr(e,o=0,a=[]){const t=`${nr(e)}%`;return e.map((n,i)=>{const l=i+1<=o;return{...n,fixa:l,ocultar:a.length>0?!a.includes(n.nome):!1,estilos:za(n,t),estilosCabecalho:ir(n,t),classes:Na(n,l),classesCabecalho:rr(n,l)}})}function go(e){return Ma(e)>0?{width:"50px"}:{width:"100%"}}const sr={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},cr={style:{"min-width":"20px"}},ur=["colspan"],dr=V("div",null,[V("span",null," Utilize a linha abaixo para adicionar novos registros ")],-1),mr=[dr],fr={key:1},pr=["colspan"],vr=le({__name:"CecalcPlanilha",props:{configColunas:{default:()=>[]},linhas:{default:()=>[]},colunasVisiveis:{default:()=>[]},congelarColunas:{default:0},altura:{default:"calc(100vh - 270px)"},novaLinha:{},nomeArquivoCsv:{},habilitarAlcaDeArrasto:{type:Boolean,default:!1},habilitarDesfazerRefazer:{type:Boolean,default:!0},teclaDelRemoveLinha:{type:Boolean,default:!1}},emits:["atualizarCelula","removerCelula","atualizarSelecao","removerSelecao","novaLinha","removerLinha","repetir","adicionar","click","dblclick"],setup(e,{expose:o,emit:a}){const t=e,n=H(()=>lr(t.configColunas,t.congelarColunas,t.colunasVisiveis).filter(d=>!d.ocultar)),i=T(null),l=T(!1),c=T(),s=T({col:-1,lin:-1}),{obterCelula:r,desativar:g,ativarCelula:y,selecionarArea:_,redefinirCaixaSelecao:h,celulaAtiva:D,obterPACelulaAtiva:u,obterPACelulaOposta:v,obterSelecaoOrdenada:E,converterPosicaoAR:m,converterPosicaoRA:C,selecionarColuna:S,selecionarLinha:O,selecionarTudo:k,dispararEfeitoCopia:N,plugarMouse:Y,plugarTeclado:B}=er({container:i,habilitarAlcaDeArrasto:t.habilitarAlcaDeArrasto,callbackAlcaDeArrasto:Wa}),G=or(i),{copy:se,copied:Ce,isSupported:xe}=bn({read:!0,source:"",copiedDuring:1500,legacy:!0}),{exportar:he}=qa(),{confirmacao:we,aviso:Se}=Mo(),A=ar();qe(()=>t.linhas.length,async d=>{await de(),d!==void 0&&(d===0?g():D.value?h():y())});function J(){Se("Operação não permitida",`A operação não pode ser realizada. O uso da área de transferência foi bloqueado pelo seu navegador.
Habilite a funcionalidade e tente de novo.`)}function ue(){return we("Confirmação","Os dados que você está tentando colar não são do mesmo tamanho de sua seleção. Deseja colar mesmo assim?")}function Ie(){D.value&&y(D.value)}async function Le(){const d=u();if(d){const b=m(d);if(b){const{col:w,lin:z}=b;s.value.col=w,s.value.lin=z}await de(),h()}}async function Oe(){s.value.lin=-1,s.value.col=-1,D.value&&D.value.focus(),await de(),h()}function Je(d){return Ve(d)&&d>=0&&d<t.linhas.length}function je(d){return Ve(d)&&d>=0&&d<n.value.length}function $e(d){return n.value[d].nome}function Ue(d){const b=m(d);if(!b)return;const{lin:w,col:z}=b;if(!Je(w)||!je(z))return;const j=t.linhas[w],U=$e(z);return{linha:j,nomeColuna:U}}function Me(d){const b=Ue(d);if(!b)return;const{linha:w,nomeColuna:z}=b;return w.celulas[z].valorFormatado}function io(d,b){if(!je(d)||!je(b))return Array.from({length:Math.max(d,b)-Math.min(d,b)+1}).fill("");const w=[];for(let z=Math.min(d,b);z<=Math.max(d,b);z++)w.push(n.value[z].rotulo);return w}function Be(d){const b=[],[w,z]=d;for(let j=w.lin;j<=z.lin;j++){const U=[];for(let K=w.col;K<=z.col;K++)U.push(Me({col:K,lin:j})||"");b.push(U)}return b}function f(d=!1){const b=E();if(Array.isArray(b)&&b.length){const w=Be(b);if(d){const[z,j]=b,U=m(z),K=m(j);if(U&&K){const $=io(U.col,K.col);w.unshift($)}}return w}return[]}async function F(){let d=await navigator.clipboard.readText();return d=d.replace(/\r/g,"").trim(),!d||!d.split(`
`).length?[]:d.split(`
`).map(b=>b.trim().split("	").map(z=>z.trim()))}function P(d,b,w){const z=t.linhas[b],j=$e(w),U=C({col:w,lin:b});if(!U)return;const K=Me(U)||"",$=async()=>{a("atualizarCelula",{linha:z,coluna:j,valor:d}),await de();const q=r(U);q&&y(q)},Z=async()=>{K?a("atualizarCelula",{linha:z,coluna:j,valor:K}):a("removerCelula",{linha:z,coluna:j}),await de();const q=r(U);q&&y(q)};A.registrarAcao($,Z),Oe()}function R(){const d=u();if(!d)return;const b=m(d);if(!b)return;const{lin:w}=b,z=t.linhas[w],j=async()=>{a("removerLinha",{linha:z}),await de();const K=r(d);K&&y(K)},U=async()=>{a("novaLinha",{linha:z}),await de();const K=r(d);K&&y(K)};A.registrarAcao(j,U)}function W(d){const b=m(d);if(!b)return;const{lin:w,col:z}=b,j=t.linhas[w],U=$e(z),K=Me(d)||"",$=async()=>{a("removerCelula",{linha:j,coluna:U}),await de();const q=r(d);q&&y(q)},Z=async()=>{a("atualizarCelula",{linha:j,coluna:U,valor:K}),await de();const q=r(d);q&&y(q)};A.registrarAcao($,Z)}function Q(d,b){const w=Be(b),[z,j]=b,[U,K]=[m(z),m(j)];if(!U||!K)return;const $=[];for(let pe=U.col;pe<=K.col;pe++){const Pe=$e(pe);$.push(Pe)}const Z=[],q=[];for(let pe=U.lin;pe<=K.lin;pe++){const Pe=t.linhas[pe],We={},po={};$.forEach((Jo,Wo)=>{We[Jo]=d[pe-U.lin][Wo],po[Jo]=w[pe-U.lin][Wo]}),Z.push({linha:Pe,valores:We}),q.push({linha:Pe,valores:po})}const Ee=()=>{a("atualizarSelecao",{itens:Z}),_(z,j)},be=()=>{a("atualizarSelecao",{itens:q}),_(z,j)};A.registrarAcao(Ee,be)}function oe(d){const b=Be(d),[w,z]=d,[j,U]=[m(w),m(z)];if(!j||!U)return;const K=[];for(let be=j.col;be<=U.col;be++){const pe=$e(be);K.push(pe)}const $=[],Z=[];for(let be=j.lin;be<=U.lin;be++){const pe=t.linhas[be];$.push(pe);const Pe={};K.forEach((We,po)=>{Pe[We]=b[be-j.lin][po]}),Z.push({linha:pe,valores:Pe})}const q=()=>{a("removerSelecao",{linhas:$,colunas:K}),_(w,z)},Ee=()=>{a("atualizarSelecao",{itens:Z}),_(w,z)};A.registrarAcao(q,Ee)}async function te(d=!1){if(!xe)return J();const w=f(d).map(z=>z.join("	")).join(`
`);await se(w),Ce.value&&N()}function fe(){te(!0)}async function ro(){if(!xe)return J();await te(),Ce.value&&mo()}async function lo(){if(!xe)return J();const d=E();if(Array.isArray(d)&&d[0]&&d[1]){const b=await F();if(!b.length)return;const[w,z]=d,j=z.lin-w.lin+1,U=z.col-w.col+1;if(b.length!==j||b[0].length!==U){if((j>1||U>1)&&!await ue())return;z.lin=w.lin+b.length-1,z.col=w.col+b[0].length-1}Q(b,[w,z])}}function mo(){const d=E(),[b,w]=d;b&&w&&(b.lin===w.lin&&b.col===w.col?W(b):oe([b,w]))}function fo(d,b){const[w,z]=b,[j,U]=[m(w),m(z)];if(!j||!U)return;const K=Be(b),$=$e(j.col),Z=[],q=[];for(let pe=j.lin;pe<=U.lin;pe++){const Pe=t.linhas[pe];q.push(Pe);const We=K[pe-j.lin][j.col];Z.push({linha:Pe,valores:{[$]:We}})}const Ee=()=>{a("repetir",{valor:d,coluna:$,linhas:q}),_(w,z)},be=()=>{a("atualizarSelecao",{itens:Z}),_(w,z)};A.registrarAcao(Ee,be)}function Ao(d){const{col:b,lin:w}=d,z=t.linhas.length-1;if(w===z)return{lin:w,col:b};const j=$e(b);let U=w;for(let K=w+1;K<=z;K++){const $=t.linhas[K].celulas[j].valor,Z=t.linhas[K].desabilitada;if($!=null&&$!==""||Z)break;U=K}return{lin:U,col:b}}function Io(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const b=Me(d);if(!b)return;const w=v();if(!w||w.lin===d.lin)return;const z=[{lin:Math.min(d.lin+1,w.lin),col:d.col},{lin:Math.max(d.lin+1,w.lin),col:d.col}];fo(b,z)}function Ja(){if(!t.habilitarAlcaDeArrasto)return;const d=u();if(!d)return;const b=Me(d);if(!b)return;const w=m(d);if(!w)return;const z=Ao(w),j=C(z);if(!j)return;const U=[{lin:Math.min(d.lin+1,j.lin),col:d.col},{lin:Math.max(d.lin+1,j.lin),col:d.col}];fo(b,U)}function Ho(){t.habilitarDesfazerRefazer&&A.refazer()}function Go(){t.habilitarDesfazerRefazer&&A.desfazer()}function Yo(){const d=tr(t.configColunas,t.linhas),b=`${t.nomeArquivoCsv||"dados"}.csv`;he(d,b,"text/csv")}function Wa(d){d.type==="drop"&&Io(),d.type==="dblclick"&&Ja()}function Xa(d){const b=d.key,w=d.ctrlKey,z=/^[\dA-Za-z]$/.test(b);if(b==="Escape"){d.stopPropagation(),Oe();return}if(b==="Delete"||b==="Backspace"){if(d.stopPropagation(),t.teclaDelRemoveLinha)return R();mo();return}w&&(b==="c"||b==="C")&&te(),w&&(b==="v"||b==="V")&&lo(),w&&(b==="x"||b==="X")&&ro(),w&&(b==="y"||b==="Y")&&Ho(),w&&(b==="z"||b==="Z")&&Go(),!w&&(z||b==="F2")&&D.value&&Le(),B(d)}function Fo(d){if(d.type==="contextmenu"){d.preventDefault(),c.value=d.target||void 0,l.value=!0,Y(d);return}if(d.type==="click"){Y(d);const b=u();if(b){const w=Ue(b);if(!w)return;a("click",w),h()}return}if(d.type==="dblclick"){Y(d),Le();const b=u();if(b){const w=Ue(b);if(!w)return;a("dblclick",w)}}}o({gerarArquivoCsv:Yo});async function wo(d,b){a("adicionar",{valor:d,nomeColuna:b}),await de(),Ie()}return(d,b)=>{const w=pt,z=Fi,j=ki,U=Bi,K=Ji;return I(),L("div",{ref_key:"container",ref:i,class:"cecalc-planilha-container",style:ie({height:d.altura})},[V("table",null,[V("thead",null,[V("tr",null,[M(w,{onResize:Ie}),V("th",{class:ee(x(ge).Coluna.Fixa),onClick:b[0]||(b[0]=ke((...$)=>x(k)&&x(k)(...$),["self"]))},[_o(d.$slots,"acoes-canto-superior")],2),(I(!0),L(me,null,Fe(x(n),$=>(I(),L("th",{key:`cab-${$.nome}`,class:ee($.classesCabecalho),style:ie($.estilosCabecalho),onClick:b[1]||(b[1]=ke(Z=>x(S)(Z.target),["self"]))},Ae($.rotulo),7))),128))])]),V("tbody",{onMousedown:b[4]||(b[4]=(...$)=>x(Y)&&x(Y)(...$)),onClick:Fo,onDblclick:Fo,onMouseover:b[5]||(b[5]=(...$)=>x(Y)&&x(Y)(...$)),onContextmenu:Fo,onKeydown:Xa},[(I(!0),L(me,null,Fe(d.linhas,($,Z)=>(I(),L("tr",{key:`lin-${Z}`,class:ee({desabilitada:$.desabilitada})},[V("th",{class:ee(x(ge).Coluna.Fixa),style:ie(x(go)(d.configColunas)),onClick:b[2]||(b[2]=ke(q=>x(O)(q.target),["self"]))},[V("div",sr,[V("div",cr,Ae(Z+1),1),_o(d.$slots,"acoes-primeira-coluna",{linha:$,indexLinha:Z,selecionarLinha:x(O)})])],6),(I(!0),L(me,null,Fe(x(n),(q,Ee)=>(I(),L(me,{key:`cel-${Z}-${Ee}`},[q.editavel&&q.tipo==="booleano"?(I(),re(z,{key:0,tabindex:"0","model-value":$.celulas[q.nome].valor,desabilitar:$.desabilitada,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):q.editavel&&q.tipo==="opcoes"?(I(),re(j,{key:1,tabindex:"0","model-value":$.celulas[q.nome].valor,opcoes:q.opcoes,desabilitar:$.desabilitada,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):q.editavel&&q.tipo!=="opcoes"&&q.tipo!=="booleano"?(I(),re(U,{key:2,nome:`${q.nome}-${Z}`,tabindex:"0","model-value":$.celulas[q.nome].valorFormatado,placeholder:q.placeholder,tipo:q.tipo,desabilitar:$.desabilitada,editando:x(s).col===Ee&&x(s).lin===Z,class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos)),onEdicaoConcluida:Oe,onValorAtualizado:ke(be=>P(be,Z,Ee),["self"])},null,8,["nome","model-value","placeholder","tipo","desabilitar","editando","class","style","onValorAtualizado"])):(I(),L("td",{key:3,tabindex:"0",class:ee(`${q.classes} ${$.celulas[q.nome].classes}`),style:ie(Object.assign(q.estilos||{},$.celulas[q.nome].estilos))},Ae($.celulas[q.nome].valorFormatado||q.placeholder),7))],64))),128))],2))),128)),M(K,{modelValue:x(l),"onUpdate:modelValue":b[3]||(b[3]=$=>Ke(l)?l.value=$:null),"habilitar-desfazer-refazer":d.habilitarDesfazerRefazer,target:x(c),offset:[-30,10],onCopiar:te,onRecortar:ro,onColar:lo,onDesfazer:Go,onRefazer:Ho,onCopiarComCabecalhos:fe,onGerarCsv:Yo},null,8,["modelValue","habilitar-desfazer-refazer","target"])],32),V("tfoot",{onClick:b[6]||(b[6]=(...$)=>x(G).plugarMouse&&x(G).plugarMouse(...$)),onKeydown:b[7]||(b[7]=(...$)=>x(G).plugarTeclado&&x(G).plugarTeclado(...$))},[d.novaLinha&&d.novaLinha.celulas?(I(),L(me,{key:0},[V("tr",null,[V("th",{class:ee(x(ge).Coluna.Fixa),style:ie(x(go)(d.configColunas))},"   ",6),V("td",{colspan:x(n).length},mr,8,ur)]),V("tr",null,[V("th",{class:ee(x(ge).Coluna.Fixa),style:ie(x(go)(d.configColunas))},"   ",6),(I(!0),L(me,null,Fe(x(n),($,Z)=>(I(),L(me,{key:`nova-linha-col-${Z}`},[($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo==="booleano"?(I(),re(z,{key:0,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valor,desabilitar:d.novaLinha.desabilitada,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["model-value","desabilitar","class","style","onValorAtualizado"])):($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo==="opcoes"?(I(),re(j,{key:1,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valor,opcoes:$.opcoes,"incluir-opcao-vazia":!0,desabilitar:d.novaLinha.desabilitada,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["model-value","opcoes","desabilitar","class","style","onValorAtualizado"])):($.editavel||d.novaLinha.celulas[$.nome].editavel)&&$.tipo!=="opcoes"&&$.tipo!=="booleano"?(I(),re(U,{key:2,nome:`${$.nome}-nova-linha`,tabindex:"0","model-value":d.novaLinha.celulas[$.nome].valorFormatado,placeholder:$.placeholder,tipo:$.tipo,desabilitar:d.novaLinha.desabilitada,editando:!0,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos)),onValorAtualizado:q=>wo(q,$.nome)},null,8,["nome","model-value","placeholder","tipo","desabilitar","class","style","onValorAtualizado"])):(I(),L("td",{key:3,class:ee(`${$.classes} ${d.novaLinha.celulas[$.nome].classes}`),style:ie(Object.assign($.estilos||{},d.novaLinha.celulas[$.nome].estilos))},Ae(d.novaLinha.celulas[$.nome].valorFormatado||$.placeholder),7))],64))),128))])],64)):d.linhas.length?eo("",!0):(I(),L("tr",fr,[V("th",{class:ee(x(ge).Coluna.Fixa),style:ie(x(go)(d.configColunas))},"   ",6),V("td",{colspan:x(n).length}," Nenhum dado disponível. ",8,pr)]))],32)])],4)}}});const gr={[ye.NaoComputar]:{[p.Masculino]:0,[p.Feminino]:0},[ye.Comum]:{[p.Masculino]:1,[p.Feminino]:1},[ye.Especial25]:{[p.Masculino]:4,[p.Feminino]:3},[ye.Especial20]:{[p.Masculino]:5,[p.Feminino]:5},[ye.Especial15]:{[p.Masculino]:6,[p.Feminino]:6},[ye.DeficienciaGrave]:{[p.Masculino]:4,[p.Feminino]:5},[ye.DeficienciaModerada]:{[p.Masculino]:3,[p.Feminino]:4},[ye.DeficienciaLeve]:{[p.Masculino]:2,[p.Feminino]:2}};function hr(e,o){if(!ve(e.dataInicial))throw new Error(`Período ${o+1}: data inicial inválida.`);if(!ve(e.dataFinal))throw new Error(`Período ${o+1}: data final inválida.`);if(e.dataFinal.valueOf()<e.dataInicial.valueOf())throw new Error(`Período ${o+1}: data final anterior à data inicial.`);return e}function fa(e){return{...e,dataInicial:new Date(e.dataInicial.valueOf()),dataFinal:new Date(e.dataFinal.valueOf())}}function pa(e,o){return gr[e.formaContagem][o]}function va(e){return new Ne(e).adicionar(1,zo.Dias).nativo()}function br(e){return new Ne(e).adicionar(-1,zo.Dias).nativo()}function Po(e,o){const a=e.dataInicial.valueOf()<=o.dataInicial.valueOf(),t=a?e:o,n=a?o:e;return t.dataInicial.valueOf()<=n.dataFinal.valueOf()&&n.dataInicial.valueOf()<=t.dataFinal.valueOf()}function ga(e,o){return e.dataInicial.valueOf()>=o.dataInicial.valueOf()&&e.dataFinal.valueOf()<=o.dataFinal.valueOf()}function La(e,o){if(Array.isArray(o)&&o.length>1){const a=o[e];return o.some((t,n)=>n!==e?Po(a,t):!1)}return!1}function _r(e,o){const a=Ge();if(!Array.isArray(e)||!e.length)return[];if(e.length===1)return e[0].excluido?[]:e;if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const t=e.filter(i=>!i.excluido).map(hr),n=[];for(let i=0;i<t.length;i++){let l=fa(t[i]);if(a.console.log(">>> atual",l),n.length){const s=n[n.length-1];if(Po(s,l)){if(ga(l,s)){a.console.log(">>> descartado desde logo, por concomitância com",s);continue}l.dataInicial=va(s.dataFinal),a.console.log(">>> ajustado",l)}}const c=pa(l,o);a.console.log(">>> peso",c);for(let s=i+1;s<t.length;s++){const r=t[s];if(Po(l,r)&&(l.prioritario<r.prioritario||c<pa(r,o))){if(a.console.log(">>> são concomitantes"),ga(l,r)){a.console.log(">>> continência"),l=null;break}if(l.dataInicial.valueOf()<r.dataInicial.valueOf()){a.console.log(">>> sobra anterior");const g=fa(l);g.dataFinal=br(r.dataInicial),n.push(g)}if(l.dataFinal.valueOf()>r.dataFinal.valueOf())a.console.log(">>> sobra posterior"),l.dataInicial=va(r.dataFinal);else{a.console.log(">>> descarta-se"),l=null;break}}}l!==null&&n.push(l)}return n.sort((i,l)=>i.dataInicial.valueOf()-l.dataInicial.valueOf())}const Cr=["id","dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],yr=["ID","Início","Término","Descrição","Forma de Contagem","Prioritário","Contar Carência","Fonte","Concomitância"],xr=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte","concomitancia"],$r=["dataInicial","dataFinal","descricao","formaContagem","prioritario","contarCarencia","fonte"],{obterOpcoesFormaDeContagem:Dr}=qo(),Ar=Dr();function Ir(e){return e==="dataInicial"||e==="dataFinal"?"data":e==="prioritario"||e==="contarCarencia"?"booleano":e==="formaContagem"?"opcoes":"texto"}function Fr(e,o,a){return o.nome==="concomitancia"?e===!0?"SIM":"":o.nome==="descricao"||o.nome==="fonte"||o.nome==="id"?e:o.nome==="dataInicial"||o.nome==="dataFinal"?a.data(e):o.nome==="formaContagem"||o.nome==="prioritario"||o.nome==="contarCarencia"?e:`${e}`}function wr(e,o,a){return o.excluido?ge.Celula.Desabilitada:o.formaContagem===ye.NaoComputar||e.nome==="contarCarencia"&&!o.contarCarencia?ge.Celula.Desconsiderada:e.nome==="formaContagem"&&o.formaContagem!==ye.Comum?ge.Celula.ValorIncluidoPeloUsuario:e.nome==="concomitancia"&&a===!0?"text-center bg-red-1 text-red-10":""}function Sr(e){const o={};return e==="formaContagem"&&(o.width="200px"),e==="concomitancia"&&(o.textAlign="center"),o}function Er(){return Cr.map((e,o)=>{const a=e==="formaContagem"?Ar:void 0;return{nome:e,rotulo:yr[o],tipo:Ir(e),editavel:$r.includes(e),calculada:e==="concomitancia",placeholder:"",opcoes:a}})}function kr(){return xr}function Tr(e,o,a){return o.map((t,n)=>{const i=t.excluido,l=e.reduce((c,s)=>{const r=s.nome,g=s.nome==="concomitancia"?La(n,o):t[r],y=Fr(g,s,a),_=i?ge.Celula.Desabilitada:wr(s,t,g),h=Sr(s.nome);return c[s.nome]={valor:g,valorFormatado:y,classes:_,estilos:h},c},{});return{desabilitada:i,celulas:l}})}function ha(e){return{desabilitada:!1,celulas:e.reduce((a,t)=>{const i="",l="",c={};return a[t.nome]={valor:void 0,valorFormatado:i,classes:l,estilos:c},a},{})}}function ba(e,o){return o==="dataInicial"||o==="dataFinal"?new Ne(e).nativo():o==="formaContagem"||o==="prioritario"||o==="contarCarencia"?e:`${e}`}function _a(){return{dataInicial:void 0,dataFinal:void 0,descricao:"",formaContagem:ye.Comum,contarCarencia:!0,fonte:"",excluido:!1,prioritario:!1}}const Vr={class:"q-pl-sm"},Or=le({__name:"TcPeriodos",setup(e){const o=T(),a=Ge(),t=No(),n=uo(),i=Er(),l=kr(),c=H(()=>Tr(i,n.lista,t));let s=T(ha(i)),r=_a();function g(C,S,O){const k=n.obterPorId(C);if(!k)return;let N;try{N=ba(O,S)}catch(Y){a.erro(Y)}if(N!==void 0){if(S==="dataInicial"&&N.valueOf()>k.dataFinal.valueOf()||S==="dataFinal"&&N.valueOf()<k.dataInicial.valueOf())return;n.atualizar(C,{...k,[S]:N})}}function y({linha:C,coluna:S,valor:O}){const k=C.celulas.id.valor;g(k,S,O)}function _({itens:C}){C.forEach(S=>{const{linha:O,valores:k}=S,N=O.celulas.id.valor;Object.entries(k).forEach(([Y,B])=>{g(N,Y,B)})})}function h({linha:C}){n.remover(C.celulas.id.valor)}function D({linha:C}){const S={dataInicial:C.celulas.dataInicial.valor,dataFinal:C.celulas.dataFinal.valor,descricao:C.celulas.descricao.valor,contarCarencia:C.celulas.contarCarencia.valor,excluido:C.celulas.excluido.valor,fonte:C.celulas.fonte.valor,formaContagem:C.celulas.formaContagem.valor,prioritario:C.celulas.prioritario.valor};n.adicionar(S)}function u({linhas:C}){C.forEach(S=>{n.remover(S.celulas.id.valor)})}async function v({valor:C,nomeColuna:S}){const O=S==="fonte";let k;try{vt(C)&&(k=ba(C,S))}catch(N){a.erro(N)}if(k!==void 0?(s.value.celulas[S].valorFormatado=C,r[S]=k):(s.value.celulas[S].valorFormatado="",r[S]=void 0),await de(),O&&r.dataInicial&&r.dataFinal&&r.descricao){if(r.dataInicial.valueOf()>r.dataFinal.valueOf()){const N=r.dataInicial;r.dataInicial=r.dataFinal,r.dataFinal=N}s=T(ha(i)),n.adicionar({...r}),r=_a()}}function E(C){n.alterarStatusExcluido(C.celulas.id.valor,!0)}function m(C){n.alterarStatusExcluido(C.celulas.id.valor,!1)}return(C,S)=>{const O=yo;return I(),re(vr,{ref_key:"planilha",ref:o,"config-colunas":x(i),linhas:x(c),"colunas-visiveis":x(l),"congelar-colunas":0,"nome-arquivo-csv":"VinculosRVT",altura:"auto","tecla-del-remove-linha":!0,"nova-linha":x(s),onAtualizarCelula:y,onAtualizarSelecao:_,onRemoverSelecao:u,onAdicionar:v,onRemoverLinha:h,onNovaLinha:D},{"acoes-primeira-coluna":X(({linha:k})=>[V("div",Vr,[k.desabilitada?(I(),re(O,{key:0,round:"",flat:"",icon:"mdiRefresh"in C?C.mdiRefresh:x(_n),size:"sm",title:"Restabelecer vínculo",onClick:N=>m(k)},null,8,["icon","onClick"])):(I(),re(O,{key:1,round:"",flat:"",icon:"mdiCloseThick"in C?C.mdiCloseThick:x(Cn),size:"sm",color:"red-8",title:"Excluir vínculo",onClick:N=>E(k)},null,8,["icon","onClick"]))])]),_:1},8,["config-colunas","linhas","colunas-visiveis","nova-linha"])}}}),Ba=e=>(Ea("data-v-17b9653d"),e=e(),ka(),e),Pr={class:"row justify-between items-center content-center q-mb-sm"},qr=Ba(()=>V("span",{class:"text-subtitle1 text-bold text-grey-8",style:{"vertical-align":"middle"}},"Área de Transferência",-1)),Mr=Ba(()=>V("div",null,"Cole abaixo o conteúdo copiado (Ctrl-C)",-1)),zr=le({__name:"CecalcImportador",props:{nome:{},rotulo:{},aceitos:{},plugins:{},carregando:{type:Boolean}},emits:["arquivoLido","textoLido","erroTipo","erroOutro"],setup(e,{emit:o}){const a=T(null),t=T(!1);function n(){var r,g;(r=a.value)==null||r.resetValidation(),(g=a.value)==null||g.pickFiles()}async function i(r){if(r=r.replace(/\r\n/g,`
`),typeof r=="string"&&r.length)try{return o("textoLido",r)}catch{o("erroOutro")}}async function l(){i(await window.navigator.clipboard.readText())}function c(r){const y=r.target.value;t.value=!1,i(y)}function s(r){if(r[0].failedPropValidation==="accept")return o("erroTipo");o("erroOutro")}return(r,g)=>{const y=bo,_=yo,h=Co,D=Ln,u=gt;return I(),re(u,{class:"column full-width"},{default:X(()=>[M(x(zn),{ref_key:"picker",ref:a,"model-value":null,class:"col",label:r.rotulo,accept:r.aceitos,square:"",outlined:"","no-error-icon":"","hide-bottom-space":!0,loading:r.carregando,disable:r.carregando,color:"grey-9","bg-color":"grey-1","label-color":"grey-9",title:"Clique para importar um arquivo",onRejected:s,"onUpdate:modelValue":g[2]||(g[2]=v=>o("arquivoLido",v))},{prepend:X(()=>[M(y,{name:"mdiFolderOpen"in r?r.mdiFolderOpen:x(yn),color:"grey-7 cursor-pointer",title:"Clique para importar um arquivo",onClick:ke(n,["stop","prevent"])},null,8,["name","onClick"])]),append:X(()=>[V("div",null,[M(_,{icon:x(xn),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:r.carregando,title:"Abrir caixa de texto"},{default:X(()=>[M(D,{modelValue:x(t),"onUpdate:modelValue":g[1]||(g[1]=v=>Ke(t)?t.value=v:null),class:"q-pa-md"},{default:X(()=>[V("div",Pr,[V("div",null,[M(y,{name:x(ta),size:"22px",class:"q-mr-sm",color:"grey-8"},null,8,["name"]),qr]),M(_,{round:"",flat:"",dense:"",size:"sm",icon:x($n),color:"grey-8",onClick:g[0]||(g[0]=v=>t.value=!1)},null,8,["icon"])]),M(h,{flat:""},{default:X(()=>[Mr,V("textarea",{class:"caixa-colagem",onInput:c},null,32)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"]),M(_,{icon:x(ta),round:"",class:"cursor-pointer q-ml-sm",color:"grey-3","text-color":"grey-7",disable:r.carregando,title:"Clique para colar da área de transferência",onClick:l},null,8,["icon","disable"])])]),_:1},8,["label","accept","loading","disable"])]),_:1})}}});const Nr=He(zr,[["__scopeId","data-v-17b9653d"]]);function Lr(e){const o=new Yn(e);return Dn({script:[{src:ht,onload:()=>{window&&"pdfjsLib"in window&&o.leitorDeArquivo.carregarPdfjs(window.pdfjsLib,bt)}}]},{mode:"client"}),o}const Br={class:"row"},Rr={style:{width:"350px"},class:"col"},jr=le({__name:"TcImportar",props:{modelValue:Boolean},setup(e){const o=Ge(),a=[_t,Ct,yt,xt,$t],t=Lr(a),{erro:n,confirmacao:i}=Mo(),l=uo(),c=Do(),s=T(!1);function r(u){const{processo:v,citacao:E,ajuizamento:m,autor:C,reu:S}=u;Ta(v)&&c.$patch(O=>O.numeroProcesso=v),ve(E)&&c.$patch(O=>O.citacao=E),ve(m)&&c.$patch(O=>O.ajuizamento=m),Te(C)&&c.$patch(O=>O.autor=C),Te(S)&&c.$patch(O=>O.reu=S)}function g(u){u.vinculos.forEach(v=>{const{seq:E,dataInicial:m,dataFinal:C,entidade:S}=v;l.adicionar({dataInicial:m,dataFinal:C??m,descricao:S||"-- não foi possível identificar --",formaContagem:ye.Comum,contarCarencia:!0,fonte:`CNIS (seq. ${E})`,excluido:!1,prioritario:!1})})}function y(u){u.forEach(v=>{const{dataInicial:E,dataFinal:m,descricao:C}=v;l.adicionar({dataInicial:E,dataFinal:m??E,descricao:C,formaContagem:ye.Comum,contarCarencia:!0,fonte:"usuário",excluido:!1,prioritario:!1})})}async function _(u){s.value=!0;let v;try{v=await t.ler(u)}catch(E){return s.value=!1,o.erro(E),n("Erro",E.message)}if(s.value=!1,v&&v.identificado&&Array.isArray(v.quadroResumo)){const E=`Dados identificados: ${v.nome}`,m=v.quadroResumo.map(S=>`${S[0]} <b>${S[1]}</b>`).join("<br>");if(await i(E,m,"Importar")){if(v.nome==="Dados do PJe")return r(v.dadosEstruturados);if(v.nome==="CNIS Completo"||v.nome==="CNIS Vínculos"||v.nome==="Meu INSS")return g(v.dadosEstruturados);if(v.nome==="Tempo de Contribuição (Simples)")return y(v.dadosEstruturados);n("Erro de leitura",`
        Os dados foram reconhecidos, mas não o tipo de documento.
        <br>
        Favor reportar este erro à CECALC, enviando, se possível, uma amostra do documento utilizado.
      `)}}else n("Dados não reconhecidos",`
      Neste site, os dados aceitos são apenas os seguintes:<br>
      <ul>
        <li>capa do processo do PJe;</li>
        <li>CNIS (Meu INSS, PrevJud e vínculos);</li>
        <li>períodos de contribuição simples</li>
      </ul>
    `)}function h(){n("Erro de arquivo",'Somente são permitidos arquivos "pdf" e "txt".')}function D(){n("Falha de leitura","Arquivo/documento inválido.")}return(u,v)=>{const E=Nr;return I(),L("div",Br,[V("div",Rr,[M(E,{nome:"importar-dados-tc",class:"q-pa-xs",rotulo:"Importar Dados",aceitos:"application/pdf,text/plain",plugins:a,carregando:x(s),onArquivoLido:v[0]||(v[0]=m=>_(m)),onTextoLido:v[1]||(v[1]=m=>_(m)),onErroTipo:v[2]||(v[2]=m=>h()),"onErro:outro":v[3]||(v[3]=m=>D())},null,8,["carregando"])])])}}}),Ur=""+new URL("logo_jfsp_preto.e40a70d5.png",import.meta.url).href;const Qr={},Kr={class:"cecalc-relatorio-logo-container"},Hr=V("div",{class:"cecalc-relatorio-logo-esquerda"},[V("img",{src:Ur,alt:"logo jfsp"}),V("div",{class:"cecalc-relatorio-titulo-logo-texto"},[V("span",null,"Central Unificada de Cálculos Judiciais - CECALC"),V("span",null,"Seção Judiciária de São Paulo")])],-1);function Gr(e,o){return I(),L("div",Kr,[Hr,V("div",null,[_o(e.$slots,"info")])])}const Ra=He(Qr,[["render",Gr]]),Yr={class:"cecalc-relatorio-titulo-container"},Jr={class:"cecalc-relatorio-titulo-nome"},ja=le({__name:"CecalcRelatorioTitulo",props:{titulo:{default:""}},setup(e){return(o,a)=>(I(),L("div",Yr,[V("div",Jr,Ae(o.titulo),1)]))}});const Wr={class:"cecalc-relatorio-subtitulo"},Xr=le({__name:"CecalcRelatorioSubtitulo",props:{subtitulo:{default:""}},setup(e){return(o,a)=>(I(),L("div",Wr,Ae(o.subtitulo),1))}});const Zr={class:"cecalc-relatorio-tabela"},Ua=le({__name:"CecalcRelatorioTabela",props:{titulo:{default:"Demonstrativo"},colunas:{default:()=>[]},linhas:{default:()=>[]}},setup(e){return(o,a)=>{const t=Xr;return I(),L(me,null,[M(t,{subtitulo:o.titulo},null,8,["subtitulo"]),V("table",Zr,[V("thead",null,[V("tr",null,[(I(!0),L(me,null,Fe(o.colunas,n=>(I(),L("th",{key:`coluna-${n.nome}`,class:ee(n.classes),style:ie(n.estilos)},Ae(n.rotulo),7))),128))])]),V("tbody",null,[(I(!0),L(me,null,Fe(o.linhas,(n,i)=>(I(),L("tr",{key:`linha-${i}`},[(I(!0),L(me,null,Fe(o.colunas,l=>(I(),L("td",{key:`celula-${i}-${l.nome}`,class:ee(n[l.nome].classes),style:ie(n[l.nome].estilos)},Ae(n[l.nome].valor),7))),128))]))),128))])])],64)}}});const el={class:"cecalc-demonstrativo-pagina-botao-container"},Qa=le({__name:"CecalcRelatorioPagina",props:{paisagem:{type:Boolean}},setup(e){const o=e,a=$a(),t=T();function n(l){Array.from(document.styleSheets).forEach(c=>{if(c.cssRules){const s=document.createElement("style");Array.from(c.cssRules).forEach(r=>{s.append(document.createTextNode(r.cssText))}),l.head.append(s)}else if(c.href){const s=document.createElement("link");s.rel="stylesheet",s.href=c.href,l.head.append(s)}})}function i(){if(!t.value)return;const l=`
  <!DOCTYPE html>
  <html lang="pt-BR">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Demonstrativo ${a.nome}</title>
      <style>
        @page {
          size: a4 ${o.paisagem?"landscape":"portrait"};
        }
      </style>
    </head>
    <body>
      ${t.value.outerHTML}
    </body>
  </html>
  `,c=window.open(" ","_blank");c&&(c.document.write(l),n(c.document),setTimeout(()=>{c.print(),c.close()},50))}return(l,c)=>(I(),L("div",{class:ee(["cecalc-demonstrativo-pagina-container",{paisagem:l.paisagem}])},[V("div",{ref_key:"areaImpressao",ref:t,class:"cecalc-demonstrativo-pagina"},[V("div",el,[M(x(yo),{"fab-mini":"",dense:"","no-caps":"",icon:"mdiPrinter"in l?l.mdiPrinter:x(An),color:"white",class:"text-red-10",title:"Imprimir/Salvar em PDF",onClick:i},null,8,["icon"])]),_o(l.$slots,"default")],512)],2))}});function Ca(e){e=Math.trunc(e);const o=Math.trunc(e/360),a=Math.trunc((e-o*360)/30),t=e-360*o-30*a;return[o,a,t]}function ol(e,o){const a=o[e];if(!a.contarCarencia)return[!1,!1];const t=e>0&&o.slice(0,e-1).some(i=>i.contarCarencia&&Zo(a.dataInicial,i.dataFinal)),n=e<o.length-1&&o.slice(e+1).some(i=>i.contarCarencia&&Zo(a.dataFinal,i.dataInicial));return[t,n]}function al(e,o,a,t){const n=It(e,o,zo.Meses),i=Number(a)+Number(t);return Math.max(0,n+1-i)}function tl(e,o){if(o===void 0)throw new Error('O campo "sexo" é obrigatório.');const{obterFatorConversao:a}=qo();return e.map((t,n)=>{const i={...t,fatorConversao:1,sAnos:0,sMeses:0,sDias:0,cAnos:0,cMeses:0,cDias:0,carencia:0};if(!i.excluido&&i.formaContagem!==ye.NaoComputar){const c=Dt(t.dataInicial,t.dataFinal,At.Excel)+1,[s,r,g]=Ca(c);i.sAnos=s,i.sMeses=r,i.sDias=g;const[y,_]=ol(n,e);i.carencia=i.contarCarencia?al(i.dataInicial,i.dataFinal,y,_):0,i.fatorConversao=a(i.formaContagem,o);const[h,D,u]=Ca(c*i.fatorConversao);i.cAnos=h,i.cMeses=D,i.cDias=u}return i})}function nl(){const e=Do(),{sexo:o}=Sa(e),a=uo(),t=H(()=>_r(a.lista,o.value)),n=H(()=>tl(t.value,o.value));return{periodosProcessados:t,periodosCalculados:n}}const ko={Tabela:{Celula:{Desabilitada:"cecalc-relatorio-tabela-celula-desabilitada",Desconsiderada:"cecalc-relatorio-tabela-celula-desconsiderada",ValorIncluidoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-incluido",ValorModificadoPeloUsuario:"cecalc-relatorio-tabela-celula-valor-modificado",Atencao:"cecalc-relatorio-tabela-celula-atencao",Verificada:"cecalc-relatorio-tabela-celula-verificada",ValorElevado:"cecalc-relatorio-tabela-celula-valor-elevado",ValorLimitado:"cecalc-relatorio-tabela-celula-valor-limitado"}}},il=["dataInicial","dataFinal","descricao","formaContagem","fonte","concomitancia"],rl=["Início","Término","Descrição","Forma de Contagem","Fonte","Concomitância"],Uo=["dataInicial","dataFinal"],Qo=["sAnos","sMeses","sDias"],Ko=["cAnos","cMeses","cDias"],ya=["Anos","Meses","Dias"],ll=["dataInicial","dataFinal","descricao","formaContagem",...Qo,"fatorConversao",...Ko,"carencia","fonte"],sl=["Início","Término","Descrição","Forma de Contagem",...ya,"Fator Conv.",...ya,"Carência","Fonte"];function Ka(e){return Uo.includes(e)||e==="concomitancia"?{width:"70px"}:e==="descricao"||e==="fonte"?{width:"100%"}:e==="formaContagem"?{width:"100px"}:e==="fatorConversao"||Qo.includes(e)||Ko.includes(e)?{width:"50px"}:{}}function Ha(e){return Uo.includes(e)||e==="fonte"||e==="concomitancia"?{width:"70px",textAlign:"center"}:e==="descricao"||e==="fonte"?{width:"100%",textAlign:"left"}:e==="formaContagem"?{width:"100px",textAlign:"center"}:e==="fatorConversao"?{width:"50px",textAlign:"center"}:e==="carencia"||Qo.includes(e)||Ko.includes(e)?{width:"50px",textAlign:"right"}:{}}function Ga(e,o,a=!1){return e.nome==="concomitancia"&&a?ko.Tabela.Celula.Atencao:o.formaContagem===ye.NaoComputar||o.excluido?ko.Tabela.Celula.Desabilitada:o.formaContagem!==ye.Comum?ko.Tabela.Celula.ValorIncluidoPeloUsuario:""}function Ya(e,o,a,t){return Uo.includes(o.nome)?t.data(e):o.nome==="formaContagem"?t.formaContagem(e):o.nome==="fatorConversao"?t.numero(e,2):`${e}`}function cl(){return il.map((e,o)=>({nome:e,rotulo:rl[o],classes:"",estilos:Ka(e)}))}function ul(e,o,a){return o.map((t,n)=>{const i=La(n,o);return e.reduce((l,c)=>{const s=c.nome,r=c.nome==="concomitancia"?i?"Sim":"":Ya(t[s],c,t,a),g=Ga(c,t,i),y=Ha(c.nome);return l[c.nome]={valor:r,classes:g,estilos:y},l},{})})}function dl(){return ll.map((e,o)=>({nome:e,rotulo:sl[o],classes:"",estilos:Ka(e)}))}function ml(e,o,a){return o.map(t=>e.reduce((n,i)=>{const l=i.nome,c=Ya(t[l],i,t,a),s=Ga(i,t),r=Ha(i.nome);return n[i.nome]={valor:c,classes:s,estilos:r},n},{}))}const fl=le({__name:"TcDemonstrativo",setup(e){const o=nl(),a=No(),t=T(""),n=dl(),i=H(()=>{try{return t.value="",ml(n,o.periodosCalculados.value,a)}catch(l){return t.value=l.message,[]}});return(l,c)=>{const s=Ra,r=ja,g=Ua,y=Qa;return I(),L("div",null,[M(y,{paisagem:!0},{default:X(()=>[M(s),M(r,{titulo:"Cálculo de Tempo de Contribuição"}),M(g,{titulo:"Períodos Calculados",colunas:x(n),linhas:x(i)},null,8,["colunas","linhas"])]),_:1})])}}}),pl=le({__name:"TcEspelho",setup(e){const o=uo(),a=No(),t=cl(),n=H(()=>ul(t,o.lista,a));return(i,l)=>{const c=Ra,s=ja,r=Ua,g=Qa;return I(),L("div",null,[M(g,{paisagem:!1},{default:X(()=>[M(c),M(s,{titulo:"Tempo de Contribuição Informado (Espelho)"}),M(r,{titulo:"Períodos Informados",colunas:x(t),linhas:x(n)},null,8,["colunas","linhas"])]),_:1})])}}}),vl={class:"row items-center q-pa-md"},gl={class:"row items-center col-xl-10 col-lg-10 col-md-9 col-sm-9 col-xs-12"},hl={class:"row col-xl-2 col-lg-2 col-md-3 col-sm-3 col-xs-12"},bl={class:"q-px-sm"},_l=le({__name:"TcPrincipal",setup(e){const o=T(),a=T(),t=T(),n=T(),i=T(!1),l=H(()=>i.value?"auto":"calc(100vh - 350px)"),c=T("parametros"),s=In();function r(){o.value&&o.value.$el&&(i.value=!i.value,s.fullscreen.toggle(o.value.$el))}async function g(y){await de(),y==="espelho"?t.value&&t.value.$el&&t.value.$el.focus():n.value&&n.value.$el&&n.value.$el.focus()}return(y,_)=>{const h=Ft,D=yo,u=wt,v=St,E=Et,m=xi,C=$i,S=kt,O=Or,k=Tt;return I(),re(x(Co),{ref_key:"container",ref:o,flat:"",bordered:"",square:"",class:"scroll overflow-auto"},{default:X(()=>[V("div",vl,[V("div",gl,[M(jr,{ref_key:"importador",ref:a},null,512)]),V("div",hl,[M(h),V("div",null,[M(D,{color:"grey-4","text-color":"grey-8",round:"",flat:"",icon:x(i)?x(Fn):x(wn),title:x(i)?"Clique para retornar ao tamanho normal":"Clique para expandir a planilha",onClick:r},null,8,["icon","title"])])])]),V("div",bl,[M(E,null,{default:X(()=>[M(v,{modelValue:x(c),"onUpdate:modelValue":_[2]||(_[2]=N=>Ke(c)?c.value=N:null),dense:"","no-caps":"",align:"left","indicator-color":"blue-10","active-color":"blue-10","active-bg-color":"blue-1",class:"q-mx-md","left-icon":x(Sn),"right-icon":x(En)},{default:X(()=>[M(u,{name:"parametros",label:"Parâmetros",ripple:!1}),M(u,{name:"periodos",label:"Períodos",ripple:!1}),M(u,{name:"espelho",label:"Espelho",ripple:!1,onClick:_[0]||(_[0]=N=>g("espelho"))}),M(u,{name:"demonstrativo",label:"Demonstrativo",ripple:!1,onClick:_[1]||(_[1]=N=>g("demonstrativo"))})]),_:1},8,["modelValue","left-icon","right-icon"])]),_:1}),M(k,{modelValue:x(c),"onUpdate:modelValue":_[3]||(_[3]=N=>Ke(c)?c.value=N:null),"keep-alive":""},{default:X(()=>[M(S,{name:"parametros",style:ie({height:x(l)})},{default:X(()=>[M(C,null,{default:X(()=>[M(m)]),_:1})]),_:1},8,["style"]),M(S,{name:"periodos",style:ie({height:x(l)})},{default:X(()=>[M(C,null,{default:X(()=>[M(O)]),_:1})]),_:1},8,["style"]),M(S,{name:"espelho",style:ie({height:x(l)})},{default:X(()=>[M(C,null,{default:X(()=>[M(pl,{ref_key:"espelho",ref:t,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"]),M(S,{name:"demonstrativo",style:ie({height:x(l)})},{default:X(()=>[M(C,null,{default:X(()=>[M(fl,{ref_key:"demonstrativo",ref:n,tabindex:"-1",style:{outline:"none"}},null,512)]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])])]),_:1},512)}}});function Cl(){const e=$a(),o=qa(),a=uo(),t=Do();function n(){return a.temDadosCarregados()||t.temDadosCarregados()}function i(){a.reiniciar(),t.reiniciar(),t.numeroProcesso=""}function l(){const s={calculo:e.nome,versao:e.versao,timestamp:new Date().toISOString(),dados:{periodos:a.registros,parametros:{numeroProcesso:t.numeroProcesso,citacao:t.citacao,ajuizamento:t.ajuizamento,autor:t.autor,reu:t.reu,sexo:t.sexo,nascimento:t.nascimento,nb:t.nb,especie:t.especie,der:t.der,rural:t.rural,deficiente:t.deficiente,marcoCarencia:t.marcoCarencia,permitirConversaoAposEc103:t.permitirConversaoAposEc103,carenciaNecessariaAposEc103:t.carenciaNecessariaAposEc103,grauPreponderanteDeficiencia:t.grauPreponderanteDeficiencia,inicioPrimeiraDeficiencia:t.inicioPrimeiraDeficiencia,requisitoB41Deficiencia:t.requisitoB41Deficiencia,converterPeriodosB41Deficiencia:t.converterPeriodosB41Deficiente}}},r=JSON.stringify(s),g=(t.numeroProcesso||t.autor||"n_id").replace(/[\s.-]/g,"_");o.salvar(r,`TC_${g}.cecalc`)}async function c(s){const r=await o.abrir(s,n());if(r&&r.dados&&(i(),r.dados.periodos&&a.atualizarTodos(r.dados.periodos),r.dados.parametros)){const{numeroProcesso:g,citacao:y,ajuizamento:_,autor:h,reu:D,sexo:u,nascimento:v,nb:E,especie:m,der:C,rural:S,deficiente:O,marcoCarencia:k,permitirConversaoAposEc103:N,carenciaNecessariaAposEc103:Y,grauPreponderanteDeficiencia:B,inicioPrimeiraDeficiencia:G,requisitoB41Deficiencia:se,converterPeriodosB41Deficiente:Ce}=r.dados.parametros;t.numeroProcesso=g||"",t.citacao=y||null,t.ajuizamento=_||null,t.autor=h||"",t.reu=D||"",t.sexo=u||p.Feminino,t.nascimento=v||null,t.nb=E||"",t.especie=m||ho.AposentadoriaPorTempoDeContribuicao,t.der=C||null,t.rural=S||!1,t.deficiente=O||!1,t.marcoCarencia=k||oo.ImplementoIdade,t.permitirConversaoAposEc103=N??!1,t.carenciaNecessariaAposEc103=Y??!1,t.grauPreponderanteDeficiencia=B??Ze.DeficienciaLeve,t.inicioPrimeiraDeficiencia=G||null,t.requisitoB41Deficiencia=se||To.Art70CRegulamento,t.converterPeriodosB41Deficiente=Ce??!0}}return{temDadosCarregados:n,limparDados:i,salvar:l,abrir:c}}const Dl=le({__name:"index",setup(e){const o=Cl();function a(){return o.temDadosCarregados()}function t(){o.limparDados()}function n(){o.salvar()}function i(l){o.abrir(l)}return(l,c)=>{const s=_l,r=Vt;return I(),re(r,{"cb-tem-dados-carregados":a,"cb-novo-calculo":t,"cb-salvar-calculo":n,"cb-recuperar-calculo":i},{calculo:X(()=>[M(s)]),_:1})}}});export{Dl as default};
